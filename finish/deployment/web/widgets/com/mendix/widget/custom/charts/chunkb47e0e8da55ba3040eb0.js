webpackJsonpCharts([0],Array(164).concat([function(e,t,r){var a,n;a=[r,t,r(368)],void 0===(n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plots=r.Plots,t.newPlot=r.newPlot,t.purge=r.purge,t.relayout=r.relayout,t.register=r.register}.apply(t,a))||(e.exports=n)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var a=r(217),n=r(216),o=r(211),i=r(5),l=r(0),s=r(28),c=r(32),d=e.exports={};d.align=r(218),d.getCursor=r(219);var u=r(220);function h(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function f(e){return a(e.changedTouches?e.changedTouches[0]:e,document.body)}d.unhover=u.wrapped,d.unhoverRaw=u.raw,d.init=function(e){var t,r,a,u,p,g,v,m,y=e.gd,x=1,b=c.DBLCLICKDELAY,_=e.element;y._mouseDownTime||(y._mouseDownTime=0),_.style.pointerEvents="all",_.onmousedown=k,o?(_._ontouchstart&&_.removeEventListener("touchstart",_._ontouchstart),_._ontouchstart=k,_.addEventListener("touchstart",k,{passive:!1})):_.ontouchstart=k;var w=e.clampFn||function(e,t,r){return Math.abs(e)<r&&(e=0),Math.abs(t)<r&&(t=0),[e,t]};function k(o){o.preventDefault(),y._dragged=!1,y._dragging=!0;var i=f(o);t=i[0],r=i[1],v=o.target,g=o,m=2===o.buttons||o.ctrlKey,void 0===o.clientX&&void 0===o.clientY&&(o.clientX=t,o.clientY=r),(a=(new Date).getTime())-y._mouseDownTime<b?x+=1:(x=1,y._mouseDownTime=a),e.prepFn&&e.prepFn(o,t,r),n&&!m?(p=h()).style.cursor=window.getComputedStyle(_).cursor:n||(p=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(_).cursor),document.addEventListener("mousemove",T),document.addEventListener("mouseup",A),document.addEventListener("touchmove",T),document.addEventListener("touchend",A)}function T(a){a.preventDefault();var n=f(a),o=e.minDrag||s.MINDRAG,i=w(n[0]-t,n[1]-r,o),l=i[0],c=i[1];(l||c)&&(y._dragged=!0,d.unhover(y)),y._dragged&&e.moveFn&&!m&&e.moveFn(l,c)}function A(t){if(document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",A),document.removeEventListener("touchmove",T),document.removeEventListener("touchend",A),t.preventDefault(),n?l.removeElement(p):u&&(p.documentElement.style.cursor=u,u=null),y._dragging){if(y._dragging=!1,(new Date).getTime()-y._mouseDownTime>b&&(x=Math.max(x-1,1)),y._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(x,g),!m){var r;try{r=new MouseEvent("click",t)}catch(e){var a=f(t);(r=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,a[0],a[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}v.dispatchEvent(r)}!function(e){e._dragging=!1,e._replotPending&&i.call("plot",e)}(y),y._dragged=!1}else y._dragged=!1}},d.coverSlip=h},function(e,t,r){"use strict";e.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},function(e,t,r){"use strict";var a=r(3),n=r(0),o=r(199),i=r(203),l=r(204),s=r(209);e.exports={moduleType:"component",name:"fx",constants:r(200),schema:{layout:l},attributes:r(68),layoutAttributes:l,supplyLayoutGlobalDefaults:r(222),supplyDefaults:r(223),supplyLayoutDefaults:r(224),calc:r(225),getDistanceFunction:i.getDistanceFunction,getClosest:i.getClosest,inbox:i.inbox,quadrature:i.quadrature,appendArrayPointValue:i.appendArrayPointValue,castHoverOption:function(e,t,r){return n.castOption(e,t,"hoverlabel."+r)},castHoverinfo:function(e,t,r){return n.castOption(e,r,"hoverinfo",function(r){return n.coerceHoverinfo({hoverinfo:r},{_module:e._module},t)})},hover:s.hover,unhover:o.unhover,loneHover:s.loneHover,multiHovers:s.multiHovers,loneUnhover:function(e){var t=n.isD3Selection(e)?e:a.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:r(226)}},function(e,t,r){"use strict";e.exports=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)}},function(e,t,r){"use strict";var a=r(0);t.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},t.isTraceInSubplots=function(e,r){if("splom"===e.type){for(var a=e.xaxes||[],n=e.yaxes||[],o=0;o<a.length;o++)for(var i=0;i<n.length;i++)if(-1!==r.indexOf(a[o]+n[i]))return!0;return!1}return-1!==r.indexOf(t.getSubplot(e))},t.flat=function(e,t){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=t;return r},t.p2c=function(e,t){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=e[a].p2c(t);return r},t.getDistanceFunction=function(e,r,a,n){return"closest"===e?n||t.quadrature(r,a):"x"===e?r:a},t.getClosest=function(e,t,r){if(!1!==r.index)r.index>=0&&r.index<e.length?r.distance=0:r.index=!1;else for(var a=0;a<e.length;a++){var n=t(e[a]);n<=r.distance&&(r.index=a,r.distance=n)}return r},t.inbox=function(e,t,r){return e*t<0||0===e?r:1/0},t.quadrature=function(e,t){return function(r){var a=e(r),n=t(r);return Math.sqrt(a*a+n*n)}},t.makeEventData=function(e,r,a){var n="index"in e?e.index:e.pointNumber,o={data:r._input,fullData:r,curveNumber:r.index,pointNumber:n};if(r._indexToPoints){var i=r._indexToPoints[n];1===i.length?o.pointIndex=i[0]:o.pointIndices=i}else o.pointIndex=n;return r._module.eventData?o=r._module.eventData(o,e,r,a,n):("xVal"in e?o.x=e.xVal:"x"in e&&(o.x=e.x),"yVal"in e?o.y=e.yVal:"y"in e&&(o.y=e.y),e.xa&&(o.xaxis=e.xa),e.ya&&(o.yaxis=e.ya),void 0!==e.zLabelVal&&(o.z=e.zLabelVal)),t.appendArrayPointValue(o,r,n),o},t.appendArrayPointValue=function(e,t,r){var n=t._arrayAttrs;if(n)for(var l=0;l<n.length;l++){var s=n[l],c=o(s);if(void 0===e[c]){var d=i(a.nestedProperty(t,s).get(),r);void 0!==d&&(e[c]=d)}}},t.appendArrayMultiPointValues=function(e,t,r){var n=t._arrayAttrs;if(n)for(var l=0;l<n.length;l++){var s=n[l],c=o(s);if(void 0===e[c]){for(var d=a.nestedProperty(t,s).get(),u=new Array(r.length),h=0;h<r.length;h++)u[h]=i(d,r[h]);e[c]=u}}};var n={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color"};function o(e){return n[e]||e}function i(e,t){return Array.isArray(t)?Array.isArray(e)&&Array.isArray(e[t[0]])?e[t[0]][t[1]]:void 0:e[t]}},function(e,t,r){"use strict";var a=r(200),n=r(9)({editType:"none",description:"Sets the default hover label font used by all traces on the graph."});n.family.dflt=a.HOVERFONT,n.size.dflt=a.HOVERFONTSIZE,e.exports={clickmode:{valType:"flaglist",role:"info",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"],description:["Determines the mode of single click interactions.","*event* is the default value and emits the `plotly_click`","event. In addition this mode emits the `plotly_selected` event","in drag modes *lasso* and *select*, but with no event data attached","(kept for compatibility reasons).","The *select* flag enables selecting single","data points via click. This mode also supports persistent selections,","meaning that pressing Shift while clicking, adds to / subtracts from an","existing selection. *select* with `hovermode`: *x* can be confusing, consider","explicitly setting `hovermode`: *closest* when using this feature.","Selection events are sent accordingly as long as *event* flag is set as well.","When the *event* flag is missing, `plotly_click` and `plotly_selected`","events are not fired."].join(" ")},dragmode:{valType:"enumerated",role:"info",values:["zoom","pan","select","lasso","orbit","turntable"],dflt:"zoom",editType:"modebar",description:["Determines the mode of drag interactions.","*select* and *lasso* apply only to scatter traces with","markers or text. *orbit* and *turntable* apply only to","3D scenes."].join(" ")},hovermode:{valType:"enumerated",role:"info",values:["x","y","closest",!1],editType:"modebar",description:["Determines the mode of hover interactions.","If `clickmode` includes the *select* flag,","`hovermode` defaults to *closest*.","If `clickmode` lacks the *select* flag,","it defaults to *x* or *y* (depending on the trace's","`orientation` value) for plots based on","cartesian coordinates. For anything else the default","value is *closest*."].join(" ")},hoverdistance:{valType:"integer",min:-1,dflt:20,role:"info",editType:"none",description:["Sets the default distance (in pixels) to look for data","to add hover labels (-1 means no cutoff, 0 means no looking for data).","This is only a real distance for hovering on point-like objects,","like scatter points. For area-like objects (bars, scatter fills, etc)","hovering is on inside the area and off outside, but these objects","will not supersede hover on point-like objects in case of conflict."].join(" ")},spikedistance:{valType:"integer",min:-1,dflt:20,role:"info",editType:"none",description:["Sets the default distance (in pixels) to look for data to draw","spikelines to (-1 means no cutoff, 0 means no looking for data).","As with hoverdistance, distance does not apply to area-like objects.","In addition, some objects can be hovered on but will not generate","spikelines, such as scatter fills."].join(" ")},hoverlabel:{bgcolor:{valType:"color",role:"style",editType:"none",description:["Sets the background color of all hover labels on graph"].join(" ")},bordercolor:{valType:"color",role:"style",editType:"none",description:["Sets the border color of all hover labels on graph."].join(" ")},font:n,namelength:{valType:"integer",min:-1,dflt:15,role:"style",editType:"none",description:["Sets the default length (in number of characters) of the trace name in","the hover labels for all traces. -1 shows the whole name","regardless of length. 0-3 shows the first 0-3 characters, and","an integer >3 will show the whole name if it is less than that","many characters, but if it is longer, will truncate to","`namelength - 3` characters and add an ellipsis."].join(" ")},editType:"none"},selectdirection:{valType:"enumerated",role:"info",values:["h","v","d","any"],dflt:"any",description:['When "dragmode" is set to "select", this limits the selection of the drag to','horizontal, vertical or diagonal. "h" only allows horizontal selection,','"v" only vertical, "d" only diagonal and "any" sets no limit.'].join(" "),editType:"none"}}},function(e,t,r){"use strict";var a=r(214).EventEmitter,n={init:function(e){if(e._ev instanceof a)return e;var t=new a,r=new a;return e._ev=t,e._internalEv=r,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=r.on.bind(r),e._internalOnce=r.once.bind(r),e._removeInternalListener=r.removeListener.bind(r),e._removeAllInternalListeners=r.removeAllListeners.bind(r),e.emit=function(a,n){"undefined"!=typeof jQuery&&jQuery(e).trigger(a,n),t.emit(a,n),r.emit(a,n)},e},triggerHandler:function(e,t,r){var a,n;"undefined"!=typeof jQuery&&(a=jQuery(e).triggerHandler(t,r));var o=e._ev;if(!o)return a;var i,l=o._events[t];if(!l)return a;function s(e){return e.listener?(o.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(o,[r]))):e.apply(o,[r])}for(l=Array.isArray(l)?l:[l],i=0;i<l.length-1;i++)s(l[i]);return n=s(l[i]),void 0!==a?a:n},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};e.exports=n},function(e,t,r){"use strict";e.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(e){e.regl&&e.regl.clear({color:!0,depth:!0})})}},function(e,t,r){"use strict";var a=r(243),n=r(5),o=r(11),i=r(201),l=r(227),s=r(69),c=r(203).makeEventData,d=r(27).getFromId,u=r(206),h=r(212).redrawReglTraces,f=r(28),p=f.MINSELECT,g=l.filter,v=l.tester;function m(e){return e._id}function y(e,t,r,a,n,o,i){var l,s,c,d,u,h,f,p,g,v=t._hoverdata,m=t._fullLayout.clickmode.indexOf("event")>-1,y=[];if(function(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}(v)){w(e,t,o);var x=function(e,t){var r,a,n=e[0],o=-1,i=[];for(a=0;a<t.length;a++)if(r=t[a],n.fullData._expandedIndex===r.cd[0].trace._expandedIndex){if(!0===n.hoverOnBox)break;void 0!==n.pointNumber?o=n.pointNumber:void 0!==n.binNumber&&(o=n.binNumber,i=n.pointNumbers);break}return{pointNumber:o,pointNumbers:i,searchInfo:r}}(v,l=T(t,r,a,n));if(x.pointNumbers.length>0?function(e,t){var r,a,n,o=[];for(n=0;n<e.length;n++)(r=e[n]).cd[0].trace.selectedpoints&&r.cd[0].trace.selectedpoints.length>0&&o.push(r);if(1===o.length&&o[0]===t.searchInfo&&(a=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(n=0;n<t.pointNumbers.length;n++)if(a.selectedpoints.indexOf(t.pointNumbers[n])<0)return!1;return!0}return!1}(l,x):function(e){var t,r,a,n=0;for(a=0;a<e.length;a++)if(t=e[a],(r=t.cd[0].trace).selectedpoints){if(r.selectedpoints.length>1)return!1;if((n+=r.selectedpoints.length)>1)return!1}return 1===n}(l)&&(h=M(x))){for(i&&i.remove(),g=0;g<l.length;g++)(s=l[g])._module.selectPoints(s,!1);S(t,l),k(o),m&&t.emit("plotly_deselect",null)}else{for(f=e.shiftKey&&(void 0!==h?h:M(x)),c=function(e,t,r){return{pointNumber:e,searchInfo:t,subtract:r}}(x.pointNumber,x.searchInfo,f),d=_(o.selectionDefs.concat([c])),g=0;g<l.length;g++)if(u=L(l[g]._module.selectPoints(l[g],d),l[g]),y.length)for(var b=0;b<u.length;b++)y.push(u[b]);else y=u;S(t,l,p={points:y}),c&&o&&o.selectionDefs.push(c),i&&A(o.mergedPolygons,i),m&&t.emit("plotly_selected",p)}}}function x(e){return"pointNumber"in e&&"searchInfo"in e}function b(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,r,a,n){var o=e.searchInfo.cd[0].trace._expandedIndex;return n.cd[0].trace._expandedIndex===o&&a===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function _(e){for(var t=[],r=x(e[0])?0:e[0][0][0],a=r,n=x(e[0])?0:e[0][0][1],o=n,i=0;i<e.length;i++)if(x(e[i]))t.push(b(e[i]));else{var s=l.tester(e[i]);s.subtract=e[i].subtract,t.push(s),r=Math.min(r,s.xmin),a=Math.max(a,s.xmax),n=Math.min(n,s.ymin),o=Math.max(o,s.ymax)}return{xmin:r,xmax:a,ymin:n,ymax:o,pts:[],contains:function(e,r,a,n){for(var o=!1,i=0;i<t.length;i++)t[i].contains(e,r,a,n)&&(o=!1===t[i].subtract);return o},isRect:!1,degenerate:!1}}function w(e,t,r){var a=t._fullLayout,n=a._zoomlayer,o=r.plotinfo,i=a._lastSelectedSubplot&&a._lastSelectedSubplot===o.id,l=e.shiftKey||e.altKey;i&&l&&o.selection&&o.selection.selectionDefs&&!r.selectionDefs?(r.selectionDefs=o.selection.selectionDefs,r.mergedPolygons=o.selection.mergedPolygons):l&&o.selection||k(r),i||(C(n),a._lastSelectedSubplot=o.id)}function k(e){var t=e.plotinfo;t.selection={},t.selection.selectionDefs=e.selectionDefs=[],t.selection.mergedPolygons=e.mergedPolygons=[]}function T(e,t,r,a){var n,o,i,l=[],s=t.map(m),c=r.map(m);for(i=0;i<e.calcdata.length;i++)if(!0===(o=(n=e.calcdata[i])[0].trace).visible&&o._module&&o._module.selectPoints)if(!a||o.subplot!==a&&o.geo!==a)if("splom"===o.type&&o._xaxes[s[0]]&&o._yaxes[c[0]]){var u=h(o._module,n,t[0],r[0]);u.scene=e._fullLayout._splomScenes[o.uid],l.push(u)}else{if(-1===s.indexOf(o.xaxis))continue;if(-1===c.indexOf(o.yaxis))continue;l.push(h(o._module,n,d(e,o.xaxis),d(e,o.yaxis)))}else l.push(h(o._module,n,t[0],r[0]));return l;function h(e,t,r,a){return{_module:e,cd:t,xaxis:r,yaxis:a}}}function A(e,t){var r,a,n=[];for(r=0;r<e.length;r++){var o=e[r];n.push(o.join("L")+"L"+o[0])}a=e.length>0?"M"+n.join("M")+"Z":"M0,0Z",t.attr("d",a)}function M(e){var t=e.searchInfo.cd[0].trace,r=e.pointNumber,a=e.pointNumbers,n=a.length>0?a[0]:r;return!!t.selectedpoints&&t.selectedpoints.indexOf(n)>-1}function S(e,t,r){var a,o,i,l;if(r){var s=r.points||[];for(a=0;a<t.length;a++)(l=t[a].cd[0].trace).selectedpoints=[],l._input.selectedpoints=[];for(a=0;a<s.length;a++){var c=s[a],d=c.data,f=c.fullData;c.pointIndices?([].push.apply(d.selectedpoints,c.pointIndices),[].push.apply(f.selectedpoints,c.pointIndices)):(d.selectedpoints.push(c.pointIndex),f.selectedpoints.push(c.pointIndex))}}else for(a=0;a<t.length;a++)delete(l=t[a].cd[0].trace).selectedpoints,delete l._input.selectedpoints;var p=!1;for(a=0;a<t.length;a++){l=(i=(o=t[a]).cd)[0].trace,n.traceIs(l,"regl")&&(p=!0);var g=o._module,v=g.styleOnSelect||g.style;v&&v(e,i)}p&&(u(e),h(e))}function L(e,t){if(Array.isArray(e))for(var r=t.cd,a=t.cd[0].trace,n=0;n<e.length;n++)e[n]=c(e[n],a,r);return e}function C(e){e.selectAll(".select-outline").remove()}e.exports={prepSelect:function(e,t,r,n,l){var c,d,u,h,m,x,b,M=n.gd,C=M._fullLayout,z=C._zoomlayer,P=n.element.getBoundingClientRect(),O=n.plotinfo,I=O.xaxis._offset,D=O.yaxis._offset,R=t-P.left,E=r-P.top,j=R,F=E,N="M"+R+","+E,B=n.xaxes[0]._length,H=n.yaxes[0]._length,V=n.xaxes.concat(n.yaxes),q=e.altKey;w(e,M,n),"lasso"===l&&(c=g([[R,E]],f.BENDPX));var G=z.selectAll("path.select-outline-"+O.id).data([1,2]);G.enter().append("path").attr("class",function(e){return"select-outline select-outline-"+e+" select-outline-"+O.id}).attr("transform","translate("+I+", "+D+")").attr("d",N+"Z");var X,W=z.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1}).attr("transform","translate("+I+", "+D+")").attr("d","M0,0Z"),Z=C._uid+f.SELECTID,Y=[],U=T(M,n.xaxes,n.yaxes,n.subplot);function Q(e){var t="y"===e._id.charAt(0)?1:0;return function(r){return e.p2d(r[t])}}function J(e,t){return e-t}X=O.fillRangeItems?O.fillRangeItems:"select"===l?function(e,t){var r=e.range={};for(m=0;m<V.length;m++){var a=V[m],n=a._id.charAt(0);r[a._id]=[a.p2d(t[n+"min"]),a.p2d(t[n+"max"])].sort(J)}}:function(e,t,r){var a=e.lassoPoints={};for(m=0;m<V.length;m++){var n=V[m];a[n._id]=r.filtered.map(Q(n))}},n.moveFn=function(e,t){j=Math.max(0,Math.min(B,e+R)),F=Math.max(0,Math.min(H,t+E));var r=Math.abs(j-R),o=Math.abs(F-E);if("select"===l){var i=C.selectdirection;"h"===(i="any"===C.selectdirection?o<Math.min(.6*r,p)?"h":r<Math.min(.6*o,p)?"v":"d":C.selectdirection)?((h=[[R,0],[R,H],[j,H],[j,0]]).xmin=Math.min(R,j),h.xmax=Math.max(R,j),h.ymin=Math.min(0,H),h.ymax=Math.max(0,H),W.attr("d","M"+h.xmin+","+(E-p)+"h-4v"+2*p+"h4ZM"+(h.xmax-1)+","+(E-p)+"h4v"+2*p+"h-4Z")):"v"===i?((h=[[0,E],[0,F],[B,F],[B,E]]).xmin=Math.min(0,B),h.xmax=Math.max(0,B),h.ymin=Math.min(E,F),h.ymax=Math.max(E,F),W.attr("d","M"+(R-p)+","+h.ymin+"v-4h"+2*p+"v4ZM"+(R-p)+","+(h.ymax-1)+"v4h"+2*p+"v-4Z")):"d"===i&&((h=[[R,E],[R,F],[j,F],[j,E]]).xmin=Math.min(R,j),h.xmax=Math.max(R,j),h.ymin=Math.min(E,F),h.ymax=Math.max(E,F),W.attr("d","M0,0Z"))}else"lasso"===l&&(c.addPt([j,F]),h=c.filtered);n.selectionDefs&&n.selectionDefs.length?(u=function(e,t,r){return r?a.difference({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions:a.union({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions}(n.mergedPolygons,h,q),h.subtract=q,d=_(n.selectionDefs.concat([h]))):(u=[h],d=v(h)),A(u,G),s.throttle(Z,f.SELECTDELAY,function(){Y=[];var e,t,r=[];for(m=0;m<U.length;m++)if(t=(x=U[m])._module.selectPoints(x,d),r.push(t),e=L(t,x),Y.length)for(var a=0;a<e.length;a++)Y.push(e[a]);else Y=e;S(M,U,b={points:Y}),X(b,h,c),n.gd.emit("plotly_selecting",b)})},n.clickFn=function(e,t){var r=C.clickmode;W.remove(),s.done(Z).then(function(){if(s.clear(Z),2===e){for(G.remove(),m=0;m<U.length;m++)(x=U[m])._module.selectPoints(x,!1);S(M,U),k(n),M.emit("plotly_deselect",null)}else r.indexOf("select")>-1&&y(t,M,n.xaxes,n.yaxes,n.subplot,n,G),"event"===r&&M.emit("plotly_selected",void 0);i.click(M,t)})},n.doneFn=function(){W.remove(),s.done(Z).then(function(){s.clear(Z),n.gd.emit("plotly_selected",b),h&&n.selectionDefs&&(h.subtract=q,n.selectionDefs.push(h),n.mergedPolygons.length=0,[].push.apply(n.mergedPolygons,u))})}},clearSelect:C,selectOnClick:y}},function(e,t){e.exports=!0},function(e,t,r){"use strict";var a=r(3),n=r(1),o=r(12),i=r(0),l=r(205),s=r(29),c=r(221),d=r(26),u=r(11),h=r(199),f=r(65),p=r(5),g=r(203),v=r(200),m=v.YANGLE,y=Math.PI*m/180,x=1/Math.sin(y),b=Math.cos(y),_=Math.sin(y),w=v.HOVERARROWSIZE,k=v.HOVERTEXTPAD;function T(e,t,r){var n=t.hovermode,o=t.rotateLabels,l=t.bgColor,c=t.container,h=t.outerContainer,f=t.commonLabelOpts||{},p=t.fontFamily||v.HOVERFONT,g=t.fontSize||v.HOVERFONTSIZE,y=e[0],x=y.xa,b=y.ya,_="y"===n?"yLabel":"xLabel",T=y[_],A=(String(T)||"").split(" ")[0],M=h.node().getBoundingClientRect(),S=M.top,L=M.width,C=M.height,z=void 0!==T&&y.distance<=t.hoverdistance&&("x"===n||"y"===n);if(z){var P,O,I=!0;for(P=0;P<e.length;P++){I&&void 0===e[P].zLabel&&(I=!1),O=e[P].hoverinfo||e[P].trace.hoverinfo;var D=Array.isArray(O)?O:O.split("+");if(-1===D.indexOf("all")&&-1===D.indexOf(n)){z=!1;break}}I&&(z=!1)}var R=c.selectAll("g.axistext").data(z?[0]:[]);R.enter().append("g").classed("axistext",!0),R.exit().remove(),R.each(function(){var t=a.select(this),o=i.ensureSingle(t,"path","",function(e){e.style({"stroke-width":"1px"})}),l=i.ensureSingle(t,"text","",function(e){e.attr("data-notex",1)}),c=f.bgcolor||u.defaultLine,h=f.bordercolor||u.contrast(c),v=u.contrast(c);o.style({fill:c,stroke:h}),l.text(T).call(d.font,f.font.family||p,f.font.size||g,f.font.color||v).call(s.positionText,0,0).call(s.convertToTspans,r),t.attr("transform","");var m=l.node().getBoundingClientRect();if("x"===n){l.attr("text-anchor","middle").call(s.positionText,0,"top"===x.side?S-m.bottom-w-k:S-m.top+w+k);var M="top"===x.side?"-":"";o.attr("d","M0,0L"+w+","+M+w+"H"+(k+m.width/2)+"v"+M+(2*k+m.height)+"H-"+(k+m.width/2)+"V"+M+w+"H-"+w+"Z"),t.attr("transform","translate("+(x._offset+(y.x0+y.x1)/2)+","+(b._offset+("top"===x.side?0:b._length))+")")}else{l.attr("text-anchor","right"===b.side?"start":"end").call(s.positionText,("right"===b.side?1:-1)*(k+w),S-m.top-m.height/2);var L="right"===b.side?"":"-";o.attr("d","M0,0L"+L+w+","+w+"V"+(k+m.height/2)+"h"+L+(2*k+m.width)+"V-"+(k+m.height/2)+"H"+L+w+"V-"+w+"Z"),t.attr("transform","translate("+(x._offset+("right"===b.side?x._length:0))+","+(b._offset+(y.y0+y.y1)/2)+")")}e=e.filter(function(e){return void 0!==e.zLabelVal||(e[_]||"").split(" ")[0]===A})});var E=c.selectAll("g.hovertext").data(e,function(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")});return E.enter().append("g").classed("hovertext",!0).each(function(){var e=a.select(this);e.append("rect").call(u.fill,u.addOpacity(l,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(d.font,p,g)}),E.exit().remove(),E.each(function(e){var t=a.select(this).attr("transform",""),i="",c="",h=e.bgcolor||e.color,f=u.combine(u.opacity(h)?h:u.defaultLine,l),v=u.combine(u.opacity(e.color)?e.color:u.defaultLine,l),y=e.borderColor||u.contrast(f);if(void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name){i=s.plainText(e.name||"");var x=Math.round(e.nameLength);x>-1&&i.length>x&&(i=x>3?i.substr(0,x-3)+"...":i.substr(0,x))}void 0!==e.zLabel?(void 0!==e.xLabel&&(c+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(c+="y: "+e.yLabel+"<br>"),c+=(c?"z: ":"")+e.zLabel):z&&e[n+"Label"]===T?c=e[("x"===n?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&(c=e.yLabel):c=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(c+=(c?"<br>":"")+e.text),void 0!==e.extraText&&(c+=(c?"<br>":"")+e.extraText),""===c&&(""===i&&t.remove(),c=i);var b=t.select("text.nums").call(d.font,e.fontFamily||p,e.fontSize||g,e.fontColor||y).text(c).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,r),_=t.select("text.name"),A=0;i&&i!==c?(_.call(d.font,e.fontFamily||p,e.fontSize||g,v).text(i).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,r),A=_.node().getBoundingClientRect().width+2*k):(_.remove(),t.select("rect").remove()),t.select("path").style({fill:f,stroke:y});var M,P,O=b.node().getBoundingClientRect(),I=e.xa._offset+(e.x0+e.x1)/2,D=e.ya._offset+(e.y0+e.y1)/2,R=Math.abs(e.x1-e.x0),E=Math.abs(e.y1-e.y0),j=O.width+w+k+A;e.ty0=S-O.top,e.bx=O.width+2*k,e.by=O.height+2*k,e.anchor="start",e.txwidth=O.width,e.tx2width=A,e.offset=0,o?(e.pos=I,M=D+E/2+j<=C,P=D-E/2-j>=0,"top"!==e.idealAlign&&M||!P?M?(D+=E/2,e.anchor="start"):e.anchor="middle":(D-=E/2,e.anchor="end")):(e.pos=D,M=I+R/2+j<=L,P=I-R/2-j>=0,"left"!==e.idealAlign&&M||!P?M?(I+=R/2,e.anchor="start"):e.anchor="middle":(I-=R/2,e.anchor="end")),b.attr("text-anchor",e.anchor),A&&_.attr("text-anchor",e.anchor),t.attr("transform","translate("+I+","+D+")"+(o?"rotate("+m+")":""))}),E}function A(e,t){e.each(function(e){var r=a.select(this);if(e.del)r.remove();else{var n="end"===e.anchor?-1:1,o=r.select("text.nums"),i={start:1,end:-1,middle:0}[e.anchor],l=i*(w+k),c=l+i*(e.txwidth+k),u=0,h=e.offset;"middle"===e.anchor&&(l-=e.tx2width/2,c+=e.txwidth/2+k),t&&(h*=-_,u=e.offset*b),r.select("path").attr("d","middle"===e.anchor?"M-"+(e.bx/2+e.tx2width/2)+","+(h-e.by/2)+"h"+e.bx+"v"+e.by+"h-"+e.bx+"Z":"M0,0L"+(n*w+u)+","+(w+h)+"v"+(e.by/2-w)+"h"+n*e.bx+"v-"+e.by+"H"+(n*w+u)+"V"+(h-w)+"Z"),o.call(s.positionText,l+u,h+e.ty0-e.by/2+k),e.tx2width&&(r.select("text.name").call(s.positionText,c+i*k+u,h+e.ty0-e.by/2+k),r.select("rect").call(d.setRect,c+(i-1)*e.tx2width/2+u,h-e.by/2-1,e.tx2width,e.by+2))}})}function M(e,t){var r=e.index,a=e.trace||{},n=e.cd[0],o=e.cd[r]||{},l=Array.isArray(r)?function(e,t){return i.castOption(n,r,e)||i.extractOption({},a,"",t)}:function(e,t){return i.extractOption(o,a,e,t)};function s(t,r,a){var n=l(r,a);n&&(e[t]=n)}if(s("hoverinfo","hi","hoverinfo"),s("bgcolor","hbg","hoverlabel.bgcolor"),s("borderColor","hbc","hoverlabel.bordercolor"),s("fontFamily","htf","hoverlabel.font.family"),s("fontSize","hts","hoverlabel.font.size"),s("fontColor","htc","hoverlabel.font.color"),s("nameLength","hnl","hoverlabel.namelength"),e.posref="y"===t?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=i.constrain(e.x0,0,e.xa._length),e.x1=i.constrain(e.x1,0,e.xa._length),e.y0=i.constrain(e.y0,0,e.ya._length),e.y1=i.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:f.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:f.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var c=f.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+c+" / -"+f.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+c,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var d=f.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+d+" / -"+f.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+d,"y"===t&&(e.distance+=1)}var u=e.hoverinfo||e.trace.hoverinfo;return"all"!==u&&(-1===(u=Array.isArray(u)?u:u.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===u.indexOf("y")&&(e.yLabel=void 0),-1===u.indexOf("z")&&(e.zLabel=void 0),-1===u.indexOf("text")&&(e.text=void 0),-1===u.indexOf("name")&&(e.name=void 0)),e}function S(e,t){var r,a,n=t.container,i=t.fullLayout,l=t.event,s=!!e.hLinePoint,c=!!e.vLinePoint;if(n.selectAll(".spikeline").remove(),c||s){var h=u.combine(i.plot_bgcolor,i.paper_bgcolor);if(s){var f,p,g=e.hLinePoint;r=g&&g.xa,"cursor"===(a=g&&g.ya).spikesnap?(f=l.pointerX,p=l.pointerY):(f=r._offset+g.x,p=a._offset+g.y);var v,m,y=o.readability(g.color,h)<1.5?u.contrast(h):g.color,x=a.spikemode,b=a.spikethickness,_=a.spikecolor||y,w=a._boundingBox,k=(w.left+w.right)/2<f?w.right:w.left;-1===x.indexOf("toaxis")&&-1===x.indexOf("across")||(-1!==x.indexOf("toaxis")&&(v=k,m=f),-1!==x.indexOf("across")&&(v=a._counterSpan[0],m=a._counterSpan[1]),n.insert("line",":first-child").attr({x1:v,x2:m,y1:p,y2:p,"stroke-width":b,stroke:_,"stroke-dasharray":d.dashStyle(a.spikedash,b)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:v,x2:m,y1:p,y2:p,"stroke-width":b+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0)),-1!==x.indexOf("marker")&&n.insert("circle",":first-child").attr({cx:k+("right"!==a.side?b:-b),cy:p,r:b,fill:_}).classed("spikeline",!0)}if(c){var T,A,M=e.vLinePoint;r=M&&M.xa,a=M&&M.ya,"cursor"===r.spikesnap?(T=l.pointerX,A=l.pointerY):(T=r._offset+M.x,A=a._offset+M.y);var S,L,C=o.readability(M.color,h)<1.5?u.contrast(h):M.color,z=r.spikemode,P=r.spikethickness,O=r.spikecolor||C,I=r._boundingBox,D=(I.top+I.bottom)/2<A?I.bottom:I.top;-1===z.indexOf("toaxis")&&-1===z.indexOf("across")||(-1!==z.indexOf("toaxis")&&(S=D,L=A),-1!==z.indexOf("across")&&(S=r._counterSpan[0],L=r._counterSpan[1]),n.insert("line",":first-child").attr({x1:T,x2:T,y1:S,y2:L,"stroke-width":P,stroke:O,"stroke-dasharray":d.dashStyle(r.spikedash,P)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:T,x2:T,y1:S,y2:L,"stroke-width":P+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0)),-1!==z.indexOf("marker")&&n.insert("circle",":first-child").attr({cx:T,cy:D-("top"!==r.side?P:-P),r:P,fill:O}).classed("spikeline",!0)}}}function L(e,t){return!t||(t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint)}t.hover=function(e,t,r,o){e=i.getGraphDiv(e),i.throttle(e._fullLayout._uid+v.HOVERID,v.HOVERMINTIME,function(){!function(e,t,r,o){r||(r="xy");var s=Array.isArray(r)?r:[r],d=e._fullLayout,v=d._plots||[],m=v[r],y=d._has("cartesian");if(m){var b=m.overlays.map(function(e){return e.id});s=s.concat(b)}for(var _=s.length,w=new Array(_),k=new Array(_),C=!1,z=0;z<_;z++){var P=s[z],O=v[P];if(O)C=!0,w[z]=f.getFromId(e,O.xaxis._id),k[z]=f.getFromId(e,O.yaxis._id);else{var I=d[P]._subplot;w[z]=I.xaxis,k[z]=I.yaxis}}var D=t.hovermode||d.hovermode;D&&!C&&(D="closest");if(-1===["x","y","closest"].indexOf(D)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return h.unhoverRaw(e,t);var R,E,j,F,N,B,H,V,q,G,X,W,Z,Y=-1===d.hoverdistance?1/0:d.hoverdistance,U=-1===d.spikedistance?1/0:d.spikedistance,Q=[],J=[],K={hLinePoint:null,vLinePoint:null},$=!1;if(Array.isArray(t))for(D="array",j=0;j<t.length;j++)N=e.calcdata[t[j].curveNumber||0],B=N[0].trace,"skip"!==N[0].trace.hoverinfo&&(J.push(N),"h"===B.orientation&&($=!0));else{for(F=0;F<e.calcdata.length;F++)N=e.calcdata[F],"skip"!==(B=N[0].trace).hoverinfo&&g.isTraceInSubplots(B,s)&&(J.push(N),"h"===B.orientation&&($=!0));var ee,te,re=!t.target;if(re)ee="xpx"in t?t.xpx:w[0]._length/2,te="ypx"in t?t.ypx:k[0]._length/2;else{if(!1===l.triggerHandler(e,"plotly_beforehover",t))return;var ae=t.target.getBoundingClientRect();if(ee=t.clientX-ae.left,te=t.clientY-ae.top,ee<0||ee>w[0]._length||te<0||te>k[0]._length)return h.unhoverRaw(e,t)}if(t.pointerX=ee+w[0]._offset,t.pointerY=te+k[0]._offset,R="xval"in t?g.flat(s,t.xval):g.p2c(w,ee),E="yval"in t?g.flat(s,t.yval):g.p2c(k,te),!n(R[0])||!n(E[0]))return i.warn("Fx.hover failed",t,e),h.unhoverRaw(e,t)}var ne=1/0;for(F=0;F<J.length;F++)if((N=J[F])&&N[0]&&N[0].trace&&!0===N[0].trace.visible&&(B=N[0].trace,-1===["carpet","contourcarpet"].indexOf(B._module.name))){if("splom"===B.type?H=s[V=0]:(H=g.getSubplot(B),V=s.indexOf(H)),q=D,W={cd:N,trace:B,xa:w[V],ya:k[V],maxHoverDistance:Y,maxSpikeDistance:U,index:!1,distance:Math.min(ne,Y),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:u.defaultLine,name:B.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},d[H]&&(W.subplot=d[H]._subplot),d._splomScenes&&d._splomScenes[B.uid]&&(W.scene=d._splomScenes[B.uid]),Z=Q.length,"array"===q){var oe=t[F];"pointNumber"in oe?(W.index=oe.pointNumber,q="closest"):(q="","xval"in oe&&(G=oe.xval,q="x"),"yval"in oe&&(X=oe.yval,q=q?"closest":"y"))}else G=R[V],X=E[V];if(0!==Y)if(B._module&&B._module.hoverPoints){var ie=B._module.hoverPoints(W,G,X,q,d._hoverlayer);if(ie)for(var le,se=0;se<ie.length;se++)le=ie[se],n(le.x0)&&n(le.y0)&&Q.push(M(le,D))}else i.log("Unrecognized trace type in hover:",B);if("closest"===D&&Q.length>Z&&(Q.splice(0,Z),ne=Q[0].distance),y&&0!==U&&0===Q.length){W.distance=U,W.index=!1;var ce=B._module.hoverPoints(W,G,X,"closest",d._hoverlayer);if(ce&&(ce=ce.filter(function(e){return e.spikeDistance<=U})),ce&&ce.length){var de,ue=ce.filter(function(e){return e.xa.showspikes});if(ue.length){var he=ue[0];n(he.x0)&&n(he.y0)&&(de=ve(he),(!K.vLinePoint||K.vLinePoint.spikeDistance>de.spikeDistance)&&(K.vLinePoint=de))}var fe=ce.filter(function(e){return e.ya.showspikes});if(fe.length){var pe=fe[0];n(pe.x0)&&n(pe.y0)&&(de=ve(pe),(!K.hLinePoint||K.hLinePoint.spikeDistance>de.spikeDistance)&&(K.hLinePoint=de))}}}}function ge(e,t){for(var r,a=null,n=1/0,o=0;o<e.length;o++)(r=e[o].spikeDistance)<n&&r<=t&&(a=e[o],n=r);return a}function ve(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}var me={fullLayout:d,container:d._hoverlayer,outerContainer:d._paperdiv,event:t},ye=e._spikepoints,xe={vLinePoint:K.vLinePoint,hLinePoint:K.hLinePoint};if(e._spikepoints=xe,y&&0!==U&&0!==Q.length){var be=Q.filter(function(e){return e.ya.showspikes}),_e=ge(be,U);K.hLinePoint=ve(_e);var we=Q.filter(function(e){return e.xa.showspikes}),ke=ge(we,U);K.vLinePoint=ve(ke)}if(0===Q.length){var Te=h.unhoverRaw(e,t);return!y||null===K.hLinePoint&&null===K.vLinePoint||L(ye)&&S(K,me),Te}y&&L(ye)&&S(K,me);Q.sort(function(e,t){return e.distance-t.distance});var Ae=e._hoverdata,Me=[];for(j=0;j<Q.length;j++){var Se=Q[j];Me.push(g.makeEventData(Se,Se.trace,Se.cd))}e._hoverdata=Me;var Le="y"===D&&(J.length>1||Q.length>1)||"closest"===D&&$&&Q.length>1,Ce=u.combine(d.plot_bgcolor||u.background,d.paper_bgcolor),ze={hovermode:D,rotateLabels:Le,bgColor:Ce,container:d._hoverlayer,outerContainer:d._paperdiv,commonLabelOpts:d.hoverlabel,hoverdistance:d.hoverdistance},Pe=T(Q,ze,e);if(function(e,t,r){var a,n,o,i,l,s,c,d=0,u=1,h=e.map(function(e,a){var n=e[t],o="x"===n._id.charAt(0),i=n.range;return!a&&i&&i[0]>i[1]!==o&&(u=-1),[{i:a,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(o?x:1)/2,pmin:0,pmax:o?r.width:r.height}]}).sort(function(e,t){return e[0].posref-t[0].posref||u*(t[0].traceIndex-e[0].traceIndex)});function f(e){var t=e[0],r=e[e.length-1];if(n=t.pmin-t.pos-t.dp+t.size,o=r.pos+r.dp+r.size-t.pmax,n>.01){for(l=e.length-1;l>=0;l--)e[l].dp+=n;a=!1}if(!(o<.01)){if(n<-.01){for(l=e.length-1;l>=0;l--)e[l].dp-=o;a=!1}if(a){var c=0;for(i=0;i<e.length;i++)(s=e[i]).pos+s.dp+s.size>t.pmax&&c++;for(i=e.length-1;i>=0&&!(c<=0);i--)(s=e[i]).pos>t.pmax-1&&(s.del=!0,c--);for(i=0;i<e.length&&!(c<=0);i++)if((s=e[i]).pos<t.pmin+1)for(s.del=!0,c--,o=2*s.size,l=e.length-1;l>=0;l--)e[l].dp-=o;for(i=e.length-1;i>=0&&!(c<=0);i--)(s=e[i]).pos+s.dp+s.size>t.pmax&&(s.del=!0,c--)}}}for(;!a&&d<=e.length;){for(d++,a=!0,i=0;i<h.length-1;){var p=h[i],g=h[i+1],v=p[p.length-1],m=g[0];if((n=v.pos+v.dp+v.size-m.pos-m.dp+m.size)>.01&&v.pmin===m.pmin&&v.pmax===m.pmax){for(l=g.length-1;l>=0;l--)g[l].dp+=n;for(p.push.apply(p,g),h.splice(i+1,1),c=0,l=p.length-1;l>=0;l--)c+=p[l].dp;for(o=c/p.length,l=p.length-1;l>=0;l--)p[l].dp-=o;a=!1}else i++}h.forEach(f)}for(i=h.length-1;i>=0;i--){var y=h[i];for(l=y.length-1;l>=0;l--){var b=y[l],_=e[b.i];_.offset=b.dp,_.del=b.del}}}(Q,Le?"xa":"ya",d),A(Pe,Le),t.target&&t.target.tagName){var Oe=p.getComponentMethod("annotations","hasClickToShow")(e,Me);c(a.select(t.target),Oe?"pointer":"")}if(!t.target||o||!function(e,t,r){if(!r||r.length!==e._hoverdata.length)return!0;for(var a=r.length-1;a>=0;a--){var n=r[a],o=e._hoverdata[a];if(n.curveNumber!==o.curveNumber||String(n.pointNumber)!==String(o.pointNumber))return!0}return!1}(e,0,Ae))return;Ae&&e.emit("plotly_unhover",{event:t,points:Ae});e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:w,yaxes:k,xvals:R,yvals:E})}(e,t,r,o)})},t.loneHover=function(e,t){var r={color:e.color||u.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},n=a.select(t.container),o=t.outerContainer?a.select(t.outerContainer):n,i={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||u.background,container:n,outerContainer:o},l=T([r],i,t.gd);return A(l,i.rotateLabels),l.node()},t.multiHovers=function(e,t){Array.isArray(e)||(e=[e]);var r=e.map(function(e){return{color:e.color||u.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0}}),n=a.select(t.container),o=t.outerContainer?a.select(t.outerContainer):n,i={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||u.background,container:n,outerContainer:o},l=T(r,i,t.gd),s=0;return l.sort(function(e,t){return e.y0-t.y0}).each(function(e){var t=e.y0-e.by/2;e.offset=t-5<s?s-t+5:0,s=t+e.by+e.offset}),A(l,i.rotateLabels),l.node()}},function(e,t,r){"use strict";var a=r(0);e.exports=function(e,t,r,n){r("hoverlabel.bgcolor",(n=n||{}).bgcolor),r("hoverlabel.bordercolor",n.bordercolor),r("hoverlabel.namelength",n.namelength),a.coerceFont(r,"hoverlabel.font",n.font)}},function(e,t,r){"use strict";var a=r(208);e.exports=a&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}()},function(e,t,r){"use strict";var a=r(3),n=r(5),o=r(43),i=r(0),l=r(206),s=r(11),c=r(26),d=r(74),u=r(238),h=r(65),f=r(20),p=r(242),g=p.enforce,v=p.clean,m=r(67).doAutoRange;function y(e,t,r){for(var a=0;a<r.length;a++){var n=r[a][0],o=r[a][1];if(!(n[0]>=e[1]||n[1]<=e[0])&&(o[0]<t[1]&&o[1]>t[0]))return!0}return!1}function x(e){var r,n,o,l,d,p=e._fullLayout,g=p._size,v=g.p,m=h.list(e,"",!0);if(p._paperdiv.style({width:e._context.responsive&&p.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":p.width+"px",height:e._context.responsive&&p.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":p.height+"px"}).selectAll(".main-svg").call(c.setSize,p.width,p.height),e._context.setBackground(e,p.paper_bgcolor),t.drawMainTitle(e),u.manage(e),!p._has("cartesian"))return e._promises.length&&Promise.all(e._promises);function x(e,t,r){var a=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===r?t._offset-v-a:t._offset+t._length+v+a:g.t+g.h*(1-(e.position||0))+a%1:t?"right"===r?t._offset+t._length+v+a:t._offset-v-a:g.l+g.w*(e.position||0)+a%1}for(r=0;r<m.length;r++){var w=m[r];w.setScale();var T=w._anchorAxis;w._linepositions={},w._lw=c.crispRound(e,w.linewidth,1),w._mainLinePosition=x(w,T,w.side),w._mainMirrorPosition=w.mirror&&T?x(w,T,f.OPPOSITE_SIDE[w.side]):null,w._mainSubplot=b(w,p)}var A=[],M=[],S=[],L=1===s.opacity(p.paper_bgcolor)&&1===s.opacity(p.plot_bgcolor)&&p.paper_bgcolor===p.plot_bgcolor;for(n in p._plots)if((o=p._plots[n]).mainplot)o.bg&&o.bg.remove(),o.bg=void 0;else{var C=o.xaxis.domain,z=o.yaxis.domain,P=o.plotgroup;if(y(C,z,S)){var O=P.node(),I=o.bg=i.ensureSingle(P,"rect","bg");O.insertBefore(I.node(),O.childNodes[0]),M.push(n)}else P.select("rect.bg").remove(),S.push([C,z]),L||(A.push(n),M.push(n))}var D,R,E,j,F,N,B,H,V,q,G,X,W,Z=p._bgLayer.selectAll(".bg").data(A);for(Z.enter().append("rect").classed("bg",!0),Z.exit().remove(),Z.each(function(e){p._plots[e].bg=a.select(this)}),r=0;r<M.length;r++)o=p._plots[M[r]],l=o.xaxis,d=o.yaxis,o.bg&&o.bg.call(c.setRect,l._offset-v,d._offset-v,l._length+2*v,d._length+2*v).call(s.fill,p.plot_bgcolor).style("stroke-width",0);if(!p._hasOnlyLargeSploms)for(n in p._plots){o=p._plots[n],l=o.xaxis,d=o.yaxis;var Y,U,Q=o.clipId="clip"+p._uid+n+"plot",J=i.ensureSingleById(p._clips,"clipPath",Q,function(e){e.classed("plotclip",!0).append("rect")});o.clipRect=J.select("rect").attr({width:l._length,height:d._length}),c.setTranslate(o.plot,l._offset,d._offset),o._hasClipOnAxisFalse?(Y=null,U=Q):(Y=Q,U=null),c.setClipUrl(o.plot,Y),o.layerClipId=U}function K(e){return"M"+D+","+e+"H"+R}function $(e){return"M"+l._offset+","+e+"h"+l._length}function ee(e){return"M"+e+","+H+"V"+B}function te(e){return"M"+e+","+d._offset+"v"+d._length}function re(e,t,r){if(!e.showline||n!==e._mainSubplot)return"";if(!e._anchorAxis)return r(e._mainLinePosition);var a=t(e._mainLinePosition);return e.mirror&&(a+=t(e._mainMirrorPosition)),a}for(n in p._plots){o=p._plots[n],l=o.xaxis,d=o.yaxis;var ae="M0,0";_(l,n)&&(F=k(l,"left",d,m),D=l._offset-(F?v+F:0),N=k(l,"right",d,m),R=l._offset+l._length+(N?v+N:0),E=x(l,d,"bottom"),j=x(l,d,"top"),!(W=!l._anchorAxis||n!==l._mainSubplot)||"allticks"!==l.mirror&&"all"!==l.mirror||(l._linepositions[n]=[E,j]),ae=re(l,K,$),W&&l.showline&&("all"===l.mirror||"allticks"===l.mirror)&&(ae+=K(E)+K(j)),o.xlines.style("stroke-width",l._lw+"px").call(s.stroke,l.showline?l.linecolor:"rgba(0,0,0,0)")),o.xlines.attr("d",ae);var ne="M0,0";_(d,n)&&(G=k(d,"bottom",l,m),B=d._offset+d._length+(G?v:0),X=k(d,"top",l,m),H=d._offset-(X?v:0),V=x(d,l,"left"),q=x(d,l,"right"),!(W=!d._anchorAxis||n!==d._mainSubplot)||"allticks"!==d.mirror&&"all"!==d.mirror||(d._linepositions[n]=[V,q]),ne=re(d,ee,te),W&&d.showline&&("all"===d.mirror||"allticks"===d.mirror)&&(ne+=ee(V)+ee(q)),o.ylines.style("stroke-width",d._lw+"px").call(s.stroke,d.showline?d.linecolor:"rgba(0,0,0,0)")),o.ylines.attr("d",ne)}return h.makeClipPaths(e),e._promises.length&&Promise.all(e._promises)}function b(e,t){var r=t._subplots,a=r.cartesian.concat(r.gl2d||[]),n={_fullLayout:t},o="x"===e._id.charAt(0),i=e._mainAxis._anchorAxis,l="",s="",c="";if(i&&(c=i._mainAxis._id,l=o?e._id+c:c+e._id),!l||!t._plots[l]){l="";for(var d=0;d<a.length;d++){var u=a[d],f=u.indexOf("y"),p=o?u.substr(0,f):u.substr(f),g=o?u.substr(f):u.substr(0,f);if(p===e._id){s||(s=u);var v=h.getFromId(n,g);if(c&&v.overlaying===c){l=u;break}}}}return l||s}function _(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function w(e,t,r){if(!r.showline||!r._lw)return!1;if("all"===r.mirror||"allticks"===r.mirror)return!0;var a=r._anchorAxis;if(!a)return!1;var n=f.FROM_BL[t];return r.side===t?a.domain[n]===e.domain[n]:r.mirror&&a.domain[1-n]===e.domain[1-n]}function k(e,t,r,a){if(w(e,t,r))return r._lw;for(var n=0;n<a.length;n++){var o=a[n];if(o._mainAxis===r._mainAxis&&w(e,t,o))return o._lw}return 0}t.layoutStyles=function(e){return i.syncOrAsync([o.doAutoMargin,x],e)},t.drawMainTitle=function(e){var t=e._fullLayout;d.draw(e,"gtitle",{propContainer:t,propName:"title",placeholder:t._dfltTitle.plot,attributes:{x:t.width/2,y:t._size.t/2,"text-anchor":"middle"}})},t.doTraceStyle=function(e){var r,a=e.calcdata,i=[];for(r=0;r<a.length;r++){var s=a[r],c=s[0]||{},d=c.trace||{},u=d._module||{},h=u.arraysToCalcdata;h&&h(s,d);var f=u.editStyle;f&&i.push({fn:f,cd0:c})}if(i.length){for(r=0;r<i.length;r++){var p=i[r];p.fn(e,p.cd0)}l(e),t.redrawReglTraces(e)}return o.style(e),n.getComponentMethod("legend","draw")(e),o.previousPromises(e)},t.doColorBars=function(e){for(var t=0;t<e.calcdata.length;t++){var r=e.calcdata[t][0];if((r.t||{}).cb){var a=r.trace,i=r.t.cb;n.traceIs(a,"contour")&&i.line({width:!1!==a.contours.showlines?a.line.width:0,dash:a.line.dash,color:"line"===a.contours.coloring?i._opts.line.color:a.line.color});var l=a._module.colorbar.container,s=(l?a[l]:a).colorbar;i.options(s)()}}return o.previousPromises(e)},t.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,n.call("plot",e,"",t)},t.doLegend=function(e){return n.getComponentMethod("legend","draw")(e),o.previousPromises(e)},t.doTicksRelayout=function(e){return h.doTicks(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(n.subplotsRegistry.splom.updateGrid(e),l(e),t.redrawReglTraces(e)),t.drawMainTitle(e),o.previousPromises(e)},t.doModeBar=function(e){var t=e._fullLayout;u.manage(e);for(var r=0;r<t._basePlotModules.length;r++){var a=t._basePlotModules[r].updateFx;a&&a(e)}return o.previousPromises(e)},t.doCamera=function(e){for(var t=e._fullLayout,r=t._subplots.gl3d,a=0;a<r.length;a++){var n=t[r[a]];n._scene.setCamera(n.camera)}},t.drawData=function(e){var r,a=e._fullLayout,i=e.calcdata;for(r=0;r<i.length;r++){var s=i[r][0].trace;!0===s.visible&&s._module.colorbar||a._infolayer.select(".cb"+s.uid).remove()}l(e);var c=a._basePlotModules;for(r=0;r<c.length;r++)c[r].plot(e);return t.redrawReglTraces(e),o.style(e),n.getComponentMethod("shapes","draw")(e),n.getComponentMethod("annotations","draw")(e),a._replotting=!1,o.previousPromises(e)},t.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var r,a,n=e._fullData,o=[],l=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),r=0;r<n.length;r++){var s=n[r];!0===s.visible&&("splom"===s.type?t._splomScenes[s.uid].draw():"scattergl"===s.type?i.pushUnique(o,s.xaxis+s.yaxis):"scatterpolargl"===s.type&&i.pushUnique(l,s.subplot))}for(r=0;r<o.length;r++)(a=t._plots[o[r]])._scene&&a._scene.draw();for(r=0;r<l.length;r++)(a=t[l[r]]._subplot)._scene&&a._scene.draw()}},t.doAutoRangeAndConstraints=function(e){for(var t=h.list(e,"",!0),r=0;r<t.length;r++){var a=t[r];v(e,a),m(e,a)}g(e)},t.finalDraw=function(e){n.getComponentMethod("shapes","draw")(e),n.getComponentMethod("images","draw")(e),n.getComponentMethod("annotations","draw")(e),n.getComponentMethod("rangeslider","draw")(e),n.getComponentMethod("rangeselector","draw")(e)},t.drawMarginPushers=function(e){n.getComponentMethod("legend","draw")(e),n.getComponentMethod("rangeselector","draw")(e),n.getComponentMethod("sliders","draw")(e),n.getComponentMethod("updatemenus","draw")(e)}},function(e,t,r){"use strict";e.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #119dff;} .cls-2 {fill: #25fefd;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,i,l,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(o(r=this._events[e]))return!1;if(a(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),r.apply(this,l)}else if(n(r))for(l=Array.prototype.slice.call(arguments,1),i=(c=r.slice()).length,s=0;s<i;s++)c[s].apply(this,l);return!0},r.prototype.addListener=function(e,t){var i;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?n(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,n(this._events[e])&&!this._events[e].warned&&(i=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!a(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var r,o,i,l;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(r=this._events[e]).length,o=-1,r===t||a(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(n(r)){for(l=i;l-- >0;)if(r[l]===t||r[l].listener&&r[l].listener===t){o=l;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(a(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){"use strict";var a=r(20).FROM_BL;e.exports=function(e,t,r){void 0===r&&(r=a[e.constraintoward||"center"]);var n=[e.r2l(e.range[0]),e.r2l(e.range[1])],o=n[0]+(n[1]-n[0])*r;e.range=e._input.range=[e.l2r(o+(n[0]-o)*t),e.l2r(o+(n[1]-o)*t)]}},function(e,t,r){"use strict";(function(t){var a,n=r(208);a="function"==typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:n,e.exports=a}).call(t,r(14))},function(e,t){var r={left:0,top:0};e.exports=function(e,t,a){t=t||e.currentTarget||e.srcElement,Array.isArray(a)||(a=[0,0]);var n=e.clientX||0,o=e.clientY||0,i=(l=t,l===window||l===document||l===document.body?r:l.getBoundingClientRect());var l;return a[0]=n-i.left,a[1]=o-i.top,a}},function(e,t,r){"use strict";e.exports=function(e,t,r,a,n){var o=(e-r)/(a-r),i=o+t/(a-r),l=(o+i)/2;return"left"===n||"bottom"===n?o:"center"===n||"middle"===n?l:"right"===n||"top"===n?i:o<2/3-l?o:i>4/3-l?i:l}},function(e,t,r){"use strict";var a=r(0),n=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(e,t,r,o){return e="left"===r?0:"center"===r?1:"right"===r?2:a.constrain(Math.floor(3*e),0,2),t="bottom"===o?0:"middle"===o?1:"top"===o?2:a.constrain(Math.floor(3*t),0,2),n[t][e]}},function(e,t,r){"use strict";var a=r(205),n=r(69),o=r(75),i=r(200),l=e.exports={};l.wrapped=function(e,t,r){(e=o(e))._fullLayout&&n.clear(e._fullLayout._uid+i.HOVERID),l.raw(e,t,r)},l.raw=function(e,t){var r=e._fullLayout,n=e._hoverdata;t||(t={}),t.target&&!1===a.triggerHandler(e,"plotly_beforehover",t)||(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&n&&e.emit("plotly_unhover",{event:t,points:n}))}},function(e,t,r){"use strict";var a=r(202),n="data-savedcursor";e.exports=function(e,t){var r=e.attr(n);if(t){if(!r){for(var o=(e.attr("class")||"").split(" "),i=0;i<o.length;i++){var l=o[i];0===l.indexOf("cursor-")&&e.attr(n,l.substr(7)).classed(l,!1)}e.attr(n)||e.attr(n,"!!")}a(e,t)}else r&&(e.attr(n,null),"!!"===r?a(e):a(e,r))}},function(e,t,r){"use strict";var a=r(0),n=r(210),o=r(204);e.exports=function(e,t){n(e,t,function(r,n){return a.coerce(e,t,o,r,n)})}},function(e,t,r){"use strict";var a=r(0),n=r(68),o=r(210);e.exports=function(e,t,r,i){o(e,t,function(r,o){return a.coerce(e,t,n,r,o)},i.hoverlabel)}},function(e,t,r){"use strict";var a=r(0),n=r(204);e.exports=function(e,t,r){function o(r,o){return a.coerce(e,t,n,r,o)}var i,l=o("clickmode");"select"===o("dragmode")&&o("selectdirection"),t._has("cartesian")?l.indexOf("select")>-1?i="closest":(t._isHoriz=function(e){for(var t=!0,r=0;r<e.length;r++){var a=e[r];if("h"!==a.orientation){t=!1;break}}return t}(r),i=t._isHoriz?"y":"x"):i="closest",o("hovermode",i)&&(o("hoverdistance"),o("spikedistance"));var s=t._has("mapbox"),c=t._has("geo"),d=t._basePlotModules.length;"zoom"===t.dragmode&&((s||c)&&1===d||s&&c&&2===d)&&(t.dragmode="pan")}},function(e,t,r){"use strict";var a=r(0),n=r(5);function o(e,t,r,n){n=n||a.identity,Array.isArray(e)&&(t[0][r]=n(e))}e.exports=function(e){var t=e.calcdata,r=e._fullLayout;function i(e){return function(t){return a.coerceHoverinfo({hoverinfo:t},{_module:e._module},r)}}for(var l=0;l<t.length;l++){var s=t[l],c=s[0].trace;if(!n.traceIs(c,"pie")){var d=n.traceIs(c,"2dMap")?o:a.fillArray;d(c.hoverinfo,s,"hi",i(c)),c.hoverlabel&&(d(c.hoverlabel.bgcolor,s,"hbg"),d(c.hoverlabel.bordercolor,s,"hbc"),d(c.hoverlabel.font.size,s,"hts"),d(c.hoverlabel.font.color,s,"htc"),d(c.hoverlabel.font.family,s,"htf"),d(c.hoverlabel.namelength,s,"hnl"))}}}},function(e,t,r){"use strict";var a=r(5),n=r(209).hover;e.exports=function(e,t,r){var o=a.getComponentMethod("annotations","onClick")(e,e._hoverdata);function i(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==r&&n(e,t,r,!0),e._hoverdata&&t&&t.target&&(o&&o.then?o.then(i):i(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},function(e,t,r){"use strict";var a=r(79).dot,n=r(4).BADNUM,o=e.exports={};o.tester=function(e){var t,r=e.slice(),a=r[0][0],o=a,i=r[0][1],l=i;for(r.push(r[0]),t=1;t<r.length;t++)a=Math.min(a,r[t][0]),o=Math.max(o,r[t][0]),i=Math.min(i,r[t][1]),l=Math.max(l,r[t][1]);var s,c=!1;5===r.length&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(c=!0,s=function(e){return e[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(c=!0,s=function(e){return e[1]===r[0][1]}));var d=!0,u=r[0];for(t=1;t<r.length;t++)if(u[0]!==r[t][0]||u[1]!==r[t][1]){d=!1;break}return{xmin:a,xmax:o,ymin:i,ymax:l,pts:r,contains:c?function(e,t){var r=e[0],c=e[1];return!(r===n||r<a||r>o||c===n||c<i||c>l||t&&s(e))}:function(e,t){var s=e[0],c=e[1];if(s===n||s<a||s>o||c===n||c<i||c>l)return!1;var d,u,h,f,p,g=r.length,v=r[0][0],m=r[0][1],y=0;for(d=1;d<g;d++)if(u=v,h=m,v=r[d][0],m=r[d][1],!(s<(f=Math.min(u,v))||s>Math.max(u,v)||c>Math.max(h,m)))if(c<Math.min(h,m))s!==f&&y++;else{if(c===(p=v===u?c:h+(s-u)*(m-h)/(v-u)))return 1!==d||!t;c<=p&&s!==f&&y++}return y%2==1},isRect:c,degenerate:d}};var i=o.isSegmentBent=function(e,t,r,n){var o,i,l,s=e[t],c=[e[r][0]-s[0],e[r][1]-s[1]],d=a(c,c),u=Math.sqrt(d),h=[-c[1]/u,c[0]/u];for(o=t+1;o<r;o++)if(i=[e[o][0]-s[0],e[o][1]-s[1]],(l=a(i,c))<0||l>d||Math.abs(a(i,h))>n)return!0;return!1};o.filter=function(e,t){var r=[e[0]],a=0,n=0;function o(o){e.push(o);var l=r.length,s=a;r.splice(n+1);for(var c=s+1;c<e.length;c++)(c===e.length-1||i(e,s,c+1,t))&&(r.push(e[c]),r.length<l-2&&(a=c,n=r.length-1),s=c)}e.length>1&&o(e.pop());return{addPt:o,raw:e,filtered:r}}},function(e,t,r){"use strict";var a=r(5),n=r(28).SUBPLOT_PATTERN;t.getSubplotCalcData=function(e,t,r){var n=a.subplotsRegistry[t];if(!n)return[];for(var o=n.attr,i=[],l=0;l<e.length;l++){var s=e[l];s[0].trace[o]===r&&i.push(s)}return i},t.getModuleCalcData=function(e,t){var r,n=[],o=[];if(!(r="string"==typeof t?a.getModule(t).plot:"function"==typeof t?t:t.plot))return[n,e];for(var i=0;i<e.length;i++){var l=e[i],s=l[0].trace;!0===s.visible&&(s._module.plot===r?n.push(l):o.push(l))}return[n,o]},t.getSubplotData=function(e,t,r){if(!a.subplotsRegistry[t])return[];var o,i,l,s=a.subplotsRegistry[t].attr,c=[];if("gl2d"===t){var d=r.match(n);i="x"+d[1],l="y"+d[2]}for(var u=0;u<e.length;u++)o=e[u],"gl2d"===t&&a.traceIs(o,"gl2d")?o[s[0]]===i&&o[s[1]]===l&&c.push(o):o[s]===r&&c.push(o);return c}},function(e,t,r){"use strict";var a=r(5),n=r(0),o=r(13),i=r(80),l=r(81),s=r(82),c=r(235),d=r(236),u=r(85);e.exports=function(e,t,r,h,f){var p=h.letter,g=h.font||{},v=h.splomStash||{},m=r("visible",!h.cheateronly),y=t.type;"date"===y&&a.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",h.calendar);if(u(t,f),!r("autorange",!t.isValidRange(e.range))||"linear"!==y&&"-"!==y||r("rangemode"),r("range"),t.cleanRange(),c(e,t,r,h),"category"===y||h.noHover||r("hoverformat"),!m)return t;var x=r("color"),b=x!==o.color.dflt?x:g.color;return r("title",v.label||f._dfltTitle[p]),n.coerceFont(r,"titlefont",{family:g.family,size:Math.round(1.2*g.size),color:b}),i(e,t,r,y),s(e,t,r,y,h),l(e,t,r,h),d(e,t,r,{dfltColor:x,bgColor:h.bgColor,showGrid:h.showGrid,attributes:o}),(t.showline||t.ticks)&&r("mirror"),h.automargin&&r("automargin"),t}},function(e,t,r){"use strict";var a=r(1),n=r(0);e.exports=function(e,t,r,o){var i,l,s,c,d=o.counterAxes||[],u=o.overlayableAxes||[],h=o.letter,f=o.grid;f&&(l=f._domains[h][f._axisMap[t._id]],i=f._anchors[t._id],l&&(s=f[h+"side"].split(" ")[0],c=f.domain[h]["right"===s||"top"===s?1:0])),l=l||[0,1],i=i||(a(e.position)?"free":d[0]||"free"),s=s||("x"===h?"bottom":"left"),c=c||0,"free"===n.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(d),dflt:i}},"anchor")&&r("position",c),n.coerce(e,t,{side:{valType:"enumerated",values:"x"===h?["bottom","top"]:["left","right"],dflt:s}},"side");var p=!1;if(u.length&&(p=n.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(u),dflt:!1}},"overlaying")),!p){var g=r("domain",l);g[0]>g[1]-.01&&(t.domain=l),n.noneOrAll(e.domain,t.domain,l)}return r("layer"),t}},function(e,t,r){"use strict";var a=r(3),n=r(201),o=r(199),i=r(202),l=r(237).makeDragBox,s=r(28).DRAGGERSIZE;t.initInteractions=function(e){var r=e._fullLayout;if(e._context.staticPlot)a.select(e).selectAll(".drag").remove();else if(r._has("cartesian")||r._has("splom")){Object.keys(r._plots||{}).sort(function(e,t){if((r._plots[e].mainplot&&!0)===(r._plots[t].mainplot&&!0)){var a=e.split("y"),n=t.split("y");return a[0]===n[0]?Number(a[1]||1)-Number(n[1]||1):Number(a[0]||1)-Number(n[0]||1)}return r._plots[e].mainplot?1:-1}).forEach(function(t){var a=r._plots[t],i=a.xaxis,c=a.yaxis;if(!a.mainplot){var d=l(e,a,i._offset,c._offset,i._length,c._length,"ns","ew");d.onmousemove=function(r){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===t&&n.hover(e,r,t)},n.hover(e,r,t),e._fullLayout._lasthover=d,e._fullLayout._hoversubplot=t},d.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,o.unhover(e,t))},e._context.showAxisDragHandles&&(l(e,a,i._offset-s,c._offset-s,s,s,"n","w"),l(e,a,i._offset+i._length,c._offset-s,s,s,"n","e"),l(e,a,i._offset-s,c._offset+c._length,s,s,"s","w"),l(e,a,i._offset+i._length,c._offset+c._length,s,s,"s","e"))}if(e._context.showAxisDragHandles){if(t===i._mainSubplot){var u=i._mainLinePosition;"top"===i.side&&(u-=s),l(e,a,i._offset+.1*i._length,u,.8*i._length,s,"","ew"),l(e,a,i._offset,u,.1*i._length,s,"","w"),l(e,a,i._offset+.9*i._length,u,.1*i._length,s,"","e")}if(t===c._mainSubplot){var h=c._mainLinePosition;"right"!==c.side&&(h-=s),l(e,a,h,c._offset+.1*c._length,s,.8*c._length,"ns",""),l(e,a,h,c._offset+.9*c._length,s,.1*c._length,"s",""),l(e,a,h,c._offset,s,.1*c._length,"n","")}}});var i=r._hoverlayer.node();i.onmousemove=function(t){t.target=e._fullLayout._lasthover,n.hover(e,t,r._hoversubplot)},i.onclick=function(t){t.target=e._fullLayout._lasthover,n.click(e,t)},i.onmousedown=function(t){e._fullLayout._lasthover.onmousedown(t)},t.updateFx(e)}},t.updateFx=function(e){var t=e._fullLayout,r="pan"===t.dragmode?"move":"crosshair";i(t._draggers,r)}},function(e,t,r){"use strict";var a=r(3),n=r(5),o=r(0),i=r(43),l=r(26),s=r(228).getModuleCalcData,c=r(27),d=r(28),u=r(45),h=o.ensureSingle;function f(e,t,r){return o.ensureSingle(e,t,r,function(e){e.datum(r)})}function p(e,t,r,o,i){for(var c,u,h,f=d.traceLayerClasses,p=e._fullLayout,g=p._modules,v=[],m=[],y=0;y<g.length;y++){var x=(c=g[y]).name,b=n.modules[x].categories;if(b.svg){var _=c.layerName||x+"layer",w=c.plot;h=(u=s(r,w))[0],r=u[1],h.length&&v.push({i:f.indexOf(_),className:_,plotMethod:w,cdModule:h}),b.zoomScale&&m.push("."+_)}}v.sort(function(e,t){return e.i-t.i});var k=t.plot.selectAll("g.mlayer").data(v,function(e){return e.className});if(k.enter().append("g").attr("class",function(e){return e.className}).classed("mlayer",!0),k.exit().remove(),k.order(),k.each(function(r){var n=a.select(this),s=r.className;r.plotMethod(e,t,r.cdModule,n,o,i),"scatterlayer"!==s&&"barlayer"!==s&&l.setClipUrl(n,t.layerClipId)}),p._has("scattergl")&&(c=n.getModule("scattergl"),h=s(r,c)[0],c.plot(e,t,h)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(".scatterlayer, .barlayer").selectAll(".trace")),m.length)){var T=t.plot.selectAll(m.join(",")).selectAll(".trace");t.zoomScalePts=T.selectAll("path.point"),t.zoomScaleTxt=T.selectAll(".textpoint")}}function g(e,t){var r=t.plotgroup,a=t.id,n=d.layerValue2layerClass[t.xaxis.layer],o=d.layerValue2layerClass[t.yaxis.layer],i=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var l=t.mainplotinfo,s=l.plotgroup,u=a+"-x",p=a+"-y";t.gridlayer=l.gridlayer,t.zerolinelayer=l.zerolinelayer,h(l.overlinesBelow,"path",u),h(l.overlinesBelow,"path",p),h(l.overaxesBelow,"g",u),h(l.overaxesBelow,"g",p),t.plot=h(l.overplot,"g",a),h(l.overlinesAbove,"path",u),h(l.overlinesAbove,"path",p),h(l.overaxesAbove,"g",u),h(l.overaxesAbove,"g",p),t.xlines=s.select(".overlines-"+n).select("."+u),t.ylines=s.select(".overlines-"+o).select("."+p),t.xaxislayer=s.select(".overaxes-"+n).select("."+u),t.yaxislayer=s.select(".overaxes-"+o).select("."+p)}else if(i)t.xlines=h(r,"path","xlines-above"),t.ylines=h(r,"path","ylines-above"),t.xaxislayer=h(r,"g","xaxislayer-above"),t.yaxislayer=h(r,"g","yaxislayer-above");else{var g=h(r,"g","layer-subplot");t.shapelayer=h(g,"g","shapelayer"),t.imagelayer=h(g,"g","imagelayer"),t.gridlayer=h(r,"g","gridlayer"),t.zerolinelayer=h(r,"g","zerolinelayer"),h(r,"path","xlines-below"),h(r,"path","ylines-below"),t.overlinesBelow=h(r,"g","overlines-below"),h(r,"g","xaxislayer-below"),h(r,"g","yaxislayer-below"),t.overaxesBelow=h(r,"g","overaxes-below"),t.plot=h(r,"g","plot"),t.overplot=h(r,"g","overplot"),t.xlines=h(r,"path","xlines-above"),t.ylines=h(r,"path","ylines-above"),t.overlinesAbove=h(r,"g","overlines-above"),h(r,"g","xaxislayer-above"),h(r,"g","yaxislayer-above"),t.overaxesAbove=h(r,"g","overaxes-above"),t.xlines=r.select(".xlines-"+n),t.ylines=r.select(".ylines-"+o),t.xaxislayer=r.select(".xaxislayer-"+n),t.yaxislayer=r.select(".yaxislayer-"+o)}i||(f(t.gridlayer,"g",t.xaxis._id),f(t.gridlayer,"g",t.yaxis._id),t.gridlayer.selectAll("g").map(function(e){return e[0]}).sort(c.idSort)),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function v(e,t){if(e){var r={};for(var n in e.each(function(e){var n=e[0];a.select(this).remove(),m(n,t),r[n]=!0}),t._plots)for(var o=t._plots[n].overlays||[],i=0;i<o.length;i++){var l=o[i];r[l.id]&&l.plot.selectAll(".trace").remove()}}}function m(e,t){t._draggers.selectAll("g."+e).remove(),t._defs.select("#clip"+t._uid+e+"plot").remove()}t.name="cartesian",t.attr=["xaxis","yaxis"],t.idRoot=["x","y"],t.idRegex=d.idRegex,t.attrRegex=d.attrRegex,t.attributes=r(251),t.layoutAttributes=r(13),t.supplyLayoutDefaults=r(252),t.transitionAxes=r(255),t.finalizeSubplots=function(e,t){var r,a,n,i=t._subplots,l=i.xaxis,s=i.yaxis,u=i.cartesian,h=u.concat(i.gl2d||[]),f={},p={};for(r=0;r<h.length;r++){var g=h[r].split("y");f[g[0]]=1,p["y"+g[1]]=1}for(r=0;r<l.length;r++)f[a=l[r]]||(n=(e[c.id2name(a)]||{}).anchor,d.idRegex.y.test(n)||(n="y"),u.push(a+n),h.push(a+n),p[n]||(p[n]=1,o.pushUnique(s,n)));for(r=0;r<s.length;r++)p[n=s[r]]||(a=(e[c.id2name(n)]||{}).anchor,d.idRegex.x.test(a)||(a="x"),u.push(a+n),h.push(a+n),f[a]||(f[a]=1,o.pushUnique(l,a)));if(!h.length){for(var v in a="",n="",e){if(d.attrRegex.test(v))"x"===v.charAt(0)?(!a||+v.substr(5)<+a.substr(5))&&(a=v):(!n||+v.substr(5)<+n.substr(5))&&(n=v)}a=a?c.name2id(a):"x",n=n?c.name2id(n):"y",l.push(a),s.push(n),u.push(a+n)}},t.plot=function(e,t,r,a){var n,o=e._fullLayout,i=o._subplots.cartesian,l=e.calcdata;if(null!==t){if(!Array.isArray(t))for(t=[],n=0;n<l.length;n++)t.push(n);for(n=0;n<i.length;n++){for(var s,c=i[n],d=o._plots[c],u=[],h=0;h<l.length;h++){var f=l[h],g=f[0].trace;g.xaxis+g.yaxis===c&&((-1!==t.indexOf(g.index)||g.carpet)&&(s&&s[0].trace.xaxis+s[0].trace.yaxis===c&&-1!==["tonextx","tonexty","tonext"].indexOf(g.fill)&&-1===u.indexOf(s)&&u.push(s),u.push(f)),s=f)}p(e,d,u,r,a)}}},t.clean=function(e,t,r,a){var n,o,i,l=a._plots||{},s=t._plots||{},d=a._subplots||{};if(a._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(i in l)(n=l[i]).plotgroup&&n.plotgroup.remove();var u=a._has&&a._has("gl"),h=t._has&&t._has("gl");if(u&&!h)for(i in l)(n=l[i])._scene&&n._scene.destroy();if(d.xaxis&&d.yaxis){var f=c.listIds({_fullLayout:a});for(o=0;o<f.length;o++){var p=f[o];t[c.id2name(p)]||a._infolayer.selectAll(".g-"+p+"title").remove()}}var g=a._has&&a._has("cartesian"),y=t._has&&t._has("cartesian");if(g&&!y)v(a._cartesianlayer.selectAll(".subplot"),a),a._defs.selectAll(".axesclip").remove(),delete a._axisConstraintGroups;else if(d.cartesian)for(o=0;o<d.cartesian.length;o++){var x=d.cartesian[o];if(!s[x]){var b="."+x+",."+x+"-x,."+x+"-y";a._cartesianlayer.selectAll(b).remove(),m(x,a)}}},t.drawFramework=function(e){var t=e._fullLayout,r=function(e){var t,r,a,n,o,i,l=e._fullLayout,s=l._subplots.cartesian,c=s.length,d=[],u=[];for(t=0;t<c;t++){a=s[t],n=l._plots[a],o=n.xaxis,i=n.yaxis;var h=o._mainAxis,f=i._mainAxis,p=h._id+f._id,g=l._plots[p];n.overlays=[],p!==a&&g?(n.mainplot=p,n.mainplotinfo=g,u.push(a)):(n.mainplot=void 0,n.mainPlotinfo=void 0,d.push(a))}for(t=0;t<u.length;t++)a=u[t],(n=l._plots[a]).mainplotinfo.overlays.push(n);var v=d.concat(u),m=new Array(c);for(t=0;t<c;t++){a=v[t],n=l._plots[a],o=n.xaxis,i=n.yaxis;var y=[a,o.layer,i.layer,o.overlaying||"",i.overlaying||""];for(r=0;r<n.overlays.length;r++)y.push(n.overlays[r].id);m[t]=y}return m}(e),n=t._cartesianlayer.selectAll(".subplot").data(r,String);n.enter().append("g").attr("class",function(e){return"subplot "+e[0]}),n.order(),n.exit().call(v,t),n.each(function(r){var n=r[0],o=t._plots[n];o.plotgroup=a.select(this),g(e,o),o.draglayer=h(t._draggers,"g",n)})},t.rangePlot=function(e,t,r){g(e,t),p(e,t,r),i.style(e)},t.toSVG=function(e){var t=e._fullLayout._glimages,r=a.select(e).selectAll(".svg-container");r.filter(function(e,t){return t===r.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var e=this.toDataURL("image/png");t.append("svg:image").attr({xmlns:u.svg,"xlink:href":e,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})})},t.updateFx=r(231).updateFx},,,function(e,t,r){"use strict";e.exports=function(e,t,r,a){if("category"===t.type){var n,o=e.categoryarray,i=Array.isArray(o)&&o.length>0;i&&(n="array");var l,s=r("categoryorder",n);"array"===s&&(l=r("categoryarray")),i||"array"!==s||(s=t.categoryorder="trace"),"trace"===s?t._initialCategories=[]:"array"===s?t._initialCategories=l.slice():(l=function(e,t){var r,a,n,o=t.dataAttr||e._id.charAt(0),i={};if(t.axData)r=t.axData;else for(r=[],a=0;a<t.data.length;a++){var l=t.data[a];l[o+"axis"]===e._id&&r.push(l)}for(a=0;a<r.length;a++){var s=r[a][o];for(n=0;n<s.length;n++){var c=s[n];null!==c&&void 0!==c&&(i[c]=1)}}return Object.keys(i)}(t,a).sort(),"category ascending"===s?t._initialCategories=l:"category descending"===s&&(t._initialCategories=l.reverse()))}}},function(e,t,r){"use strict";var a=r(12).mix,n=r(30).lightFraction,o=r(0);e.exports=function(e,t,r,i){var l=(i=i||{}).dfltColor;function s(r,a){return o.coerce2(e,t,i.attributes,r,a)}var c=s("linecolor",l),d=s("linewidth");r("showline",i.showLine||!!c||!!d)||(delete t.linecolor,delete t.linewidth);var u=s("gridcolor",a(l,i.bgColor,i.blend||n).toRgbString()),h=s("gridwidth");if(r("showgrid",i.showGrid||!!u||!!h)||(delete t.gridcolor,delete t.gridwidth),!i.noZeroLine){var f=s("zerolinecolor",l),p=s("zerolinewidth");r("zeroline",i.showGrid||!!f||!!p)||(delete t.zerolinecolor,delete t.zerolinewidth)}}},function(e,t,r){"use strict";var a=r(3),n=r(12),o=r(211),i=r(5),l=r(0),s=r(29),c=r(11),d=r(26),u=r(201),h=r(202),f=r(199),p=r(20).FROM_TL,g=r(206),v=r(212).redrawReglTraces,m=r(43),y=r(65).doTicksSingle,x=r(27).getFromId,b=r(207).prepSelect,_=r(207).clearSelect,w=r(207).selectOnClick,k=r(215),T=r(28),A=T.MINDRAG,M=T.MINZOOM,S=!0;function L(e,t,r,a){var n=l.ensureSingle(e.draglayer,t,r,function(t){t.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return n.call(h,a),n.node()}function C(e,t,r,n,o,i,l){var s=L(e,"rect",t,r);return a.select(s).call(d.setRect,n,o,i,l),s}function z(e,t){for(var r=0;r<e.length;r++)if(!e[r].fixedrange)return t;return""}function P(e,t,r,a,n){var o,i,l,s;for(o=0;o<e.length;o++)(i=e[o]).fixedrange||(l=i._rl[0],s=i._rl[1]-l,i.range=[i.l2r(l+s*t),i.l2r(l+s*r)],a[i._name+".range[0]"]=i.range[0],a[i._name+".range[1]"]=i.range[1]);if(n&&n.length){var c=(t+(1-r))/2;P(n,c,1-c,a)}}function O(e,t){for(var r=0;r<e.length;r++){var a=e[r];a.fixedrange||(a.range=[a.l2r(a._rl[0]-t/a._m),a.l2r(a._rl[1]-t/a._m)])}}function I(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function D(e,t,r,a,n){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+r+", "+a+")").attr("d",n+"Z")}function R(e,t,r){return e.append("path").attr("class","zoombox-corners").style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+t+", "+r+")").attr("d","M0,0Z")}function E(e,t,r,a,n,o){e.attr("d",a+"M"+r.l+","+r.t+"v"+r.h+"h"+r.w+"v-"+r.h+"h-"+r.w+"Z"),j(e,t,n,o)}function j(e,t,r,a){r||(e.transition().style("fill",a>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function F(e){a.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function N(e){S&&e.data&&e._context.showTips&&(l.notifier(l._(e,"Double-click to zoom back out"),"long"),S=!1)}function B(e){return"lasso"===e||"select"===e}function H(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,M)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function V(e,t){if(o){var r=void 0!==e.onwheel?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(r,e._onwheel),e._onwheel=t,e.addEventListener(r,t,{passive:!1})}else void 0!==e.onwheel?e.onwheel=t:void 0!==e.onmousewheel&&(e.onmousewheel=t)}function q(e){var t=[];for(var r in e)t.push(e[r]);return t}e.exports={makeDragBox:function(e,t,r,o,c,h,S,L){var j,G,X,W,Z,Y,U,Q,J,K,$,ee,te,re,ae,ne,oe,ie,le,se,ce,de=e._fullLayout._zoomlayer,ue=S+L==="nsew",he=1===(S+L).length;function fe(){if(j=t.xaxis,G=t.yaxis,J=j._length,K=G._length,U=j._offset,Q=G._offset,(X={})[j._id]=j,(W={})[G._id]=G,S&&L)for(var r=t.overlays,a=0;a<r.length;a++){var n=r[a].xaxis;X[n._id]=n;var o=r[a].yaxis;W[o._id]=o}Z=q(X),Y=q(W),ee=z(Z,L),te=z(Y,S),re=!te&&!ee,$=function(e,t,r){for(var a,n,o,i,s=e._fullLayout._axisConstraintGroups,c=!1,d={},u={},h=0;h<s.length;h++){var f=s[h];for(a in t)if(f[a]){for(o in f)("x"===o.charAt(0)?t:r)[o]||(d[o]=1);for(n in r)f[n]&&(c=!0)}for(n in r)if(f[n])for(i in f)("x"===i.charAt(0)?t:r)[i]||(u[i]=1)}c&&(l.extendFlat(d,u),u={});var p={},g=[];for(o in d){var v=x(e,o);g.push(v),p[v._id]=v}var m={},y=[];for(i in u){var b=x(e,i);y.push(b),m[b._id]=b}return{xaHash:p,yaHash:m,xaxes:g,yaxes:y,isSubplotConstrained:c}}(e,X,W),ae=$.isSubplotConstrained,ne=L||ae,oe=S||ae;var i=e._fullLayout;ie=i._has("scattergl"),le=i._has("splom"),se=i._has("svg")}fe();var pe=function(e,t,r){return e?"nsew"===e?r?"":"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}(te+ee,e._fullLayout.dragmode,ue),ge=C(t,S+L+"drag",pe,r,o,c,h);if(re&&!ue)return ge.onmousedown=null,ge.style.pointerEvents="none",ge;var ve,me,ye,xe,be,_e,we,ke,Te,Ae,Me={element:ge,gd:e,plotinfo:t};function Se(){Me.plotinfo.selection=!1,_(de)}function Le(r,n){var o=e._fullLayout.clickmode;if(F(e),2!==r||he||function(){if(!e._transitioningWithDuration){var t,r,a,n=e._context.doubleClick,o=(ee?Z:[]).concat(te?Y:[]),l={};if("reset+autosize"===n)for(n="autosize",r=0;r<o.length;r++)if((t=o[r])._rangeInitial&&(t.range[0]!==t._rangeInitial[0]||t.range[1]!==t._rangeInitial[1])||!t._rangeInitial&&!t.autorange){n="reset";break}if("autosize"===n)for(r=0;r<o.length;r++)(t=o[r]).fixedrange||(l[t._name+".autorange"]=!0);else if("reset"===n)for((ee||ae)&&(o=o.concat($.xaxes)),te&&!ae&&(o=o.concat($.yaxes)),ae&&(ee?te||(o=o.concat(Y)):o=o.concat(Z)),r=0;r<o.length;r++)(t=o[r])._rangeInitial?(a=t._rangeInitial,l[t._name+".range[0]"]=a[0],l[t._name+".range[1]"]=a[1]):l[t._name+".autorange"]=!0;e.emit("plotly_doubleclick",null),i.call("relayout",e,l)}}(),ue)o.indexOf("select")>-1&&w(n,e,Z,Y,t.id,Me),o.indexOf("event")>-1&&u.click(e,n,t.id);else if(1===r&&he){var l=S?G:j,c="s"===S||"w"===L?0:1,d=l._name+".range["+c+"]",h=function(e,t){var r,n=e.range[t],o=Math.abs(n-e.range[1-t]);return"date"===e.type?n:"log"===e.type?(r=Math.ceil(Math.max(0,-Math.log(o)/Math.LN10))+3,a.format("."+r+"g")(Math.pow(10,n))):(r=Math.floor(Math.log(Math.abs(n))/Math.LN10)-Math.floor(Math.log(o)/Math.LN10)+4,a.format("."+String(r)+"g")(n))}(l,c),f="left",p="middle";if(l.fixedrange)return;S?(p="n"===S?"top":"bottom","right"===l.side&&(f="right")):"e"===L&&(f="right"),e._context.showAxisRangeEntryBoxes&&a.select(ge).call(s.makeEditable,{gd:e,immediate:!0,background:e._fullLayout.paper_bgcolor,text:String(h),fill:l.tickfont?l.tickfont.color:"#444",horizontalAlign:f,verticalAlign:p}).on("edit",function(t){var r=l.d2r(t);void 0!==r&&i.call("relayout",e,d,r)})}}function Ce(t,r){if(e._transitioningWithDuration)return!1;var a=Math.max(0,Math.min(J,t+ve)),n=Math.max(0,Math.min(K,r+me)),o=Math.abs(a-ve),i=Math.abs(n-me);function l(){we="",ye.r=ye.l,ye.t=ye.b,Te.attr("d","M0,0Z")}ye.l=Math.min(ve,a),ye.r=Math.max(ve,a),ye.t=Math.min(me,n),ye.b=Math.max(me,n),ae?o>M||i>M?(we="xy",o/J>i/K?(i=o*K/J,me>n?ye.t=me-i:ye.b=me+i):(o=i*J/K,ve>a?ye.l=ve-o:ye.r=ve+o),Te.attr("d",H(ye))):l():!te||i<Math.min(Math.max(.6*o,A),M)?o<A||!ee?l():(ye.t=0,ye.b=K,we="x",Te.attr("d",function(e,t){return"M"+(e.l-.5)+","+(t-M-.5)+"h-3v"+(2*M+1)+"h3ZM"+(e.r+.5)+","+(t-M-.5)+"h3v"+(2*M+1)+"h-3Z"}(ye,me))):!ee||o<Math.min(.6*i,M)?(ye.l=0,ye.r=J,we="y",Te.attr("d",function(e,t){return"M"+(t-M-.5)+","+(e.t-.5)+"v-3h"+(2*M+1)+"v3ZM"+(t-M-.5)+","+(e.b+.5)+"v3h"+(2*M+1)+"v-3Z"}(ye,ve))):(we="xy",Te.attr("d",H(ye))),ye.w=ye.r-ye.l,ye.h=ye.b-ye.t,we&&(Ae=!0),e._dragged=Ae,E(ke,Te,ye,be,_e,xe),_e=!0}function ze(){if(ce={},Math.min(ye.h,ye.w)<2*A)return F(e);"xy"!==we&&"x"!==we||P(Z,ye.l/J,ye.r/J,ce,$.xaxes),"xy"!==we&&"y"!==we||P(Y,(K-ye.b)/K,(K-ye.t)/K,ce,$.yaxes),F(e),Ne(),N(e)}Me.prepFn=function(t,r,a){var o=Me.dragmode,i=e._fullLayout.dragmode;i!==o&&(Me.dragmode=i),fe(),re||(ue?t.shiftKey?"pan"===i?i="zoom":B(i)||(i="pan"):t.ctrlKey&&(i="pan"):i="pan"),Me.minDrag="lasso"===i?1:void 0,B(i)?(Me.xaxes=Z,Me.yaxes=Y,b(t,r,a,Me,i)):(Me.clickFn=Le,B(o)&&Se(),re||("zoom"===i?(Me.moveFn=Ce,Me.doneFn=ze,Me.minDrag=1,function(t,r,a){var o=ge.getBoundingClientRect();ve=r-o.left,me=a-o.top,ye={l:ve,r:ve,w:0,t:me,b:me,h:0},xe=e._hmpixcount?e._hmlumcount/e._hmpixcount:n(e._fullLayout.plot_bgcolor).getLuminance(),_e=!1,we="xy",Ae=!1,ke=D(de,xe,U,Q,be="M0,0H"+J+"V"+K+"H0V0"),Te=R(de,U,Q)}(0,r,a)):"pan"===i&&(Me.moveFn=je,Me.doneFn=Ne)))},f.init(Me);var Pe,Oe,Ie=[0,0,J,K],De=null,Re=T.REDRAWDELAY,Ee=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function je(t,r){if(!e._transitioningWithDuration){if("ew"===ee||"ns"===te)return ee&&O(Z,t),te&&O(Y,r),Be([ee?-t:0,te?-r:0,J,K]),void Fe(te,ee);if(ae&&ee&&te){var a="w"===ee==("n"===te)?1:-1,n=(t/J+a*r/K)/2;t=n*J,r=a*n*K}"w"===ee?t=s(Z,0,t):"e"===ee?t=s(Z,1,-t):ee||(t=0),"n"===te?r=s(Y,1,r):"s"===te?r=s(Y,0,-r):te||(r=0);var o="w"===ee?t:0,i="n"===te?r:0;if(ae){var l;if(!ee&&1===te.length){for(l=0;l<Z.length;l++)Z[l].range=Z[l]._r.slice(),k(Z[l],1-r/K);o=(t=r*J/K)/2}if(!te&&1===ee.length){for(l=0;l<Y.length;l++)Y[l].range=Y[l]._r.slice(),k(Y[l],1-t/J);i=(r=t*K/J)/2}}Be([o,i,J-t,K-r]),Fe(te,ee)}function s(e,t,r){for(var a,n,o=1-t,i=0;i<e.length;i++){var l=e[i];if(!l.fixedrange){a=l,n=l._rl[o]+(l._rl[t]-l._rl[o])/I(r/l._length);var s=l.l2r(n);!1!==s&&void 0!==s&&(l.range[t]=s)}}return a._length*(a._rl[t]-n)/(a._rl[t]-a._rl[o])}}function Fe(t,r){var a,n=[];function o(e){for(a=0;a<e.length;a++)e[a].fixedrange||n.push(e[a]._id)}for(ne&&(o(Z),o($.xaxes)),oe&&(o(Y),o($.yaxes)),ce={},a=0;a<n.length;a++){var l=n[a];y(e,l,!0);var s=x(e,l);ce[s._name+".range[0]"]=s.range[0],ce[s._name+".range[1]"]=s.range[1]}function c(o,i,l){for(a=0;a<o.length;a++){var s=o[a];if((r&&-1!==n.indexOf(s.xref)||t&&-1!==n.indexOf(s.yref))&&(i(e,a),l))return}}c(e._fullLayout.annotations||[],i.getComponentMethod("annotations","drawOne")),c(e._fullLayout.shapes||[],i.getComponentMethod("shapes","drawOne")),c(e._fullLayout.images||[],i.getComponentMethod("images","draw"),!0)}function Ne(){Be([0,0,J,K]),l.syncOrAsync([m.previousPromises,function(){i.call("relayout",e,ce)}],e)}function Be(t){var r,a,n,o,s=e._fullLayout,c=s._plots,u=s._subplots.cartesian;if(le&&i.subplotsRegistry.splom.drag(e),ie)for(r=0;r<u.length;r++)if(n=(a=c[u[r]]).xaxis,o=a.yaxis,a._scene){var h=l.simpleMap(n.range,n.r2l),f=l.simpleMap(o.range,o.r2l);a._scene.update({range:[h[0],f[0],h[1],f[1]]})}if((le||ie)&&(g(e),v(e)),se){var p=t[2]/j._length,m=t[3]/G._length;for(r=0;r<u.length;r++){n=(a=c[u[r]]).xaxis,o=a.yaxis;var y,x,b,_,w=ne&&!n.fixedrange&&X[n._id],k=oe&&!o.fixedrange&&W[o._id];if(w?(y=p,b=L?t[0]:qe(n,y)):b=Ve(n,y=He(n,p,m)),k?(x=m,_=S?t[1]:qe(o,x)):_=Ve(o,x=He(o,p,m)),y||x){y||(y=1),x||(x=1);var T=n._offset-b/y,A=o._offset-_/x;a.clipRect.call(d.setTranslate,b,_).call(d.setScale,y,x),a.plot.call(d.setTranslate,T,A).call(d.setScale,1/y,1/x),y===Pe&&x===Oe||(d.setPointGroupScale(a.zoomScalePts,y,x),d.setTextPointsScale(a.zoomScaleTxt,y,x)),d.hideOutsideRangePoints(a.clipOnAxisFalseTraces,a),Pe=y,Oe=x}}}}function He(e,t,r){return e.fixedrange?0:ne&&$.xaHash[e._id]?t:oe&&(ae?$.xaHash:$.yaHash)[e._id]?r:0}function Ve(e,t){return t?(e.range=e._r.slice(),k(e,t),qe(e,t)):0}function qe(e,t){return e._length*(1-t)*p[e.constraintoward||"middle"]}return S.length*L.length!=1&&V(ge,function(t){if(e._context.scrollZoom||e._fullLayout._enablescrollzoom){if(Se(),e._transitioningWithDuration)return t.preventDefault(),void t.stopPropagation();var r=e.querySelector(".plotly");if(fe(),!(r.scrollHeight-r.clientHeight>10||r.scrollWidth-r.clientWidth>10)){clearTimeout(De);var a=-t.deltaY;if(isFinite(a)||(a=t.wheelDelta/10),isFinite(a)){var n,o=Math.exp(-Math.min(Math.max(a,-20),20)/200),i=Ee.draglayer.select(".nsewdrag").node().getBoundingClientRect(),s=(t.clientX-i.left)/i.width,c=(i.bottom-t.clientY)/i.height;if(ne){for(L||(s=.5),n=0;n<Z.length;n++)d(Z[n],s,o);Ie[2]*=o,Ie[0]+=Ie[2]*s*(1/o-1)}if(oe){for(S||(c=.5),n=0;n<Y.length;n++)d(Y[n],c,o);Ie[3]*=o,Ie[1]+=Ie[3]*(1-c)*(1/o-1)}Be(Ie),Fe(S,L),De=setTimeout(function(){Ie=[0,0,J,K],Ne()},Re),t.preventDefault()}else l.log("Did not find wheel motion attributes: ",t)}}function d(e,t,r){if(!e.fixedrange){var a=l.simpleMap(e.range,e.r2l),n=a[0]+(a[1]-a[0])*t;e.range=a.map(function(t){return e.l2r(n+(t-n)*r)})}}}),ge},makeDragger:L,makeRectDragger:C,makeZoombox:D,makeCorners:R,updateZoombox:E,xyCorners:H,transitionZoombox:j,removeZoombox:F,showDoubleClickNotifier:N,attachWheelEventHandler:V}},function(e,t,r){"use strict";t.manage=r(239)},function(e,t,r){"use strict";var a=r(27),n=r(66),o=r(5),i=r(240),l=r(241);e.exports=function(e){var t=e._fullLayout,r=e._context,s=t._modeBar;if(r.displayModeBar){if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var c,d=r.modeBarButtons;c=Array.isArray(d)&&d.length?function(e){for(var t=0;t<e.length;t++)for(var r=e[t],a=0;a<r.length;a++){var n=r[a];if("string"==typeof n){if(void 0===l[n])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][a]=l[n]}}return e}(d):function(e,t,r){var i=e._fullLayout,s=e._fullData,c=i._has("cartesian"),d=i._has("gl3d"),u=i._has("geo"),h=i._has("pie"),f=i._has("gl2d"),p=i._has("ternary"),g=i._has("mapbox"),v=i._has("polar"),m=function(e){for(var t=a.list({_fullLayout:e},null,!0),r=0;r<t.length;r++)if(!t[r].fixedrange)return!1;return!0}(i),y=[];function x(e){if(e.length){for(var r=[],a=0;a<e.length;a++){var n=e[a];-1===t.indexOf(n)&&r.push(l[n])}y.push(r)}}x(["toImage","sendDataToCloud"]);var b=[],_=[],w=[],k=[];(c||f||h||p)+u+d+g+v>1?(_=["toggleHover"],w=["resetViews"]):u?(b=["zoomInGeo","zoomOutGeo"],_=["hoverClosestGeo"],w=["resetGeo"]):d?(_=["hoverClosest3d"],w=["resetCameraDefault3d","resetCameraLastSave3d"]):g?(_=["toggleHover"],w=["resetViewMapbox"]):_=f?["hoverClosestGl2d"]:h?["hoverClosestPie"]:["toggleHover"];c&&(_=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]);!c&&!f||m||(b=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==w[0]&&(w=["resetScale2d"]));d?k=["zoom3d","pan3d","orbitRotation","tableRotation"]:(c||f)&&!m||p?k=["zoom2d","pan2d"]:g||u?k=["pan2d"]:v&&(k=["zoom2d"]);(function(e){for(var t=!1,r=0;r<e.length&&!t;r++){var a=e[r];a._module&&a._module.selectPoints&&(o.traceIs(a,"scatter-like")?(n.hasMarkers(a)||n.hasText(a))&&(t=!0):o.traceIs(a,"box-violin")&&"all"!==a.boxpoints&&"all"!==a.points||(t=!0))}return t})(s)&&k.push("select2d","lasso2d");return x(k),x(b.concat(w)),x(_),function(e,t){if(t.length)if(Array.isArray(t[0]))for(var r=0;r<t.length;r++)e.push(t[r]);else e.push(t);return e}(y,r)}(e,r.modeBarButtonsToRemove,r.modeBarButtonsToAdd),s?s.update(e,c):t._modeBar=i(e,c)}else s&&(s.destroy(),delete t._modeBar)}},function(e,t,r){"use strict";var a=r(3),n=r(1),o=r(0),i=r(213),l=new DOMParser;function s(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var c=s.prototype;c.update=function(e,t){this.graphInfo=e;var r=this.graphInfo._context,a=this.graphInfo._fullLayout,n="modebar-"+a._uid;this.element.setAttribute("id",n),this._uid=n,"hover"===r.displayModeBar?this.element.className="modebar modebar--hover":this.element.className="modebar","v"===a.modebar.orientation&&(this.element.className+=" vertical",t=t.reverse()),o.deleteRelatedStyleRule(n),o.addRelatedStyleRule(n,"#"+n,"background-color: "+a.modebar.bgcolor),o.addRelatedStyleRule(n,"#"+n+" .modebar-btn .icon path","fill: "+a.modebar.color),o.addRelatedStyleRule(n,"#"+n+" .modebar-btn:hover .icon path","fill: "+a.modebar.activecolor),o.addRelatedStyleRule(n,"#"+n+" .modebar-btn.active .icon path","fill: "+a.modebar.activecolor);var i=!this.hasButtons(t),l=this.hasLogo!==r.displaylogo,s=this.locale!==r.locale;this.locale=r.locale,(i||l||s)&&(this.removeAllButtons(),this.updateButtons(t),r.displaylogo&&("v"===a.modebar.orientation?this.element.prepend(this.getLogo()):this.element.appendChild(this.getLogo()),this.hasLogo=!0)),this.updateActiveButton()},c.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(e){var r=t.createGroup();e.forEach(function(e){var a=e.name;if(!a)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(a))throw new Error("button name '"+a+"' is taken");t.buttonsNames.push(a);var n=t.createButton(e);t.buttonElements.push(n),r.appendChild(n)}),t.element.appendChild(r)})},c.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},c.createButton=function(e){var t=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var n=e.title;void 0===n?n=e.name:"function"==typeof n&&(n=n(this.graphInfo)),(n||0===n)&&r.setAttribute("data-title",n),void 0!==e.attr&&r.setAttribute("data-attr",e.attr);var o=e.val;if(void 0!==o&&("function"==typeof o&&(o=o(this.graphInfo)),r.setAttribute("data-val",o)),"function"!=typeof e.click)throw new Error("must provide button 'click' function in button config");r.addEventListener("click",function(r){e.click(t.graphInfo,r),t.updateActiveButton(r.currentTarget)}),r.setAttribute("data-toggle",e.toggle||!1),e.toggle&&a.select(r).classed("active",!0);var l=e.icon;return"function"==typeof l?r.appendChild(l()):r.appendChild(this.createIcon(l||i.question)),r.setAttribute("data-gravity",e.gravity||"n"),r},c.createIcon=function(e){var t,r=n(e.height)?Number(e.height):e.ascent-e.descent,a="http://www.w3.org/2000/svg";if(e.path){(t=document.createElementNS(a,"svg")).setAttribute("viewBox",[0,0,e.width,r].join(" ")),t.setAttribute("class","icon");var o=document.createElementNS(a,"path");o.setAttribute("d",e.path),e.transform?o.setAttribute("transform",e.transform):void 0!==e.ascent&&o.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),t.appendChild(o)}e.svg&&(t=l.parseFromString(e.svg,"application/xml").childNodes[0]);return t.setAttribute("height","1em"),t.setAttribute("width","1em"),t},c.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,r=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(e){var n=e.getAttribute("data-val")||!0,i=e.getAttribute("data-attr"),l="true"===e.getAttribute("data-toggle"),s=a.select(e);if(l)i===r&&s.classed("active",!s.classed("active"));else{var c=null===i?i:o.nestedProperty(t,i).get();s.classed("active",c===n)}})},c.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r){if(e[r].length!==t[r].length)return!1;for(var a=0;a<e[r].length;a++)if(e[r][a].name!==t[r][a].name)return!1}return!0},c.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plot.ly/",t.target="_blank",t.setAttribute("data-title",o._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(i.newplotlylogo)),e.appendChild(t),e},c.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},c.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)},e.exports=function(e,t){var r=e._fullLayout,n=new s({graphInfo:e,container:r._paperdiv.node(),buttons:t});return r._privateplot&&a.select(n.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),n}},function(e,t,r){"use strict";var a=r(5),n=r(43),o=r(27),i=r(0),l=r(213),s=i._,c=e.exports={};function d(e,t){var r,n,i=t.currentTarget,l=i.getAttribute("data-attr"),s=i.getAttribute("data-val")||!0,c=e._fullLayout,d={},u=o.list(e,null,!0),h="on";if("zoom"===l){var f,p="in"===s?.5:2,g=(1+p)/2,v=(1-p)/2;for(n=0;n<u.length;n++)if(!(r=u[n]).fixedrange)if(f=r._name,"auto"===s)d[f+".autorange"]=!0;else if("reset"===s){if(void 0===r._rangeInitial)d[f+".autorange"]=!0;else{var m=r._rangeInitial.slice();d[f+".range[0]"]=m[0],d[f+".range[1]"]=m[1]}void 0!==r._showSpikeInitial&&(d[f+".showspikes"]=r._showSpikeInitial,"on"!==h||r._showSpikeInitial||(h="off"))}else{var y=[r.r2l(r.range[0]),r.r2l(r.range[1])],x=[g*y[0]+v*y[1],g*y[1]+v*y[0]];d[f+".range[0]"]=r.l2r(x[0]),d[f+".range[1]"]=r.l2r(x[1])}c._cartesianSpikesEnabled=h}else{if("hovermode"!==l||"x"!==s&&"y"!==s){if("hovermode"===l&&"closest"===s){for(n=0;n<u.length;n++)r=u[n],"on"!==h||r.showspikes||(h="off");c._cartesianSpikesEnabled=h}}else s=c._isHoriz?"y":"x",i.setAttribute("data-val",s);d[l]=s}a.call("relayout",e,d)}function u(e,t){for(var r=t.currentTarget,n=r.getAttribute("data-attr"),o=r.getAttribute("data-val")||!0,i=e._fullLayout._subplots.gl3d,l={},s=n.split("."),c=0;c<i.length;c++)l[i[c]+"."+s[1]]=o;var d="pan"===o?o:"zoom";l.dragmode=d,a.call("relayout",e,l)}function h(e,t){for(var r=t.currentTarget.getAttribute("data-attr"),n=e._fullLayout,o=n._subplots.gl3d,l={},s=0;s<o.length;s++){var c=o[s],d=c+".camera",u=n[c]._scene;"resetDefault"===r?l[d]=null:"resetLastSave"===r&&(l[d]=i.extendDeep({},u.cameraInitial))}a.call("relayout",e,l)}function f(e,t){var r=t.currentTarget,n=r._previousVal||!1,o=e.layout,l=e._fullLayout,s=l._subplots.gl3d,c=["xaxis","yaxis","zaxis"],d=["showspikes","spikesides","spikethickness","spikecolor"],u={},h={},f={};if(n)f=i.extendDeep(o,n),r._previousVal=null;else{f={"allaxes.showspikes":!1};for(var p=0;p<s.length;p++){var g=s[p],v=l[g],m=u[g]={};m.hovermode=v.hovermode,f[g+".hovermode"]=!1;for(var y=0;y<3;y++){var x=c[y];h=m[x]={};for(var b=0;b<d.length;b++){var _=d[b];h[_]=v[x][_]}}}r._previousVal=i.extendDeep({},u)}a.call("relayout",e,f)}function p(e,t){for(var r=t.currentTarget,n=r.getAttribute("data-attr"),o=r.getAttribute("data-val")||!0,i=e._fullLayout,l=i._subplots.geo,s=0;s<l.length;s++){var c=l[s],d=i[c];if("zoom"===n){var u=d.projection.scale,h="in"===o?2*u:.5*u;a.call("relayout",e,c+".projection.scale",h)}else"reset"===n&&v(e,"geo")}}function g(e){var t,r=e._fullLayout;t=r._has("cartesian")?r._isHoriz?"y":"x":"closest";var n=!e._fullLayout.hovermode&&t;a.call("relayout",e,"hovermode",n)}function v(e,t){for(var r=e._fullLayout,n=r._subplots[t],o={},i=0;i<n.length;i++)for(var l=n[i],s=r[l]._subplot.viewInitial,c=Object.keys(s),d=0;d<c.length;d++){var u=c[d];o[l+"."+u]=s[u]}a.call("relayout",e,o)}c.toImage={name:"toImage",title:function(e){var t=(e._context.toImageButtonOptions||{}).format||"png";return s(e,"png"===t?"Download plot as a png":"Download plot")},icon:l.camera,click:function(e){var t=e._context.toImageButtonOptions,r={format:t.format||"png"};i.notifier(s(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==r.format&&i.isIE()&&(i.notifier(s(e,"IE only supports svg.  Changing format to svg."),"long"),r.format="svg"),["filename","width","height","scale"].forEach(function(e){t[e]&&(r[e]=t[e])}),a.call("downloadImage",e,r).then(function(t){i.notifier(s(e,"Snapshot succeeded")+" - "+t,"long")}).catch(function(){i.notifier(s(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}},c.sendDataToCloud={name:"sendDataToCloud",title:function(e){return s(e,"Edit in Chart Studio")},icon:l.disk,click:function(e){n.sendDataToCloud(e)}},c.zoom2d={name:"zoom2d",title:function(e){return s(e,"Zoom")},attr:"dragmode",val:"zoom",icon:l.zoombox,click:d},c.pan2d={name:"pan2d",title:function(e){return s(e,"Pan")},attr:"dragmode",val:"pan",icon:l.pan,click:d},c.select2d={name:"select2d",title:function(e){return s(e,"Box Select")},attr:"dragmode",val:"select",icon:l.selectbox,click:d},c.lasso2d={name:"lasso2d",title:function(e){return s(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:l.lasso,click:d},c.zoomIn2d={name:"zoomIn2d",title:function(e){return s(e,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:d},c.zoomOut2d={name:"zoomOut2d",title:function(e){return s(e,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:d},c.autoScale2d={name:"autoScale2d",title:function(e){return s(e,"Autoscale")},attr:"zoom",val:"auto",icon:l.autoscale,click:d},c.resetScale2d={name:"resetScale2d",title:function(e){return s(e,"Reset axes")},attr:"zoom",val:"reset",icon:l.home,click:d},c.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(e){return s(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:d},c.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(e){return s(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:l.tooltip_compare,gravity:"ne",click:d},c.zoom3d={name:"zoom3d",title:function(e){return s(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:l.zoombox,click:u},c.pan3d={name:"pan3d",title:function(e){return s(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:l.pan,click:u},c.orbitRotation={name:"orbitRotation",title:function(e){return s(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:l["3d_rotate"],click:u},c.tableRotation={name:"tableRotation",title:function(e){return s(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:l["z-axis"],click:u},c.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(e){return s(e,"Reset camera to default")},attr:"resetDefault",icon:l.home,click:h},c.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(e){return s(e,"Reset camera to last save")},attr:"resetLastSave",icon:l.movie,click:h},c.hoverClosest3d={name:"hoverClosest3d",title:function(e){return s(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:f},c.zoomInGeo={name:"zoomInGeo",title:function(e){return s(e,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:p},c.zoomOutGeo={name:"zoomOutGeo",title:function(e){return s(e,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:p},c.resetGeo={name:"resetGeo",title:function(e){return s(e,"Reset")},attr:"reset",val:null,icon:l.autoscale,click:p},c.hoverClosestGeo={name:"hoverClosestGeo",title:function(e){return s(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:g},c.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(e){return s(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:g},c.hoverClosestPie={name:"hoverClosestPie",title:function(e){return s(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:g},c.toggleHover={name:"toggleHover",title:function(e){return s(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:function(e,t){g(e),f(e,t)}},c.resetViews={name:"resetViews",title:function(e){return s(e,"Reset views")},icon:l.home,click:function(e,t){var r=t.currentTarget;r.setAttribute("data-attr","zoom"),r.setAttribute("data-val","reset"),d(e,t),r.setAttribute("data-attr","resetLastSave"),h(e,t),v(e,"geo"),v(e,"mapbox")}},c.toggleSpikelines={name:"toggleSpikelines",title:function(e){return s(e,"Toggle Spike Lines")},icon:l.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout;t._cartesianSpikesEnabled="on"===t._cartesianSpikesEnabled?"off":"on";var r=function(e){for(var t,r,a=e._fullLayout,n=o.list(e,null,!0),i={},l=0;l<n.length;l++)t=n[l],r=t._name,i[r+".showspikes"]="on"===a._cartesianSpikesEnabled||t._showSpikeInitial;return i}(e);a.call("relayout",e,r)}},c.resetViewMapbox={name:"resetViewMapbox",title:function(e){return s(e,"Reset view")},attr:"reset",icon:l.home,click:function(e){v(e,"mapbox")}}},function(e,t,r){"use strict";var a=r(27).id2name,n=r(215),o=r(67).makePadFn,i=r(67).concatExtremes,l=r(4).ALMOST_EQUAL,s=r(20).FROM_BL;function c(e,t){var r=e._inputDomain,a=s[e.constraintoward],n=r[0]+(r[1]-r[0])*a;e.domain=e._input.domain=[n+(r[0]-n)/t,n+(r[1]-n)/t]}t.enforce=function(e){var t,r,s,d,u,h,f,p=e._fullLayout,g=p._axisConstraintGroups||[];for(t=0;t<g.length;t++){var v=g[t],m=Object.keys(v),y=1/0,x=0,b=1/0,_={},w={},k=!1;for(r=0;r<m.length;r++)w[s=m[r]]=d=p[a(s)],d._inputDomain?d.domain=d._inputDomain.slice():d._inputDomain=d.domain.slice(),d._inputRange||(d._inputRange=d.range.slice()),d.setScale(),_[s]=u=Math.abs(d._m)/v[s],y=Math.min(y,u),"domain"!==d.constrain&&d._constraintShrinkable||(b=Math.min(b,u)),delete d._constraintShrinkable,x=Math.max(x,u),"domain"===d.constrain&&(k=!0);if(!(y>l*x)||k)for(r=0;r<m.length;r++)if(u=_[s=m[r]],h=(d=w[s]).constrain,u!==b||"domain"===h)if(f=u/b,"range"===h)n(d,f);else{var T=d._inputDomain,A=(d.domain[1]-d.domain[0])/(T[1]-T[0]),M=(d.r2l(d.range[1])-d.r2l(d.range[0]))/(d.r2l(d._inputRange[1])-d.r2l(d._inputRange[0]));if((f/=A)*M<1){d.domain=d._input.domain=T.slice(),n(d,f);continue}if(M<1&&(d.range=d._input.range=d._inputRange.slice(),f*=M),d.autorange){var S=d.r2l(d.range[0]),L=d.r2l(d.range[1]),C=(S+L)/2,z=C,P=C,O=Math.abs(L-C),I=C-O*f*1.0001,D=C+O*f*1.0001,R=o(d);c(d,f),d.setScale();var E,j,F=Math.abs(d._m),N=i(e,d),B=N.min,H=N.max;for(j=0;j<B.length;j++)(E=B[j].val-R(B[j])/F)>I&&E<z&&(z=E);for(j=0;j<H.length;j++)(E=H[j].val+R(H[j])/F)<D&&E>P&&(P=E);f/=(P-z)/(2*O),z=d.l2r(z),P=d.l2r(P),d.range=d._input.range=S<L?[z,P]:[P,z]}c(d,f)}}},t.clean=function(e,t){if(t._inputDomain){for(var r=!1,a=t._id,n=e._fullLayout._axisConstraintGroups,o=0;o<n.length;o++)if(n[o][a]){r=!0;break}r&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},function(e,t,r){
/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */
var a,n=r(244),o=r(245),i=r(246),l=r(248),s=r(249),c=r(250),d=!1,u=o();function h(e,t,r){var n=a.segments(e),o=a.segments(t),i=r(a.combine(n,o));return a.polygon(i)}a={buildLog:function(e){return!0===e?d=n():!1===e&&(d=!1),!1!==d&&d.list},epsilon:function(e){return u.epsilon(e)},segments:function(e){var t=i(!0,u,d);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){return{combined:i(!1,u,d).calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:s.union(e.combined,d),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:s.intersect(e.combined,d),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:s.difference(e.combined,d),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:s.differenceRev(e.combined,d),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:s.xor(e.combined,d),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:l(e.segments,u,d),inverted:e.inverted}},polygonFromGeoJSON:function(e){return c.toPolygon(a,e)},polygonToGeoJSON:function(e){return c.fromPolygon(a,u,e)},union:function(e,t){return h(e,t,a.selectUnion)},intersect:function(e,t){return h(e,t,a.selectIntersect)},difference:function(e,t){return h(e,t,a.selectDifference)},differenceRev:function(e,t){return h(e,t,a.selectDifferenceRev)},xor:function(e,t){return h(e,t,a.selectXor)}},"object"==typeof window&&(window.PolyBool=a),e.exports=a},function(e,t){e.exports=function(){var e,t=0,r=!1;function a(t,r){return e.list.push({type:t,data:r?JSON.parse(JSON.stringify(r)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return a("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return a("div_seg",{seg:e,pt:t}),a("chop",{seg:e,pt:t})},statusRemove:function(e){return a("pop_seg",{seg:e})},segmentUpdate:function(e){return a("seg_update",{seg:e})},segmentNew:function(e,t){return a("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return a("rem_seg",{seg:e})},tempStatus:function(e,t,r){return a("temp_status",{seg:e,above:t,below:r})},rewind:function(e){return a("rewind",{seg:e})},status:function(e,t,r){return a("status",{seg:e,above:t,below:r})},vert:function(t){return t===r?e:(r=t,a("vert",{x:t}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),a("log",{txt:e})},reset:function(){return a("reset")},selected:function(e){return a("selected",{segs:e})},chainStart:function(e){return a("chain_start",{seg:e})},chainRemoveHead:function(e,t){return a("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return a("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return a("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return a("chain_match",{index:e})},chainClose:function(e){return a("chain_close",{index:e})},chainAddHead:function(e,t){return a("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return a("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return a("chain_con",{index1:e,index2:t})},chainReverse:function(e){return a("chain_rev",{index:e})},chainJoin:function(e,t){return a("chain_join",{index1:e,index2:t})},done:function(){return a("done")}}}},function(e,t){e.exports=function(e){"number"!=typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"==typeof t&&(e=t),e},pointAboveOrOnLine:function(t,r,a){var n=r[0],o=r[1],i=a[0],l=a[1],s=t[0];return(i-n)*(t[1]-o)-(l-o)*(s-n)>=-e},pointBetween:function(t,r,a){var n=t[1]-r[1],o=a[0]-r[0],i=t[0]-r[0],l=a[1]-r[1],s=i*o+n*l;return!(s<e||s-(o*o+l*l)>-e)},pointsSameX:function(t,r){return Math.abs(t[0]-r[0])<e},pointsSameY:function(t,r){return Math.abs(t[1]-r[1])<e},pointsSame:function(e,r){return t.pointsSameX(e,r)&&t.pointsSameY(e,r)},pointsCompare:function(e,r){return t.pointsSameX(e,r)?t.pointsSameY(e,r)?0:e[1]<r[1]?-1:1:e[0]<r[0]?-1:1},pointsCollinear:function(t,r,a){var n=t[0]-r[0],o=t[1]-r[1],i=r[0]-a[0],l=r[1]-a[1];return Math.abs(n*l-i*o)<e},linesIntersect:function(t,r,a,n){var o=r[0]-t[0],i=r[1]-t[1],l=n[0]-a[0],s=n[1]-a[1],c=o*s-i*l;if(Math.abs(c)<e)return!1;var d=t[0]-a[0],u=t[1]-a[1],h=(l*u-s*d)/c,f=(o*u-i*d)/c,p={alongA:0,alongB:0,pt:[t[0]+h*o,t[1]+h*i]};return p.alongA=h<=-e?-2:h<e?-1:h-1<=-e?0:h-1<e?1:2,p.alongB=f<=-e?-2:f<e?-1:f-1<=-e?0:f-1<e?1:2,p},pointInsideRegion:function(t,r){for(var a=t[0],n=t[1],o=r[r.length-1][0],i=r[r.length-1][1],l=!1,s=0;s<r.length;s++){var c=r[s][0],d=r[s][1];d-n>e!=i-n>e&&(o-c)*(n-d)/(i-d)+c-a>e&&(l=!l),o=c,i=d}return l}};return t}},function(e,t,r){var a=r(247);e.exports=function(e,t,r){function n(e,t,a){return{id:r?r.segmentId():-1,start:e,end:t,myFill:{above:a.myFill.above,below:a.myFill.below},otherFill:null}}var o=a.create();function i(e,r){o.insertBefore(e,function(a){return function(e,r,a,n,o,i){var l=t.pointsCompare(r,o);return 0!==l?l:t.pointsSame(a,i)?0:e!==n?e?1:-1:t.pointAboveOrOnLine(a,n?o:i,n?i:o)?1:-1}(e.isStart,e.pt,r,a.isStart,a.pt,a.other.pt)<0})}function l(e,t){var r=function(e,t){var r=a.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return i(r,e.end),r}(e,t);return function(e,t,r){var n=a.node({isStart:!1,pt:t.end,seg:t,primary:r,other:e,status:null});e.other=n,i(n,e.pt)}(r,e,t),r}function s(e,t){var a=n(t,e.seg.end,e.seg);return function(e,t){r&&r.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,i(e.other,e.pt)}(e,t),l(a,e.primary)}function c(n,i){var l=a.create();function c(e){return l.findTransition(function(r){var a,n,o,i,l,s;return a=e,n=r.ev,o=a.seg.start,i=a.seg.end,l=n.seg.start,s=n.seg.end,(t.pointsCollinear(o,l,s)?t.pointsCollinear(i,l,s)?1:t.pointAboveOrOnLine(i,l,s)?1:-1:t.pointAboveOrOnLine(o,l,s)?1:-1)>0})}function d(e,a){var n=e.seg,o=a.seg,i=n.start,l=n.end,c=o.start,d=o.end;r&&r.checkIntersection(n,o);var u=t.linesIntersect(i,l,c,d);if(!1===u){if(!t.pointsCollinear(i,l,c))return!1;if(t.pointsSame(i,d)||t.pointsSame(l,c))return!1;var h=t.pointsSame(i,c),f=t.pointsSame(l,d);if(h&&f)return a;var p=!h&&t.pointBetween(i,c,d),g=!f&&t.pointBetween(l,c,d);if(h)return g?s(a,l):s(e,d),a;p&&(f||(g?s(a,l):s(e,d)),s(a,i))}else 0===u.alongA&&(-1===u.alongB?s(e,c):0===u.alongB?s(e,u.pt):1===u.alongB&&s(e,d)),0===u.alongB&&(-1===u.alongA?s(a,i):0===u.alongA?s(a,u.pt):1===u.alongA&&s(a,l));return!1}for(var u=[];!o.isEmpty();){var h=o.getHead();if(r&&r.vert(h.pt[0]),h.isStart){r&&r.segmentNew(h.seg,h.primary);var f=c(h),p=f.before?f.before.ev:null,g=f.after?f.after.ev:null;function v(){if(p){var e=d(h,p);if(e)return e}return!!g&&d(h,g)}r&&r.tempStatus(h.seg,!!p&&p.seg,!!g&&g.seg);var m,y,x=v();if(x)e?(y=null===h.seg.myFill.below||h.seg.myFill.above!==h.seg.myFill.below)&&(x.seg.myFill.above=!x.seg.myFill.above):x.seg.otherFill=h.seg.myFill,r&&r.segmentUpdate(x.seg),h.other.remove(),h.remove();if(o.getHead()!==h){r&&r.rewind(h.seg);continue}e?(y=null===h.seg.myFill.below||h.seg.myFill.above!==h.seg.myFill.below,h.seg.myFill.below=g?g.seg.myFill.above:n,h.seg.myFill.above=y?!h.seg.myFill.below:h.seg.myFill.below):null===h.seg.otherFill&&(m=g?h.primary===g.primary?g.seg.otherFill.above:g.seg.myFill.above:h.primary?i:n,h.seg.otherFill={above:m,below:m}),r&&r.status(h.seg,!!p&&p.seg,!!g&&g.seg),h.other.status=f.insert(a.node({ev:h}))}else{var b=h.status;if(null===b)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(b.prev)&&l.exists(b.next)&&d(b.prev.ev,b.next.ev),r&&r.statusRemove(b.ev.seg),b.remove(),!h.primary){var _=h.seg.myFill;h.seg.myFill=h.seg.otherFill,h.seg.otherFill=_}u.push(h.seg)}o.getHead().remove()}return r&&r.done(),u}return e?{addRegion:function(e){for(var a,n,o,i=e[e.length-1],s=0;s<e.length;s++){a=i,i=e[s];var c=t.pointsCompare(a,i);0!==c&&l((n=c<0?a:i,o=c<0?i:a,{id:r?r.segmentId():-1,start:n,end:o,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(e){return c(e,!1)}}:{calculate:function(e,t,r,a){return e.forEach(function(e){l(n(e.start,e.end,e),!0)}),r.forEach(function(e){l(n(e.start,e.end,e),!1)}),c(t,a)}}}},function(e,t){e.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,r){for(var a=e.root,n=e.root.next;null!==n;){if(r(n))return t.prev=n.prev,t.next=n,n.prev.next=t,void(n.prev=t);a=n,n=n.next}a.next=t,t.prev=a,t.next=null},findTransition:function(t){for(var r=e.root,a=e.root.next;null!==a&&!t(a);)r=a,a=a.next;return{before:r===e.root?null:r,after:a,insert:function(e){return e.prev=r,e.next=a,r.next=e,null!==a&&(a.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},function(e,t){e.exports=function(e,t,r){var a=[],n=[];return e.forEach(function(e){var o=e.start,i=e.end;if(t.pointsSame(o,i))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{r&&r.chainStart(e);for(var l={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},c=l,d=0;d<a.length;d++){var u=(v=a[d])[0],h=(v[1],v[v.length-1]);if(v[v.length-2],t.pointsSame(u,o)){if(T(d,!0,!0))break}else if(t.pointsSame(u,i)){if(T(d,!0,!1))break}else if(t.pointsSame(h,o)){if(T(d,!1,!0))break}else if(t.pointsSame(h,i)&&T(d,!1,!1))break}if(c===l)return a.push([o,i]),void(r&&r.chainNew(o,i));if(c===s){r&&r.chainMatch(l.index);var f=l.index,p=l.matches_pt1?i:o,g=l.matches_head,v=a[f],m=g?v[0]:v[v.length-1],y=g?v[1]:v[v.length-2],x=g?v[v.length-1]:v[0],b=g?v[v.length-2]:v[1];return t.pointsCollinear(y,m,p)&&(g?(r&&r.chainRemoveHead(l.index,p),v.shift()):(r&&r.chainRemoveTail(l.index,p),v.pop()),m=y),t.pointsSame(x,p)?(a.splice(f,1),t.pointsCollinear(b,x,m)&&(g?(r&&r.chainRemoveTail(l.index,m),v.pop()):(r&&r.chainRemoveHead(l.index,m),v.shift())),r&&r.chainClose(l.index),void n.push(v)):void(g?(r&&r.chainAddHead(l.index,p),v.unshift(p)):(r&&r.chainAddTail(l.index,p),v.push(p)))}var _=l.index,w=s.index;r&&r.chainConnect(_,w);var k=a[_].length<a[w].length;l.matches_head?s.matches_head?k?(A(_),M(_,w)):(A(w),M(w,_)):M(w,_):s.matches_head?M(_,w):k?(A(_),M(w,_)):(A(w),M(_,w))}function T(e,t,r){return c.index=e,c.matches_head=t,c.matches_pt1=r,c===l?(c=s,!1):(c=null,!0)}function A(e){r&&r.chainReverse(e),a[e].reverse()}function M(e,n){var o=a[e],i=a[n],l=o[o.length-1],s=o[o.length-2],c=i[0],d=i[1];t.pointsCollinear(s,l,c)&&(r&&r.chainRemoveTail(e,l),o.pop(),l=s),t.pointsCollinear(l,c,d)&&(r&&r.chainRemoveHead(n,c),i.shift()),r&&r.chainJoin(e,n),a[e]=o.concat(i),a.splice(n,1)}}),n}},function(e,t){function r(e,t,r){var a=[];return e.forEach(function(e){var n=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[n]&&a.push({id:r?r.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[n],below:2===t[n]},otherFill:null})}),r&&r.selected(a),a}var a={union:function(e,t){return r(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return r(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return r(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return r(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return r(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};e.exports=a},function(e,t){var r={toPolygon:function(e,t){function r(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function r(t){var r=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[r]})}for(var a=r(t[0]),n=1;n<t.length;n++)a=e.selectDifference(e.combine(a,r(t[n])));return a}if("Polygon"===t.type)return e.polygon(r(t.coordinates));if("MultiPolygon"===t.type){for(var a=e.segments({inverted:!1,regions:[]}),n=0;n<t.coordinates.length;n++)a=e.selectUnion(e.combine(a,r(t.coordinates[n])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,r){function a(e,r){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],r)}function n(e){return{region:e,children:[]}}r=e.polygon(e.segments(r));var o=n(null);function i(e,t){for(var r=0;r<e.children.length;r++){if(a(t,(l=e.children[r]).region))return void i(l,t)}var o=n(t);for(r=0;r<e.children.length;r++){var l;a((l=e.children[r]).region,t)&&(o.children.push(l),e.children.splice(r,1),r--)}e.children.push(o)}for(var l=0;l<r.regions.length;l++){var s=r.regions[l];s.length<3||i(o,s)}function c(e,t){for(var r=0,a=e[e.length-1][0],n=e[e.length-1][1],o=[],i=0;i<e.length;i++){var l=e[i][0],s=e[i][1];o.push([l,s]),r+=s*a-l*n,a=l,n=s}return r<0!==t&&o.reverse(),o.push([o[0][0],o[0][1]]),o}var d=[];function u(e){var t=[c(e.region,!1)];d.push(t);for(var r=0;r<e.children.length;r++)t.push(h(e.children[r]))}function h(e){for(var t=0;t<e.children.length;t++)u(e.children[t]);return c(e.region,!0)}for(l=0;l<o.children.length;l++)u(o.children[l]);return d.length<=0?{type:"Polygon",coordinates:[]}:1==d.length?{type:"Polygon",coordinates:d[0]}:{type:"MultiPolygon",coordinates:d}}};e.exports=r},function(e,t,r){"use strict";e.exports={xaxis:{valType:"subplotid",role:"info",dflt:"x",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's x coordinates and","a 2D cartesian x axis.","If *x* (the default value), the x coordinates refer to","`layout.xaxis`.","If *x2*, the x coordinates refer to `layout.xaxis2`, and so on."].join(" ")},yaxis:{valType:"subplotid",role:"info",dflt:"y",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's y coordinates and","a 2D cartesian y axis.","If *y* (the default value), the y coordinates refer to","`layout.yaxis`.","If *y2*, the y coordinates refer to `layout.yaxis2`, and so on."].join(" ")}}},function(e,t,r){"use strict";var a=r(0),n=r(11),o=r(19),i=r(33),l=r(13),s=r(253),c=r(229),d=r(254),u=r(230),h=r(27),f=h.id2name,p=h.name2id,g=r(5),v=g.traceIs,m=g.getComponentMethod;function y(e,t,r){Array.isArray(e[t])?e[t].push(r):e[t]=[r]}e.exports=function(e,t,r){var h,g,x={},b={},_={},w={},k={};for(h=0;h<r.length;h++){var T=r[h];if(v(T,"cartesian")||v(T,"gl2d")){var A,M;if(T.xaxis)y(x,A=f(T.xaxis),T);else if(T.xaxes)for(g=0;g<T.xaxes.length;g++)y(x,f(T.xaxes[g]),T);if(T.yaxis)y(x,M=f(T.yaxis),T);else if(T.yaxes)for(g=0;g<T.yaxes.length;g++)y(x,f(T.yaxes[g]),T);if(v(T,"carpet")&&("carpet"!==T.type||T._cheater)||A&&(_[A]=1),"carpet"===T.type&&T._cheater&&A&&(b[A]=1),v(T,"2dMap")&&(w[A]=1,w[M]=1),v(T,"oriented"))k["h"===T.orientation?M:A]=1}}var S=t._subplots,L=S.xaxis,C=S.yaxis,z=a.simpleMap(L,f),P=a.simpleMap(C,f),O=z.concat(P),I=n.background;L.length&&C.length&&(I=a.coerce(e,t,i,"plot_bgcolor"));var D,R,E,j,F=n.combine(I,t.paper_bgcolor);function N(e,t){return a.coerce(E,j,l,e,t)}function B(e,t){return a.coerce2(E,j,l,e,t)}function H(e){return"x"===e?C:L}var V={x:H("x"),y:H("y")};function q(t,r){for(var a="x"===t?z:P,n=[],o=0;o<a.length;o++){var i=a[o];i===r||(e[i]||{}).overlaying||n.push(p(i))}return n}for(h=0;h<O.length;h++){R=(D=O[h]).charAt(0),a.isPlainObject(e[D])||(e[D]={}),E=e[D],j=o.newContainer(t,D,R+"axis");var G=x[D]||[];j._traceIndices=G.map(function(e){return e._expandedIndex}),j._annIndices=[],j._shapeIndices=[],j._name=D;var X=j._id=p(D),W=q(R,D),Z={letter:R,font:t.font,outerTicks:w[D],showGrid:!k[D],data:G,bgColor:F,calendar:t.calendar,automargin:!0,cheateronly:"x"===R&&b[D]&&!_[D],splomStash:((t._splomAxes||{})[R]||{})[X]};s(E,j,N,Z),c(E,j,N,Z,t);var Y=B("spikecolor"),U=B("spikethickness"),Q=B("spikedash"),J=B("spikemode"),K=B("spikesnap");N("showspikes",!!(Y||U||Q||J||K))||(delete j.spikecolor,delete j.spikethickness,delete j.spikedash,delete j.spikemode,delete j.spikesnap);var $={letter:R,counterAxes:V[R],overlayableAxes:W,grid:t.grid};u(E,j,N,$),j._input=E}var ee=m("rangeslider","handleDefaults"),te=m("rangeselector","handleDefaults");for(h=0;h<z.length;h++)D=z[h],E=e[D],j=t[D],ee(e,t,D),"date"===j.type&&te(E,j,t,P,j.calendar),N("fixedrange");for(h=0;h<P.length;h++){D=P[h],E=e[D],j=t[D];var re=t[f(j.anchor)];N("fixedrange",re&&re.rangeslider&&re.rangeslider.visible)}t._axisConstraintGroups=[];var ae=V.x.concat(V.y);for(h=0;h<O.length;h++)R=(D=O[h]).charAt(0),E=e[D],j=t[D],d(E,j,N,ae,t)}},function(e,t,r){"use strict";var a=r(5),n=r(86);function o(e){return{v:"x",h:"y"}[e.orientation||"v"]}function i(e,t){var r=o(e),n=a.traceIs(e,"box-violin"),i=a.traceIs(e._fullInput||{},"candlestick");return n&&!i&&t===r&&void 0===e[r]&&void 0===e[r+"0"]}e.exports=function(e,t,r,l){"-"===r("type",(l.splomStash||{}).type)&&(!function(e,t){if("-"!==e.type)return;var r=e._id,l=r.charAt(0);-1!==r.indexOf("scene")&&(r=l);var s=function(e,t,r){for(var a=0;a<e.length;a++){var n=e[a];if("splom"===n.type&&n._length>0&&(n["_"+r+"axes"]||{})[t])return n;if((n[r+"axis"]||r)===t){if(i(n,r))return n;if((n[r]||[]).length||n[r+"0"])return n}}}(t,r,l);if(!s)return;if("histogram"===s.type&&l==={v:"y",h:"x"}[s.orientation||"v"])return void(e.type="linear");var c,d=l+"calendar",u=s[d];if(i(s,l)){var h=o(s),f=[];for(c=0;c<t.length;c++){var p=t[c];a.traceIs(p,"box-violin")&&(p[l+"axis"]||l)===r&&(void 0!==p[h]?f.push(p[h][0]):void 0!==p.name?f.push(p.name):f.push("text"),p[d]!==u&&(u=void 0))}e.type=n(f,u)}else if("splom"===s.type){var g=s.dimensions,v=s._diag;for(c=0;c<g.length;c++){var m=g[c];if(m.visible&&(v[c][0]===r||v[c][1]===r)){e.type=n(m.values,u);break}}}else e.type=n(s[l]||[s[l+"0"]],u)}(t,l.data),"-"===t.type?t.type="linear":e.type=t.type)}},function(e,t,r){"use strict";var a=r(0),n=r(27).id2name;e.exports=function(e,t,r,o,i){var l=i._axisConstraintGroups,s=t._id,c=s.charAt(0);if(!t.fixedrange&&(r("constrain"),a.coerce(e,t,{constraintoward:{valType:"enumerated",values:"x"===c?["left","center","right"]:["bottom","middle","top"],dflt:"x"===c?"center":"middle"}},"constraintoward"),e.scaleanchor)){var d=function(e,t,r,a){var o,i,l,s,c=a[n(t)].type,d=[];for(i=0;i<r.length;i++)(l=r[i])!==t&&((s=a[n(l)]).type!==c||s.fixedrange||d.push(l));for(o=0;o<e.length;o++)if(e[o][t]){var u=e[o],h=[];for(i=0;i<d.length;i++)l=d[i],u[l]||h.push(l);return{linkableAxes:h,thisGroup:u}}return{linkableAxes:d,thisGroup:null}}(l,s,o,i),u=a.coerce(e,t,{scaleanchor:{valType:"enumerated",values:d.linkableAxes}},"scaleanchor");if(u){var h=r("scaleratio");h||(h=t.scaleratio=1),function(e,t,r,a,n){var o,i,l,s,c;null===t?((t={})[r]=1,c=e.length,e.push(t)):c=e.indexOf(t);var d=Object.keys(t);for(o=0;o<e.length;o++)if(l=e[o],o!==c&&l[a]){var u=l[a];for(i=0;i<d.length;i++)s=d[i],l[s]=u*n*t[s];return void e.splice(c,1)}if(1!==n)for(i=0;i<d.length;i++)t[d[i]]*=n;t[a]=1}(l,d.thisGroup,s,u,h)}else-1!==o.indexOf(e.scaleanchor)&&a.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the targetaxis has fixed range.')}}},function(e,t,r){"use strict";var a=r(3),n=r(5),o=r(26),i=r(65),l=r(28).attrRegex;e.exports=function(e,t,r,s){var c=e._fullLayout,d=[];var u,h,f,p,g=function(e){var t,r,a,n,o={};for(t in e)if((r=t.split("."))[0].match(l)){var i=t.charAt(0),s=r[0];if(a=c[s],n={},Array.isArray(e[t])?n.to=e[t].slice(0):Array.isArray(e[t].range)&&(n.to=e[t].range.slice(0)),!n.to)continue;n.axisName=s,n.length=a._length,d.push(i),o[i]=n}return o}(t),v=Object.keys(g),m=function(e,t,r){var a,n,o,i=e._plots,l=[];for(a in i){var s=i[a];if(-1===l.indexOf(s)){var c=s.xaxis._id,d=s.yaxis._id,u=s.xaxis.range,h=s.yaxis.range;s.xaxis._r=s.xaxis.range.slice(),s.yaxis._r=s.yaxis.range.slice(),n=r[c]?r[c].to:u,o=r[d]?r[d].to:h,u[0]===n[0]&&u[1]===n[1]&&h[0]===o[0]&&h[1]===o[1]||-1===t.indexOf(c)&&-1===t.indexOf(d)||l.push(s)}}return l}(c,v,g);if(!m.length)return function(){function t(t,r,a){for(var n=0;n<t.length;n++)if(r(e,n),a)return}t(c.annotations||[],n.getComponentMethod("annotations","drawOne")),t(c.shapes||[],n.getComponentMethod("shapes","drawOne")),t(c.images||[],n.getComponentMethod("images","draw"),!0)}(),!1;function y(e){var t=e.xaxis,r=e.yaxis;c._defs.select("#"+e.clipId+"> rect").call(o.setTranslate,0,0).call(o.setScale,1,1),e.plot.call(o.setTranslate,t._offset,r._offset).call(o.setScale,1,1);var a=e.plot.selectAll(".scatterlayer .trace");a.selectAll(".point").call(o.setPointGroupScale,1,1),a.selectAll(".textpoint").call(o.setTextPointsScale,1,1),a.call(o.hideOutsideRangePoints,e)}function x(t,r){var a,l,s,d=g[t.xaxis._id],u=g[t.yaxis._id],h=[];if(d){l=(a=e._fullLayout[d.axisName])._r,s=d.to,h[0]=(l[0]*(1-r)+r*s[0]-l[0])/(l[1]-l[0])*t.xaxis._length;var f=l[1]-l[0],p=s[1]-s[0];a.range[0]=l[0]*(1-r)+r*s[0],a.range[1]=l[1]*(1-r)+r*s[1],h[2]=t.xaxis._length*(1-r+r*p/f)}else h[0]=0,h[2]=t.xaxis._length;if(u){l=(a=e._fullLayout[u.axisName])._r,s=u.to,h[1]=(l[1]*(1-r)+r*s[1]-l[1])/(l[0]-l[1])*t.yaxis._length;var v=l[1]-l[0],m=s[1]-s[0];a.range[0]=l[0]*(1-r)+r*s[0],a.range[1]=l[1]*(1-r)+r*s[1],h[3]=t.yaxis._length*(1-r+r*m/v)}else h[1]=0,h[3]=t.yaxis._length;!function(t,r){var a,o=[];for(o=[t._id,r._id],a=0;a<o.length;a++)i.doTicksSingle(e,o[a],!0);function l(t,r,n){for(a=0;a<t.length;a++){var i=t[a];if(-1===o.indexOf(i.xref)&&-1===o.indexOf(i.yref)||r(e,a),n)return}}l(c.annotations||[],n.getComponentMethod("annotations","drawOne")),l(c.shapes||[],n.getComponentMethod("shapes","drawOne")),l(c.images||[],n.getComponentMethod("images","draw"),!0)}(t.xaxis,t.yaxis);var y=t.xaxis,x=t.yaxis,b=!!d,_=!!u,w=b?y._length/h[2]:1,k=_?x._length/h[3]:1,T=b?h[0]:0,A=_?h[1]:0,M=b?h[0]/h[2]*y._length:0,S=_?h[1]/h[3]*x._length:0,L=y._offset-M,C=x._offset-S;t.clipRect.call(o.setTranslate,T,A).call(o.setScale,1/w,1/k),t.plot.call(o.setTranslate,L,C).call(o.setScale,w,k),o.setPointGroupScale(t.zoomScalePts,1/w,1/k),o.setTextPointsScale(t.zoomScaleTxt,1/w,1/k)}s&&(u=s());var b=a.ease(r.easing);return e._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(p),p=null,function(){for(var t={},r=0;r<v.length;r++){var a=e._fullLayout[v[r]+"axis"];t[a._name+".range[0]"]=a.range[0],t[a._name+".range[1]"]=a.range[1],a.range=a._r.slice()}return n.call("relayout",e,t).then(function(){for(var e=0;e<m.length;e++)y(m[e])})}()}),h=Date.now(),p=window.requestAnimationFrame(function t(){f=Date.now();for(var a=Math.min(1,(f-h)/r.duration),o=b(a),i=0;i<m.length;i++)x(m[i],o);f-h>r.duration?(function(){for(var t={},r=0;r<v.length;r++){var a=e._fullLayout[g[v[r]].axisName],o=g[v[r]].to;t[a._name+".range[0]"]=o[0],t[a._name+".range[1]"]=o[1],a.range=o.slice()}u&&u(),n.call("relayout",e,t).then(function(){for(var e=0;e<m.length;e++)y(m[e])})}(),p=window.cancelAnimationFrame(t)):p=window.requestAnimationFrame(t)}),Promise.resolve()}},,,,,,,,function(e,t,r){"use strict";var a=r(5);e.exports=function(e,t,r,n){var o,i=n("x"),l=n("y");if(a.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],r),i)l?o=Math.min(i.length,l.length):(o=i.length,n("y0"),n("dy"));else{if(!l)return 0;o=t.y.length,n("x0"),n("dx")}return t._length=o,o}},function(e,t,r){"use strict";var a=r(1),n=r(0),o=r(65),i=r(4).BADNUM,l=r(66),s=r(309),c=r(265),d=r(266);function u(e,t,r,a,n,i,s){var c=t._length,d=e._fullLayout,u=r._id,h=a._id,f=d._firstScatter[p(t)]===t.uid,v=(g(t,d,r,a)||{}).orientation,m=t.fill;r._minDtick=0,a._minDtick=0;var y={padded:!0},x={padded:!0};s&&(y.ppad=x.ppad=s);var b=c<2||n[0]!==n[c-1]||i[0]!==i[c-1];b&&("tozerox"===m||"tonextx"===m&&(f||"h"===v))?y.tozero=!0:(t.error_y||{}).visible||"tonexty"!==m&&"tozeroy"!==m&&(l.hasMarkers(t)||l.hasText(t))||(y.padded=!1,y.ppad=0),b&&("tozeroy"===m||"tonexty"===m&&(f||"v"===v))?x.tozero=!0:"tonextx"!==m&&"tozerox"!==m||(x.padded=!1),u&&(t._extremes[u]=o.findExtremes(r,n,y)),h&&(t._extremes[h]=o.findExtremes(a,i,x))}function h(e,t){if(l.hasMarkers(e)){var r,a=e.marker,i=1.6*(e.marker.sizeref||1);if(r="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/i),3)}:function(e){return Math.max((e||0)/i,3)},n.isArrayOrTypedArray(a.size)){var s={type:"linear"};o.setConvert(s);for(var c=s.makeCalcdata(e.marker,"size"),d=new Array(t),u=0;u<t;u++)d[u]=r(c[u]);return d}return r(a.size)}}function f(e,t){var r=p(t),a=e._firstScatter;a[r]||(a[r]=t.uid)}function p(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function g(e,t,r,a){var n=e.stackgroup;if(n){var o=t._scatterStackOpts[r._id+a._id][n],i="v"===o.orientation?a:r;return"linear"===i.type||"log"===i.type?o:void 0}}e.exports={calc:function(e,t){var r,l,p,v,m,y,x=e._fullLayout,b=o.getFromId(e,t.xaxis||"x"),_=o.getFromId(e,t.yaxis||"y"),w=b.makeCalcdata(t,"x"),k=_.makeCalcdata(t,"y"),T=t._length,A=new Array(T),M=t.ids,S=g(t,x,b,_),L=!1;f(x,t);var C,z="x",P="y";for(S?(S.traceIndices.push(t.index),(r="v"===S.orientation)?(P="s",C="x"):(z="s",C="y"),m="interpolate"===S.stackgaps):u(e,t,b,_,w,k,h(t,T)),l=0;l<T;l++){var O=A[l]={},I=a(w[l]),D=a(k[l]);I&&D?(O[z]=w[l],O[P]=k[l]):S&&(r?I:D)?(O[C]=r?w[l]:k[l],O.gap=!0,m?(O.s=i,L=!0):O.s=0):O[z]=O[P]=i,M&&(O.id=String(M[l]))}if(c(A,t),s(t),d(A,t),S){for(l=0;l<A.length;)A[l][C]===i?A.splice(l,1):l++;if(n.sort(A,function(e,t){return e[C]-t[C]||e.i-t.i}),L){for(l=0;l<A.length-1&&A[l].gap;)l++;for((y=A[l].s)||(y=A[l].s=0),p=0;p<l;p++)A[p].s=y;for(v=A.length-1;v>l&&A[v].gap;)v--;for(y=A[v].s,p=A.length-1;p>v;p--)A[p].s=y;for(;l<v;)if(A[++l].gap){for(p=l+1;A[p].gap;)p++;for(var R=A[l-1][C],E=A[l-1].s,j=(A[p].s-E)/(A[p][C]-R);l<p;)A[l].s=E+(A[l][C]-R)*j,l++}}}return A},calcMarkerSize:h,calcAxisExpansion:u,setFirstScatter:f,getStackOpts:g}},function(e,t,r){"use strict";var a=r(0);e.exports=function(e,t){for(var r=0;r<e.length;r++)e[r].i=r;a.mergeArray(t.text,e,"tx"),a.mergeArray(t.hovertext,e,"htx"),a.mergeArray(t.customdata,e,"data"),a.mergeArray(t.textposition,e,"tp"),t.textfont&&(a.mergeArray(t.textfont.size,e,"ts"),a.mergeArray(t.textfont.color,e,"tc"),a.mergeArray(t.textfont.family,e,"tf"));var n=t.marker;if(n){a.mergeArray(n.size,e,"ms"),a.mergeArray(n.opacity,e,"mo"),a.mergeArray(n.symbol,e,"mx"),a.mergeArray(n.color,e,"mc");var o=n.line;n.line&&(a.mergeArray(o.color,e,"mlc"),a.mergeArray(o.width,e,"mlw"));var i=n.gradient;i&&"none"!==i.type&&(a.mergeArray(i.type,e,"mgt"),a.mergeArray(i.color,e,"mgc"))}}},function(e,t,r){"use strict";var a=r(0);e.exports=function(e,t){a.isArrayOrTypedArray(t.selectedpoints)&&a.tagSelected(e,t)}},function(e,t,r){"use strict";e.exports={container:"marker",min:"cmin",max:"cmax"}},function(e,t,r){"use strict";var a=r(3),n=r(26),o=r(5);function i(e,t,r){n.pointStyle(e.selectAll("path.point"),t,r)}function l(e,t,r){n.textPointStyle(e.selectAll("text"),t,r)}e.exports={style:function(e,t){var r=t?t[0].node3:a.select(e).selectAll("g.trace.scatter");r.style("opacity",function(e){return e[0].trace.opacity}),r.selectAll("g.points").each(function(t){i(a.select(this),t.trace||t[0].trace,e)}),r.selectAll("g.text").each(function(t){l(a.select(this),t.trace||t[0].trace,e)}),r.selectAll("g.trace path.js-line").call(n.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(n.fillGroupStyle),o.getComponentMethod("errorbars","style")(r)},stylePoints:i,styleText:l,styleOnSelect:function(e,t){var r=t[0].node3,a=t[0].trace;a.selectedpoints?(n.selectedPointStyle(r.selectAll("path.point"),a),n.selectedTextStyle(r.selectAll("text"),a)):(i(r,a,e),l(r,a,e))}}},function(e,t,r){"use strict";var a=r(0);function n(e){return e||0===e}e.exports=function(e,t,r){var o=Array.isArray(r)?function(e){r.push(e)}:function(e){r.text=e},i=a.extractOption(e,t,"htx","hovertext");if(n(i))return o(i);var l=a.extractOption(e,t,"tx","text");return n(l)?o(l):void 0}},function(e,t,r){"use strict";var a=r(0);t.formatPiePercent=function(e,t){var r=(100*e).toPrecision(3);return-1!==r.lastIndexOf(".")&&(r=r.replace(/[.]?0+$/,"")),a.numSeparate(r,t)+"%"},t.formatPieValue=function(e,t){var r=e.toPrecision(10);return-1!==r.lastIndexOf(".")&&(r=r.replace(/[.]?0+$/,"")),a.numSeparate(r,t)},t.getFirstFilled=function(e,t){if(Array.isArray(e))for(var r=0;r<t.length;r++){var a=e[t[r]];if(a||0===a)return a}},t.castOption=function(e,r){return Array.isArray(e)?t.getFirstFilled(e,r):e||void 0}},,,,,function(e,t,r){"use strict";var a=r(11),n=r(270).castOption;e.exports=function(e,t,r){var o=r.marker.line,i=n(o.color,t.pts)||a.defaultLine,l=n(o.width,t.pts)||0;e.style({"stroke-width":l}).call(a.fill,t.color).call(a.stroke,i)}},function(e,t,r){"use strict";t.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=2/3},t.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>1/3&&e.x<2/3},t.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=1/3},t.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>1/3&&e.y<2/3}},function(e,t,r){"use strict";var a=r(349),n=r(9),o=r(28),i=r(19).templatedArray;e.exports=i("annotation",{visible:{valType:"boolean",role:"info",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not this annotation is visible."].join(" ")},text:{valType:"string",role:"info",editType:"calc+arraydraw",description:["Sets the text associated with this annotation.","Plotly uses a subset of HTML tags to do things like","newline (<br>), bold (<b></b>), italics (<i></i>),","hyperlinks (<a href='...'></a>). Tags <em>, <sup>, <sub>","<span> are also supported."].join(" ")},textangle:{valType:"angle",dflt:0,role:"style",editType:"calc+arraydraw",description:["Sets the angle at which the `text` is drawn","with respect to the horizontal."].join(" ")},font:n({editType:"calc+arraydraw",colorEditType:"arraydraw",description:"Sets the annotation text font."}),width:{valType:"number",min:1,dflt:null,role:"style",editType:"calc+arraydraw",description:["Sets an explicit width for the text box. null (default) lets the","text set the box width. Wider text will be clipped.","There is no automatic wrapping; use <br> to start a new line."].join(" ")},height:{valType:"number",min:1,dflt:null,role:"style",editType:"calc+arraydraw",description:["Sets an explicit height for the text box. null (default) lets the","text set the box height. Taller text will be clipped."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"style",editType:"arraydraw",description:"Sets the opacity of the annotation (text + arrow)."},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",role:"style",editType:"arraydraw",description:["Sets the horizontal alignment of the `text` within the box.","Has an effect only if `text` spans more two or more lines","(i.e. `text` contains one or more <br> HTML tags) or if an","explicit width is set to override the text width."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",role:"style",editType:"arraydraw",description:["Sets the vertical alignment of the `text` within the box.","Has an effect only if an explicit height is set to override","the text height."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",editType:"arraydraw",description:"Sets the background color of the annotation."},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",editType:"arraydraw",description:["Sets the color of the border enclosing the annotation `text`."].join(" ")},borderpad:{valType:"number",min:0,dflt:1,role:"style",editType:"calc+arraydraw",description:["Sets the padding (in px) between the `text`","and the enclosing border."].join(" ")},borderwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"calc+arraydraw",description:["Sets the width (in px) of the border enclosing","the annotation `text`."].join(" ")},showarrow:{valType:"boolean",dflt:!0,role:"style",editType:"calc+arraydraw",description:["Determines whether or not the annotation is drawn with an arrow.","If *true*, `text` is placed near the arrow's tail.","If *false*, `text` lines up with the `x` and `y` provided."].join(" ")},arrowcolor:{valType:"color",role:"style",editType:"arraydraw",description:"Sets the color of the annotation arrow."},arrowhead:{valType:"integer",min:0,max:a.length,dflt:1,role:"style",editType:"arraydraw",description:"Sets the end annotation arrow head style."},startarrowhead:{valType:"integer",min:0,max:a.length,dflt:1,role:"style",editType:"arraydraw",description:"Sets the start annotation arrow head style."},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",role:"style",editType:"arraydraw",description:"Sets the annotation arrow head position."},arrowsize:{valType:"number",min:.3,dflt:1,role:"style",editType:"calc+arraydraw",description:["Sets the size of the end annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},startarrowsize:{valType:"number",min:.3,dflt:1,role:"style",editType:"calc+arraydraw",description:["Sets the size of the start annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},arrowwidth:{valType:"number",min:.1,role:"style",editType:"calc+arraydraw",description:"Sets the width (in px) of annotation arrow line."},standoff:{valType:"number",min:0,dflt:0,role:"style",editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the end arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},startstandoff:{valType:"number",min:0,dflt:0,role:"style",editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the start arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},ax:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the x component of the arrow tail about the arrow head.","If `axref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from right to left (left to right).","If `axref` is an axis, this is an absolute value on that axis,","like `x`, NOT a relative value."].join(" ")},ay:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the y component of the arrow tail about the arrow head.","If `ayref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from bottom to top (top to bottom).","If `ayref` is an axis, this is an absolute value on that axis,","like `y`, NOT a relative value."].join(" ")},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],role:"info",editType:"calc",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ax` is a relative offset in pixels ","from `x`. If set to an x axis id (e.g. *x* or *x2*), `ax` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],role:"info",editType:"calc",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ay` is a relative offset in pixels ","from `y`. If set to a y axis id (e.g. *y* or *y2*), `ay` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],role:"info",editType:"calc",description:["Sets the annotation's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where 0 (1) corresponds to the left (right) side."].join(" ")},x:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the annotation's x position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",role:"info",editType:"calc+arraydraw",description:["Sets the text box's horizontal position anchor","This anchor binds the `x` position to the *left*, *center*","or *right* of the annotation.","For example, if `x` is set to 1, `xref` to *paper* and","`xanchor` to *right* then the right-most portion of the","annotation lines up with the right-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *center* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},xshift:{valType:"number",dflt:0,role:"style",editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow to the","right (positive) or left (negative) by this many pixels."].join(" ")},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],role:"info",editType:"calc",description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where 0 (1) corresponds to the bottom (top)."].join(" ")},y:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the annotation's y position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",editType:"calc+arraydraw",description:["Sets the text box's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the annotation.","For example, if `y` is set to 1, `yref` to *paper* and","`yanchor` to *top* then the top-most portion of the","annotation lines up with the top-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *middle* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},yshift:{valType:"number",dflt:0,role:"style",editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow up","(positive) or down (negative) by this many pixels."].join(" ")},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,role:"style",editType:"arraydraw",description:["Makes this annotation respond to clicks on the plot.","If you click a data point that exactly matches the `x` and `y`","values of this annotation, and it is hidden (visible: false),","it will appear. In *onoff* mode, you must click the same point","again to make it disappear, so if you click multiple points,","you can show multiple annotations. In *onout* mode, a click","anywhere else in the plot (on another data point or not) will","hide this annotation.","If you need to show/hide this annotation in response to different","`x` or `y` values, you can set `xclick` and/or `yclick`. This is","useful for example to label the side of a bar. To label markers","though, `standoff` is preferred over `xclick` and `yclick`."].join(" ")},xclick:{valType:"any",role:"info",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `x` value","is `xclick` rather than the annotation's `x` value."].join(" ")},yclick:{valType:"any",role:"info",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `y` value","is `yclick` rather than the annotation's `y` value."].join(" ")},hovertext:{valType:"string",role:"info",editType:"arraydraw",description:["Sets text to appear when hovering over this annotation.","If omitted or blank, no hover label will appear."].join(" ")},hoverlabel:{bgcolor:{valType:"color",role:"style",editType:"arraydraw",description:["Sets the background color of the hover label.","By default uses the annotation's `bgcolor` made opaque,","or white if it was transparent."].join(" ")},bordercolor:{valType:"color",role:"style",editType:"arraydraw",description:["Sets the border color of the hover label.","By default uses either dark grey or white, for maximum","contrast with `hoverlabel.bgcolor`."].join(" ")},font:n({editType:"arraydraw",description:["Sets the hover label text font.","By default uses the global hover font and size,","with color from `hoverlabel.bordercolor`."].join(" ")}),editType:"arraydraw"},captureevents:{valType:"boolean",role:"info",editType:"arraydraw",description:["Determines whether the annotation text box captures mouse move","and click events, or allows those events to pass through to data","points in the plot that may be behind the annotation. By default","`captureevents` is *false* unless `hovertext` is provided.","If you use the event `plotly_clickannotation` without `hovertext`","you must explicitly enable `captureevents`."].join(" ")},editType:"calc",_deprecated:{ref:{valType:"string",role:"info",editType:"calc",description:["Obsolete. Set `xref` and `yref` separately instead."].join(" ")}}})},function(e,t,r){"use strict";e.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},function(e,t,r){"use strict";var a=r(6).extendFlat;t.attributes=function(e,t){e=e||{},t=t||{};var r={valType:"info_array",role:"info",editType:e.editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},n=e.name?e.name+" ":"",o=e.trace?"trace ":"subplot ",i=t.description?" "+t.description:"",l={x:a({},r,{description:["Sets the horizontal domain of this ",n,o,"(in plot fraction).",i].join("")}),y:a({},r,{description:["Sets the vertical domain of this ",n,o,"(in plot fraction).",i].join("")}),editType:e.editType};return e.noGridCell||(l.row={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",n,o,".",i].join("")},l.column={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",n,o,".",i].join("")}),l},t.defaults=function(e,t,r,a){var n=a&&a.x||[0,1],o=a&&a.y||[0,1],i=t.grid;if(i){var l=r("domain.column");void 0!==l&&(l<i.columns?n=i._domains.x[l]:delete e.domain.column);var s=r("domain.row");void 0!==s&&(s<i.rows?o=i._domains.y[s]:delete e.domain.row)}r("domain.x",n),r("domain.y",o)}},,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox"))?500:0},t.getRedrawFunc=function(e){var t=e._fullLayout||{};if(!(!(t._has&&t._has("polar"))&&e.data&&e.data[0]&&e.data[0].r))return function(){(e.calcdata||[]).forEach(function(e){e[0]&&e[0].t&&e[0].t.cb&&e[0].t.cb()})}}},function(e,t,r){"use strict";var a=r(3),n=r(0),o=r(26),i=r(11),l=r(45),s=/"/g,c=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");e.exports=function(e,t,r){var d,u=e._fullLayout,h=u._paper,f=u._toppaper,p=u.width,g=u.height;h.insert("rect",":first-child").call(o.setRect,0,0,p,g).call(i.fill,u.paper_bgcolor);var v=u._basePlotModules||[];for(d=0;d<v.length;d++){var m=v[d];m.toSVG&&m.toSVG(e)}if(f){var y=f.node().childNodes,x=Array.prototype.slice.call(y);for(d=0;d<x.length;d++){var b=x[d];b.childNodes.length&&h.node().appendChild(b)}}u._draggers&&u._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var e=a.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){e.style({visibility:null,display:null});var t=this.style.fontFamily;t&&-1!==t.indexOf('"')&&e.style("font-family",t.replace(s,"TOBESTRIPPED"))}else e.remove()}),h.selectAll(".point, .scatterpts, .legendfill>path, .legendlines>path, .cbfill").each(function(){var e=a.select(this),t=this.style.fill;t&&-1!==t.indexOf("url(")&&e.style("fill",t.replace(s,"TOBESTRIPPED"));var r=this.style.stroke;r&&-1!==r.indexOf("url(")&&e.style("stroke",r.replace(s,"TOBESTRIPPED"))}),"pdf"!==t&&"eps"!==t||h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(l.xmlns,"xmlns",l.svg),h.node().setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),"svg"===t&&r&&(h.attr("width",r*p),h.attr("height",r*g),h.attr("viewBox","0 0 "+p+" "+g));var _=(new window.XMLSerializer).serializeToString(h.node());return _=function(e){var t=a.select("body").append("div").style({display:"none"}).html(""),r=e.replace(/(&[^;]*;)/gi,function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":-1!==e.indexOf("<")||-1!==e.indexOf(">")?"":t.html(e).text()});return t.remove(),r}(_),_=(_=_.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(c,"'"),n.isIE()&&(_=(_=(_=_.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),_}},function(e,t,r){"use strict";var a=r(0),n=r(214).EventEmitter;e.exports=function(e){var t=e.emitter||new n,r=new Promise(function(n,o){var i=window.Image,l=e.svg,s=e.format||"png";if(a.isIE()&&"svg"!==s){var c=new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.");return o(c),e.promise?r:t.emit("error",c)}var d=e.canvas,u=e.scale||1,h=u*(e.width||300),f=u*(e.height||150),p=d.getContext("2d"),g=new i,v="data:image/svg+xml,"+encodeURIComponent(l);d.width=h,d.height=f,g.onload=function(){var r;switch("svg"!==s&&p.drawImage(g,0,0,h,f),s){case"jpeg":r=d.toDataURL("image/jpeg");break;case"png":r=d.toDataURL("image/png");break;case"webp":r=d.toDataURL("image/webp");break;case"svg":r=v;break;default:var a="Image format is not jpeg, png, svg or webp.";if(o(new Error(a)),!e.promise)return t.emit("error",a)}n(r),e.promise||t.emit("success",r)},g.onerror=function(r){if(o(r),!e.promise)return t.emit("error",r)},g.src=v});return e.promise?r:t}},function(e,t,r){"use strict";var a={},n=r(66);a.hasLines=n.hasLines,a.hasMarkers=n.hasMarkers,a.hasText=n.hasText,a.isBubble=n.isBubble,a.attributes=r(71),a.supplyDefaults=r(301),a.crossTraceDefaults=r(308),a.calc=r(264).calc,a.crossTraceCalc=r(310),a.arraysToCalcdata=r(265),a.plot=r(311),a.colorbar=r(267),a.style=r(268).style,a.styleOnSelect=r(268).styleOnSelect,a.hoverPoints=r(314),a.selectPoints=r(316),a.animatable=!0,a.moduleType="trace",a.name="scatter",a.basePlotModule=r(232),a.categories=["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],a.meta={description:["The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts.","The data visualized as scatter point or lines is set in `x` and `y`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")},e.exports=a},function(e,t,r){"use strict";var a=r(0),n=r(5),o=r(71),i=r(84),l=r(66),s=r(263),c=r(302),d=r(303),u=r(304),h=r(305),f=r(306),p=r(307);e.exports=function(e,t,r,g){function v(r,n){return a.coerce(e,t,o,r,n)}var m=s(e,t,g,v);if(m||(t.visible=!1),t.visible){var y=c(e,t,g,v),x=!y&&m<i.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("mode",x),l.hasLines(t)&&(u(e,t,r,g,v),h(e,t,v),v("connectgaps"),v("line.simplify")),l.hasMarkers(t)&&d(e,t,r,g,v,{gradient:!0}),l.hasText(t)&&f(e,t,g,v);var b=[];(l.hasMarkers(t)||l.hasText(t))&&(v("cliponaxis"),v("marker.maxdisplayed"),b.push("points")),v("fill",y?y.fillDflt:"none"),"none"!==t.fill&&(p(e,t,r,v),l.hasLines(t)||h(e,t,v)),"tonext"!==t.fill&&"toself"!==t.fill||b.push("fills"),v("hoveron",b.join("+")||"points");var _=n.getComponentMethod("errorbars","supplyDefaults");_(e,t,r,{axis:"y"}),_(e,t,r,{axis:"x",inherit:"y"}),a.coerceSelectionMarkerOpacity(t,v)}}},function(e,t,r){"use strict";var a=["orientation","groupnorm","stackgaps"];e.exports=function(e,t,r,n){var o=r._scatterStackOpts,i=n("stackgroup");if(i){var l=t.xaxis+t.yaxis,s=o[l];s||(s=o[l]={});var c=s[i],d=!1;c?c.traces.push(t):(c=s[i]={traceIndices:[],traces:[t]},d=!0);for(var u={orientation:t.x&&!t.y?"h":"v"},h=0;h<a.length;h++){var f=a[h],p=f+"Found";if(!c[p]){var g=void 0!==e[f],v="orientation"===f;if((g||d)&&(c[f]=n(f,u[f]),v&&(c.fillDflt="h"===c[f]?"tonextx":"tonexty"),g&&(c[p]=!0,!d&&(delete c.traces[0][f],v))))for(var m=0;m<c.traces.length-1;m++){var y=c.traces[m];y._input.fill!==y.fill&&(y.fill=c.fillDflt)}}}return c}}},function(e,t,r){"use strict";var a=r(11),n=r(70),o=r(73),i=r(66);e.exports=function(e,t,r,l,s,c){var d=i.isBubble(e),u=(e.line||{}).color;(c=c||{},u&&(r=u),s("marker.symbol"),s("marker.opacity",d?.7:1),s("marker.size"),s("marker.color",r),n(e,"marker")&&o(e,t,l,s,{prefix:"marker.",cLetter:"c"}),c.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),c.noLine||(s("marker.line.color",u&&!Array.isArray(u)&&t.marker.color!==u?u:d?a.background:a.defaultLine),n(e,"marker.line")&&o(e,t,l,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",d?1:0)),d&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),c.gradient)&&("none"!==s("marker.gradient.type")&&s("marker.gradient.color"))}},function(e,t,r){"use strict";var a=r(0).isArrayOrTypedArray,n=r(70),o=r(73);e.exports=function(e,t,r,i,l,s){var c=(e.marker||{}).color;(l("line.color",r),n(e,"line"))?o(e,t,i,l,{prefix:"line.",cLetter:"c",noScale:!0}):l("line.color",!a(c)&&c||r);l("line.width"),(s||{}).noDash||l("line.dash")}},function(e,t,r){"use strict";e.exports=function(e,t,r){"spline"===r("line.shape")&&r("line.smoothing")}},function(e,t,r){"use strict";var a=r(0);e.exports=function(e,t,r,n,o){o=o||{},n("textposition"),a.coerceFont(n,"textfont",r.font),o.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}},function(e,t,r){"use strict";var a=r(11),n=r(0).isArrayOrTypedArray;e.exports=function(e,t,r,o){var i=!1;if(t.marker){var l=t.marker.color,s=(t.marker.line||{}).color;l&&!n(l)?i=l:s&&!n(s)&&(i=s)}o("fillcolor",a.addOpacity((t.line||{}).color||i||r,.5))}},function(e,t,r){"use strict";e.exports=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("scatter"===r.type){var a=r.fill;if("none"!==a&&"toself"!==a&&(r.opacity=void 0,"tonexty"===a||"tonextx"===a))for(var n=t-1;n>=0;n--){var o=e[n];if("scatter"===o.type&&o.xaxis===r.xaxis&&o.yaxis===r.yaxis){o.opacity=void 0;break}}}}}},function(e,t,r){"use strict";var a=r(70),n=r(83),o=r(66);e.exports=function(e){o.hasLines(e)&&a(e,"line")&&n(e,e.line.color,"line","c"),o.hasMarkers(e)&&(a(e,"marker")&&n(e,e.marker.color,"marker","c"),a(e,"marker.line")&&n(e,e.marker.line.color,"marker.line","c"))}},function(e,t,r){"use strict";var a=r(264);function n(e,t,r,a,n,o,i){n[a]=!0;var l={i:null,gap:!0,s:0};if(l[i]=r,e.splice(t,0,l),t&&r===e[t-1][i]){var s=e[t-1];l.s=s.s,l.i=s.i,l.gap=s.gap}else o&&(l.s=function(e,t,r,a){var n=e[t-1],o=e[t+1];return o?n?n.s+(o.s-n.s)*(r-n[a])/(o[a]-n[a]):o.s:n.s}(e,t,r,i));t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}e.exports=function(e,t){var r=t.xaxis,o=t.yaxis,i=r._id+o._id,l=e._fullLayout._scatterStackOpts[i];if(l){var s,c,d,u,h,f,p,g,v,m,y,x,b,_,w,k=e.calcdata;for(var T in l){var A=(m=l[T]).traceIndices;if(A.length){for(y="interpolate"===m.stackgaps,x=m.groupnorm,"v"===m.orientation?(b="x",_="y"):(b="y",_="x"),w=new Array(A.length),s=0;s<w.length;s++)w[s]=!1;f=k[A[0]];var M=new Array(f.length);for(s=0;s<f.length;s++)M[s]=f[s][b];for(s=1;s<A.length;s++){for(h=k[A[s]],c=d=0;c<h.length;c++){for(p=h[c][b];p>M[d]&&d<M.length;d++)n(h,c,M[d],s,w,y,b),c++;if(p!==M[d]){for(u=0;u<s;u++)n(k[A[u]],d,p,u,w,y,b);M.splice(d,0,p)}d++}for(;d<M.length;d++)n(h,c,M[d],s,w,y,b),c++}var S=M.length;for(c=0;c<f.length;c++){for(g=f[c][_]=f[c].s,s=1;s<A.length;s++)(h=k[A[s]])[0].trace._rawLength=h[0].trace._length,h[0].trace._length=S,g+=h[c].s,h[c][_]=g;if(x)for(v=("fraction"===x?g:g/100)||1,s=0;s<A.length;s++){var L=k[A[s]][c];L[_]/=v,L.sNorm=L.s/v}}for(s=0;s<A.length;s++){var C=(h=k[A[s]])[0].trace,z=a.calcMarkerSize(C,C._rawLength),P=Array.isArray(z);if(z&&w[s]||P){var O=z;for(z=new Array(S),c=0;c<S;c++)z[c]=h[c].gap?0:P?O[h[c].i]:O}var I=new Array(S),D=new Array(S);for(c=0;c<S;c++)I[c]=h[c].x,D[c]=h[c].y;a.calcAxisExpansion(e,C,r,o,I,D,z),h[0].t.orientation=m.orientation}}}}}},function(e,t,r){"use strict";var a=r(3),n=r(5),o=r(0),i=o.ensureSingle,l=o.identity,s=r(26),c=r(66),d=r(312),u=r(313),h=r(227).tester;function f(e,t,r,u,f,p,g){var v;!function(e,t,r,n,i){var l=r.xaxis,s=r.yaxis,d=a.extent(o.simpleMap(l.range,l.r2c)),u=a.extent(o.simpleMap(s.range,s.r2c)),h=n[0].trace;if(!c.hasMarkers(h))return;var f=h.marker.maxdisplayed;if(0===f)return;var p=n.filter(function(e){return e.x>=d[0]&&e.x<=d[1]&&e.y>=u[0]&&e.y<=u[1]}),g=Math.ceil(p.length/f),v=0;i.forEach(function(e,r){var a=e[0].trace;c.hasMarkers(a)&&a.marker.maxdisplayed>0&&r<t&&v++});var m=Math.round(v*g/3+Math.floor(v/3)*g/7.1);n.forEach(function(e){delete e.vis}),p.forEach(function(e,t){0===Math.round((t+m)%g)&&(e.vis=!0)})}(0,t,r,u,f);var m=!!g&&g.duration>0;function y(e){return m?e.transition():e}var x=r.xaxis,b=r.yaxis,_=u[0].trace,w=_.line,k=a.select(p),T=i(k,"g","errorbars"),A=i(k,"g","lines"),M=i(k,"g","points"),S=i(k,"g","text");if(n.getComponentMethod("errorbars","plot")(T,r,g),!0===_.visible){var L,C;y(k).style("opacity",_.opacity);var z=_.fill.charAt(_.fill.length-1);"x"!==z&&"y"!==z&&(z=""),r.isRangePlot||(u[0].node3=k);var P="",O=[],I=_._prevtrace;I&&(P=I._prevRevpath||"",C=I._nextFill,O=I._polygons);var D,R,E,j,F,N,B,H,V,q="",G="",X=[],W=o.noop;if(L=_._ownFill,c.hasLines(_)||"none"!==_.fill){for(C&&C.datum(u),-1!==["hv","vh","hvh","vhv"].indexOf(w.shape)?(E=s.steps(w.shape),j=s.steps(w.shape.split("").reverse().join(""))):E=j="spline"===w.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?s.smoothclosed(e.slice(1),w.smoothing):s.smoothopen(e,w.smoothing)}:function(e){return"M"+e.join("L")},F=function(e){return j(e.reverse())},X=d(u,{xaxis:x,yaxis:b,connectGaps:_.connectgaps,baseTolerance:Math.max(w.width||1,3)/4,shape:w.shape,simplify:w.simplify}),V=_._polygons=new Array(X.length),v=0;v<X.length;v++)_._polygons[v]=h(X[v]);X.length&&(N=X[0][0],H=(B=X[X.length-1])[B.length-1]),W=function(e){return function(t){if(D=E(t),R=F(t),q?z?(q+="L"+D.substr(1),G=R+"L"+G.substr(1)):(q+="Z"+D,G=R+"Z"+G):(q=D,G=R),c.hasLines(_)&&t.length>1){var r=a.select(this);if(r.datum(u),e)y(r.style("opacity",0).attr("d",D).call(s.lineGroupStyle)).style("opacity",1);else{var n=y(r);n.attr("d",D),s.singleLineStyle(u,n)}}}}}var Z=A.selectAll(".js-line").data(X);y(Z.exit()).style("opacity",0).remove(),Z.each(W(!1)),Z.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(s.lineGroupStyle).each(W(!0)),s.setClipUrl(Z,r.layerClipId),X.length?(L?(L.datum(u),N&&H&&(z?("y"===z?N[1]=H[1]=b.c2p(0,!0):"x"===z&&(N[0]=H[0]=x.c2p(0,!0)),y(L).attr("d","M"+H+"L"+N+"L"+q.substr(1)).call(s.singleFillStyle)):y(L).attr("d",q+"Z").call(s.singleFillStyle))):C&&("tonext"===_.fill.substr(0,6)&&q&&P?("tonext"===_.fill?y(C).attr("d",q+"Z"+P+"Z").call(s.singleFillStyle):y(C).attr("d",q+"L"+P.substr(1)+"Z").call(s.singleFillStyle),_._polygons=_._polygons.concat(O)):(U(C),_._polygons=null)),_._prevRevpath=G,_._prevPolygons=V):(L?U(L):C&&U(C),_._polygons=_._prevRevpath=_._prevPolygons=null),M.datum(u),S.datum(u),function(t,n,o){var i,d=o[0].trace,u=c.hasMarkers(d),h=c.hasText(d),f=ee(d),p=te,g=te;if(u||h){var v=l,_=d.stackgroup,w=_&&"infer zero"===e._fullLayout._scatterStackOpts[x._id+b._id][_].stackgaps;d.marker.maxdisplayed||d._needsCull?v=w?J:Q:_&&!w&&(v=K),u&&(p=v),h&&(g=v)}var k,T=(i=t.selectAll("path.point").data(p,f)).enter().append("path").classed("point",!0);m&&T.call(s.pointStyle,d,e).call(s.translatePoints,x,b).style("opacity",0).transition().style("opacity",1),i.order(),u&&(k=s.makePointStyleFns(d)),i.each(function(t){var n=a.select(this),o=y(n);s.translatePoint(t,o,x,b)?(s.singlePointStyle(t,o,d,k,e),r.layerClipId&&s.hideOutsideRangePoint(t,o,x,b,d.xcalendar,d.ycalendar),d.customdata&&n.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):o.remove()}),m?i.exit().transition().style("opacity",0).remove():i.exit().remove(),(i=n.selectAll("g").data(g,f)).enter().append("g").classed("textpoint",!0).append("text"),i.order(),i.each(function(e){var t=a.select(this),n=y(t.select("text"));s.translatePoint(e,n,x,b)?r.layerClipId&&s.hideOutsideRangePoint(e,t,x,b,d.xcalendar,d.ycalendar):t.remove()}),i.selectAll("text").call(s.textPointStyle,d,e).each(function(e){var t=x.c2p(e.x),r=b.c2p(e.y);a.select(this).selectAll("tspan.line").each(function(){y(a.select(this)).attr({x:t,y:r})})}),i.exit().remove()}(M,S,u);var Y=!1===_.cliponaxis?null:r.layerClipId;s.setClipUrl(M,Y),s.setClipUrl(S,Y)}function U(e){y(e).attr("d","M0,0Z")}function Q(e){return e.filter(function(e){return!e.gap&&e.vis})}function J(e){return e.filter(function(e){return e.vis})}function K(e){return e.filter(function(e){return!e.gap})}function $(e){return e.id}function ee(e){if(e.ids)return $}function te(){return!1}}e.exports=function(e,t,r,n,o,c){var d,h,p=!o,g=!!o&&o.duration>0,v=u(e,t,r);((d=n.selectAll("g.trace").data(v,function(e){return e[0].trace.uid})).enter().append("g").attr("class",function(e){return"trace scatter trace"+e[0].trace.uid}).style("stroke-miterlimit",2),d.order(),function(e,t,r){t.each(function(e){var t=i(a.select(this),"g","fills");s.setClipUrl(t,r.layerClipId);var n=e[0].trace,o=[];n._ownfill&&o.push("_ownFill"),n._nexttrace&&o.push("_nextFill");var c=t.selectAll("g").data(o,l);c.enter().append("g"),c.exit().each(function(e){n[e]=null}).remove(),c.order().each(function(e){n[e]=i(a.select(this),"path","js-fill")})})}(0,d,t),g)?(c&&(h=c()),a.transition().duration(o.duration).ease(o.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()}).each(function(){n.selectAll("g.trace").each(function(r,a){f(e,a,t,r,v,this,o)})})):d.each(function(r,a){f(e,a,t,r,v,this,o)});p&&d.exit().remove(),n.selectAll("path:not([d])").remove()}},function(e,t,r){"use strict";var a=r(4),n=a.BADNUM,o=a.LOG_CLIP,i=o+.5,l=o-.5,s=r(0),c=s.segmentsIntersect,d=s.constrain,u=r(84);e.exports=function(e,t){var r,a,o,h,f,p,g,v,m,y,x,b,_,w,k,T,A,M,S=t.xaxis,L=t.yaxis,C="log"===S.type,z="log"===L.type,P=S._length,O=L._length,I=t.connectGaps,D=t.baseTolerance,R=t.shape,E="linear"===R,j=[],F=u.minTolerance,N=new Array(e.length),B=0;function H(t){var r=e[t];if(!r)return!1;var a=S.c2p(r.x),o=L.c2p(r.y);if(a===n){if(C&&(a=S.c2p(r.x,!0)),a===n)return!1;z&&o===n&&(a*=Math.abs(S._m*O*(S._m>0?i:l)/(L._m*P*(L._m>0?i:l)))),a*=1e3}if(o===n){if(z&&(o=L.c2p(r.y,!0)),o===n)return!1;o*=1e3}return[a,o]}function V(e,t,r,a){var n=r-e,o=a-t,i=.5-e,l=.5-t,s=n*n+o*o,c=n*i+o*l;if(c>0&&c<s){var d=i*o-l*n;if(d*d<s)return!0}}function q(e,t){var r=e[0]/P,a=e[1]/O,n=Math.max(0,-r,r-1,-a,a-1);return n&&void 0!==A&&V(r,a,A,M)&&(n=0),n&&t&&V(r,a,t[0]/P,t[1]/O)&&(n=0),(1+u.toleranceGrowth*n)*D}function G(e,t){var r=e[0]-t[0],a=e[1]-t[1];return Math.sqrt(r*r+a*a)}var X,W,Z,Y,U,Q,J,K=u.maxScreensAway,$=-P*K,ee=P*(1+K),te=-O*K,re=O*(1+K),ae=[[$,te,ee,te],[ee,te,ee,re],[ee,re,$,re],[$,re,$,te]];function ne(e){if(e[0]<$||e[0]>ee||e[1]<te||e[1]>re)return[d(e[0],$,ee),d(e[1],te,re)]}function oe(e,t){return e[0]===t[0]&&(e[0]===$||e[0]===ee)||(e[1]===t[1]&&(e[1]===te||e[1]===re)||void 0)}function ie(e,t,r){return function(a,n){var o=ne(a),i=ne(n),l=[];if(o&&i&&oe(o,i))return l;o&&l.push(o),i&&l.push(i);var c=2*s.constrain((a[e]+n[e])/2,t,r)-((o||a)[e]+(i||n)[e]);c&&((o&&i?c>0==o[e]>i[e]?o:i:o||i)[e]+=c);return l}}function le(e){var t=e[0],r=e[1],a=t===N[B-1][0],n=r===N[B-1][1];if(!a||!n)if(B>1){var o=t===N[B-2][0],i=r===N[B-2][1];a&&(t===$||t===ee)&&o?i?B--:N[B-1]=e:n&&(r===te||r===re)&&i?o?B--:N[B-1]=e:N[B++]=e}else N[B++]=e}function se(e){N[B-1][0]!==e[0]&&N[B-1][1]!==e[1]&&le([Z,Y]),le(e),U=null,Z=Y=0}function ce(e){if(A=e[0]/P,M=e[1]/O,X=e[0]<$?$:e[0]>ee?ee:0,W=e[1]<te?te:e[1]>re?re:0,X||W){if(B)if(U){var t=J(U,e);t.length>1&&(se(t[0]),N[B++]=t[1])}else Q=J(N[B-1],e)[0],N[B++]=Q;else N[B++]=[X||e[0],W||e[1]];var r=N[B-1];X&&W&&(r[0]!==X||r[1]!==W)?(U&&(Z!==X&&Y!==W?le(Z&&Y?(a=U,o=(n=e)[0]-a[0],i=(n[1]-a[1])/o,(a[1]*n[0]-n[1]*a[0])/o>0?[i>0?$:ee,re]:[i>0?ee:$,te]):[Z||X,Y||W]):Z&&Y&&le([Z,Y])),le([X,W])):Z-X&&Y-W&&le([X||Z,W||Y]),U=e,Z=X,Y=W}else U&&se(J(U,e)[0]),N[B++]=e;var a,n,o,i}for("linear"===R||"spline"===R?J=function(e,t){for(var r=[],a=0,n=0;n<4;n++){var o=ae[n],i=c(e[0],e[1],t[0],t[1],o[0],o[1],o[2],o[3]);i&&(!a||Math.abs(i.x-r[0][0])>1||Math.abs(i.y-r[0][1])>1)&&(i=[i.x,i.y],a&&G(i,e)<G(r[0],e)?r.unshift(i):r.push(i),a++)}return r}:"hv"===R||"vh"===R?J=function(e,t){var r=[],a=ne(e),n=ne(t);return a&&n&&oe(a,n)?r:(a&&r.push(a),n&&r.push(n),r)}:"hvh"===R?J=ie(0,$,ee):"vhv"===R&&(J=ie(1,te,re)),r=0;r<e.length;r++)if(a=H(r)){for(B=0,U=null,ce(a),r++;r<e.length;r++){if(!(h=H(r))){if(I)continue;break}if(E&&t.simplify){var de=H(r+1);if(!((y=G(h,a))<q(h,de)*F)){for(v=[(h[0]-a[0])/y,(h[1]-a[1])/y],f=a,x=y,b=w=k=0,g=!1,o=h,r++;r<e.length;r++){if(p=de,de=H(r+1),!p){if(I)continue;break}if(T=(m=[p[0]-a[0],p[1]-a[1]])[0]*v[1]-m[1]*v[0],w=Math.min(w,T),(k=Math.max(k,T))-w>q(p,de))break;o=p,(_=m[0]*v[0]+m[1]*v[1])>x?(x=_,h=p,g=!1):_<b&&(b=_,f=p,g=!0)}if(g?(ce(h),o!==f&&ce(f)):(f!==a&&ce(f),o!==h&&ce(h)),ce(o),r>=e.length||!p)break;ce(p),a=p}}else ce(h)}U&&le([Z||U[0],Y||U[1]]),j.push(N.slice(0,B))}return j}},function(e,t,r){"use strict";var a={tonextx:1,tonexty:1,tonext:1};e.exports=function(e,t,r){var n,o,i,l,s,c={},d=!1,u=-1,h=0,f=-1;for(o=0;o<r.length;o++)(i=(n=r[o][0].trace).stackgroup||"")?i in c?s=c[i]:(s=c[i]=h,h++):n.fill in a&&f>=0?s=f:(s=f=h,h++),s<u&&(d=!0),n._groupIndex=u=s;var p=r.slice();d&&p.sort(function(e,t){var r=e[0].trace,a=t[0].trace;return r._groupIndex-a._groupIndex||r.index-a.index});var g={};for(o=0;o<p.length;o++)i=(n=p[o][0].trace).stackgroup||"",!0===n.visible?(n._nexttrace=null,n.fill in a&&(l=g[i],n._prevtrace=l||null,l&&(l._nexttrace=n)),n._ownfill=n.fill&&("tozero"===n.fill.substr(0,6)||"toself"===n.fill||"to"===n.fill.substr(0,2)&&!n._prevtrace),g[i]=n):n._prevtrace=n._nexttrace=n._ownfill=null;return p}},function(e,t,r){"use strict";var a=r(0),n=r(201),o=r(5),i=r(315),l=r(11),s=r(269);e.exports=function(e,t,r,c){var d=e.cd,u=d[0].trace,h=e.xa,f=e.ya,p=h.c2p(t),g=f.c2p(r),v=[p,g],m=u.hoveron||"",y=-1!==u.mode.indexOf("markers")?3:.5;if(-1!==m.indexOf("points")){var x=function(e){var t=Math.max(y,e.mrc||0),r=h.c2p(e.x)-p,a=f.c2p(e.y)-g;return Math.max(Math.sqrt(r*r+a*a)-t,1-y/t)},b=n.getDistanceFunction(c,function(e){var t=Math.max(3,e.mrc||0),r=1-1/t,a=Math.abs(h.c2p(e.x)-p);return a<t?r*a/t:a-t+r},function(e){var t=Math.max(3,e.mrc||0),r=1-1/t,a=Math.abs(f.c2p(e.y)-g);return a<t?r*a/t:a-t+r},x);if(n.getClosest(d,b,e),!1!==e.index){var _=d[e.index],w=h.c2p(_.x,!0),k=f.c2p(_.y,!0),T=_.mrc||1;e.index=_.i;var A=d[0].t.orientation,M=A&&(_.sNorm||_.s),S="h"===A?M:_.x,L="v"===A?M:_.y;return a.extendFlat(e,{color:i(u,_),x0:w-T,x1:w+T,xLabelVal:S,y0:k-T,y1:k+T,yLabelVal:L,spikeDistance:x(_)}),s(_,u,e),o.getComponentMethod("errorbars","hoverInfo")(_,u,e),[e]}}if(-1!==m.indexOf("fills")&&u._polygons){var C,z,P,O,I,D,R,E,j,F=u._polygons,N=[],B=!1,H=1/0,V=-1/0,q=1/0,G=-1/0;for(C=0;C<F.length;C++)(P=F[C]).contains(v)&&(B=!B,N.push(P),q=Math.min(q,P.ymin),G=Math.max(G,P.ymax));if(B){var X=((q=Math.max(q,0))+(G=Math.min(G,f._length)))/2;for(C=0;C<N.length;C++)for(O=N[C].pts,z=1;z<O.length;z++)(E=O[z-1][1])>X!=(j=O[z][1])>=X&&(D=O[z-1][0],R=O[z][0],j-E&&(I=D+(R-D)*(X-E)/(j-E),H=Math.min(H,I),V=Math.max(V,I)));H=Math.max(H,0),V=Math.min(V,h._length);var W=l.defaultLine;return l.opacity(u.fillcolor)?W=u.fillcolor:l.opacity((u.line||{}).color)&&(W=u.line.color),a.extendFlat(e,{distance:e.maxHoverDistance,x0:H,x1:V,y0:X,y1:X,color:W}),delete e.index,u.text&&!Array.isArray(u.text)?e.text=String(u.text):e.text=u.name,[e]}}}},function(e,t,r){"use strict";var a=r(11),n=r(66);e.exports=function(e,t){var r,o;if("lines"===e.mode)return(r=e.line.color)&&a.opacity(r)?r:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var i=t.mcc||(e.marker||{}).color,l=t.mlcc||((e.marker||{}).line||{}).color;return(o=i&&a.opacity(i)?i:l&&a.opacity(l)&&(t.mlw||((e.marker||{}).line||{}).width)?l:"")?a.opacity(o)<.3?a.addOpacity(o,.3):o:(r=(e.line||{}).color)&&a.opacity(r)&&n.hasLines(e)&&e.line.width?r:e.fillcolor}},function(e,t,r){"use strict";var a=r(66);e.exports=function(e,t){var r,n,o,i,l=e.cd,s=e.xaxis,c=e.yaxis,d=[],u=l[0].trace;if(!a.hasMarkers(u)&&!a.hasText(u))return[];if(!1===t)for(r=0;r<l.length;r++)l[r].selected=0;else for(r=0;r<l.length;r++)n=l[r],o=s.c2p(n.x),i=c.c2p(n.y),null!==n.i&&t.contains([o,i],!1,r,e)?(d.push({pointNumber:n.i,x:s.c2d(n.x),y:c.c2d(n.y)}),n.selected=1):n.selected=0;return d}},function(e,t,r){"use strict";t.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},t.isVertical=function(e){return"h"!==e.orientation},t.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},function(e,t,r){"use strict";var a=r(3),n=r(5),o=r(43),i=r(0),l=r(65),s=r(11),c=r(26),d=r(201),u=r(29),h=r(202),f=r(199),p=r(19).arrayEditor,g=r(396);function v(e,t){var r=e._fullLayout.annotations[t]||{};m(e,r,t,!1,l.getFromId(e,r.xref),l.getFromId(e,r.yref))}function m(e,t,r,o,l,v){var m,y,x=e._fullLayout,b=e._fullLayout._size,_=e._context.edits;o?(m="annotation-"+o,y=o+".annotations"):(m="annotation",y="annotations");var w=p(e.layout,y,t),k=w.modifyBase,T=w.modifyItem,A=w.getUpdateObj;x._infolayer.selectAll("."+m+'[data-index="'+r+'"]').remove();var M="clip"+x._uid+"_ann"+r;if(t._input&&!1!==t.visible){var S={x:{},y:{}},L=+t.textangle||0,C=x._infolayer.append("g").classed(m,!0).attr("data-index",String(r)).style("opacity",t.opacity),z=C.append("g").classed("annotation-text-g",!0),P=_[t.showarrow?"annotationTail":"annotationPosition"],O=t.captureevents||_.annotationText||P,I=z.append("g").style("pointer-events",O?"all":null).call(h,"pointer").on("click",function(){e._dragging=!1;var n={index:r,annotation:t._input,fullAnnotation:t,event:a.event};o&&(n.subplotId=o),e.emit("plotly_clickannotation",n)});t.hovertext&&I.on("mouseover",function(){var r=t.hoverlabel,a=r.font,n=this.getBoundingClientRect(),o=e.getBoundingClientRect();d.loneHover({x0:n.left-o.left,x1:n.right-o.left,y:(n.top+n.bottom)/2-o.top,text:t.hovertext,color:r.bgcolor,borderColor:r.bordercolor,fontFamily:a.family,fontSize:a.size,fontColor:a.color},{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:e})}).on("mouseout",function(){d.loneUnhover(x._hoverlayer.node())});var D=t.borderwidth,R=t.borderpad,E=D+R,j=I.append("rect").attr("class","bg").style("stroke-width",D+"px").call(s.stroke,t.bordercolor).call(s.fill,t.bgcolor),F=t.width||t.height,N=x._topclips.selectAll("#"+M).data(F?[0]:[]);N.enter().append("clipPath").classed("annclip",!0).attr("id",M).append("rect"),N.exit().remove();var B=t.font,H=I.append("text").classed("annotation-text",!0).text(t.text);_.annotationText?H.call(u.makeEditable,{delegate:I,gd:e}).call(V).on("edit",function(r){t.text=r,this.call(V),T("text",r),l&&l.autorange&&k(l._name+".autorange",!0),v&&v.autorange&&k(v._name+".autorange",!0),n.call("relayout",e,A())}):H.call(V)}else a.selectAll("#"+M).remove();function V(r){return r.call(c.font,B).attr({"text-anchor":{left:"start",right:"end"}[t.align]||"middle"}),u.convertToTspans(r,e,q),r}function q(){var r=H.selectAll("a");1===r.size()&&r.text()===H.text()&&I.insert("a",":first-child").attr({"xlink:xlink:href":r.attr("xlink:href"),"xlink:xlink:show":r.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(j.node());var a=I.select(".annotation-text-math-group"),d=!a.empty(),p=c.bBox((d?a:H).node()),m=p.width,y=p.height,w=t.width||m,O=t.height||y,R=Math.round(w+2*E),B=Math.round(O+2*E);function V(e,t){return"auto"===t&&(t=e<1/3?"left":e>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}for(var q=!1,G=["x","y"],X=0;X<G.length;X++){var W,Z,Y,U,Q,J=G[X],K=t[J+"ref"]||J,$=t["a"+J+"ref"],ee={x:l,y:v}[J],te=(L+("x"===J?0:-90))*Math.PI/180,re=R*Math.cos(te),ae=B*Math.sin(te),ne=Math.abs(re)+Math.abs(ae),oe=t[J+"anchor"],ie=t[J+"shift"]*("x"===J?1:-1),le=S[J];if(ee){var se=ee.r2fraction(t[J]);(se<0||se>1)&&($===K?((se=ee.r2fraction(t["a"+J]))<0||se>1)&&(q=!0):q=!0),W=ee._offset+ee.r2p(t[J]),U=.5}else"x"===J?(Y=t[J],W=b.l+b.w*Y):(Y=1-t[J],W=b.t+b.h*Y),U=t.showarrow?.5:Y;if(t.showarrow){le.head=W;var ce=t["a"+J];Q=re*V(.5,t.xanchor)-ae*V(.5,t.yanchor),$===K?(le.tail=ee._offset+ee.r2p(ce),Z=Q):(le.tail=W+ce,Z=Q+ce),le.text=le.tail+Q;var de=x["x"===J?"width":"height"];if("paper"===K&&(le.head=i.constrain(le.head,1,de-1)),"pixel"===$){var ue=-Math.max(le.tail-3,le.text),he=Math.min(le.tail+3,le.text)-de;ue>0?(le.tail+=ue,le.text+=ue):he>0&&(le.tail-=he,le.text-=he)}le.tail+=ie,le.head+=ie}else Z=Q=ne*V(U,oe),le.text=W+Q;le.text+=ie,Q+=ie,Z+=ie,t["_"+J+"padplus"]=ne/2+Z,t["_"+J+"padminus"]=ne/2-Z,t["_"+J+"size"]=ne,t["_"+J+"shift"]=Q}if(e._dragging||!q){var fe=0,pe=0;if("left"!==t.align&&(fe=(w-m)*("center"===t.align?.5:1)),"top"!==t.valign&&(pe=(O-y)*("middle"===t.valign?.5:1)),d)a.select("svg").attr({x:E+fe-1,y:E+pe}).call(c.setClipUrl,F?M:null);else{var ge=E+pe-p.top,ve=E+fe-p.left;H.call(u.positionText,ve,ge).call(c.setClipUrl,F?M:null)}N.select("rect").call(c.setRect,E,E,w,O),j.call(c.setRect,D/2,D/2,R-D,B-D),I.call(c.setTranslate,Math.round(S.x.text-R/2),Math.round(S.y.text-B/2)),z.attr({transform:"rotate("+L+","+S.x.text+","+S.y.text+")"});var me,ye=function(r,a){C.selectAll(".annotation-arrow-g").remove();var d=S.x.head,u=S.y.head,h=S.x.tail+r,p=S.y.tail+a,m=S.x.text+r,y=S.y.text+a,x=i.rotationXYMatrix(L,m,y),w=i.apply2DTransform(x),M=i.apply2DTransform2(x),P=+j.attr("width"),O=+j.attr("height"),D=m-.5*P,R=D+P,E=y-.5*O,F=E+O,N=[[D,E,D,F],[D,F,R,F],[R,F,R,E],[R,E,D,E]].map(M);if(!N.reduce(function(e,t){return e^!!i.segmentsIntersect(d,u,d+1e6,u+1e6,t[0],t[1],t[2],t[3])},!1)){N.forEach(function(e){var t=i.segmentsIntersect(h,p,d,u,e[0],e[1],e[2],e[3]);t&&(h=t.x,p=t.y)});var B=t.arrowwidth,H=t.arrowcolor,V=t.arrowside,q=C.append("g").style({opacity:s.opacity(H)}).classed("annotation-arrow-g",!0),G=q.append("path").attr("d","M"+h+","+p+"L"+d+","+u).style("stroke-width",B+"px").call(s.stroke,s.rgb(H));if(g(G,V,t),_.annotationPosition&&G.node().parentNode&&!o){var X=d,W=u;if(t.standoff){var Z=Math.sqrt(Math.pow(d-h,2)+Math.pow(u-p,2));X+=t.standoff*(h-d)/Z,W+=t.standoff*(p-u)/Z}var Y,U,Q=q.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(h-X)+","+(p-W),transform:"translate("+X+","+W+")"}).style("stroke-width",B+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)");f.init({element:Q.node(),gd:e,prepFn:function(){var e=c.getTranslate(I);Y=e.x,U=e.y,l&&l.autorange&&k(l._name+".autorange",!0),v&&v.autorange&&k(v._name+".autorange",!0)},moveFn:function(e,r){var a=w(Y,U),n=a[0]+e,o=a[1]+r;I.call(c.setTranslate,n,o),T("x",l?l.p2r(l.r2p(t.x)+e):t.x+e/b.w),T("y",v?v.p2r(v.r2p(t.y)+r):t.y-r/b.h),t.axref===t.xref&&T("ax",l.p2r(l.r2p(t.ax)+e)),t.ayref===t.yref&&T("ay",v.p2r(v.r2p(t.ay)+r)),q.attr("transform","translate("+e+","+r+")"),z.attr({transform:"rotate("+L+","+n+","+o+")"})},doneFn:function(){n.call("relayout",e,A());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}};if(t.showarrow&&ye(0,0),P)f.init({element:I.node(),gd:e,prepFn:function(){me=z.attr("transform")},moveFn:function(e,r){var a="pointer";if(t.showarrow)t.axref===t.xref?T("ax",l.p2r(l.r2p(t.ax)+e)):T("ax",t.ax+e),t.ayref===t.yref?T("ay",v.p2r(v.r2p(t.ay)+r)):T("ay",t.ay+r),ye(e,r);else{if(o)return;var n,i;if(l)n=l.p2r(l.r2p(t.x)+e);else{var s=t._xsize/b.w,c=t.x+(t._xshift-t.xshift)/b.w-s/2;n=f.align(c+e/b.w,s,0,1,t.xanchor)}if(v)i=v.p2r(v.r2p(t.y)+r);else{var d=t._ysize/b.h,u=t.y-(t._yshift+t.yshift)/b.h-d/2;i=f.align(u-r/b.h,d,0,1,t.yanchor)}T("x",n),T("y",i),l&&v||(a=f.getCursor(l?.5:n,v?.5:i,t.xanchor,t.yanchor))}z.attr({transform:"translate("+e+","+r+")"+me}),h(I,a)},doneFn:function(){h(I),n.call("relayout",e,A());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}else I.remove()}}e.exports={draw:function(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var r=0;r<t.annotations.length;r++)t.annotations[r].visible&&v(e,r);return o.previousPromises(e)},drawOne:v,drawRaw:m}},function(e,t,r){"use strict";var a=r(5),n=r(0);e.exports=function(e){return function(t,r){var o=t[e];if(Array.isArray(o))for(var i=a.subplotsRegistry.cartesian,l=i.idRegex,s=r._subplots,c=s.xaxis,d=s.yaxis,u=s.cartesian,h=r._has("cartesian")||r._has("gl2d"),f=0;f<o.length;f++){var p=o[f];if(n.isPlainObject(p)){var g=p.xref,v=p.yref,m=l.x.test(g),y=l.y.test(v);if(m||y){h||n.pushUnique(r._basePlotModules,i);var x=!1;m&&-1===c.indexOf(g)&&(c.push(g),x=!0),y&&-1===d.indexOf(v)&&(d.push(v),x=!0),x&&m&&y&&u.push(g+v)}}}}}},function(e,t,r){"use strict";var a=r(277),n=r(34).overrideAll,o=r(19).templatedArray;e.exports=n(o("annotation",{visible:a.visible,x:{valType:"any",role:"info",description:["Sets the annotation's x position."].join(" ")},y:{valType:"any",role:"info",description:["Sets the annotation's y position."].join(" ")},z:{valType:"any",role:"info",description:["Sets the annotation's z position."].join(" ")},ax:{valType:"number",role:"info",description:["Sets the x component of the arrow tail about the arrow head (in pixels)."].join(" ")},ay:{valType:"number",role:"info",description:["Sets the y component of the arrow tail about the arrow head (in pixels)."].join(" ")},xanchor:a.xanchor,xshift:a.xshift,yanchor:a.yanchor,yshift:a.yshift,text:a.text,textangle:a.textangle,font:a.font,width:a.width,height:a.height,opacity:a.opacity,align:a.align,valign:a.valign,bgcolor:a.bgcolor,bordercolor:a.bordercolor,borderpad:a.borderpad,borderwidth:a.borderwidth,showarrow:a.showarrow,arrowcolor:a.arrowcolor,arrowhead:a.arrowhead,startarrowhead:a.startarrowhead,arrowside:a.arrowside,arrowsize:a.arrowsize,startarrowsize:a.startarrowsize,arrowwidth:a.arrowwidth,standoff:a.standoff,startstandoff:a.startstandoff,hovertext:a.hovertext,hoverlabel:a.hoverlabel,captureevents:a.captureevents}),"calc","from-root")},function(e,t,r){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},function(e,t,r){"use strict";var a=r(321),n=r(0);t.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},t.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},t.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},t.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},t.extractPathCoords=function(e,t){var r=[];return e.match(a.segmentRE).forEach(function(e){var o=t[e.charAt(0)].drawn;if(void 0!==o){var i=e.substr(1).match(a.paramRE);!i||i.length<o||r.push(n.cleanNumber(i[o]))}}),r},t.getDataToPixel=function(e,r,a){var n,o=e._fullLayout._size;if(r){var i=t.shapePositionToRange(r);n=function(e){return r._offset+r.r2p(i(e,!0))},"date"===r.type&&(n=t.decodeDate(n))}else n=a?function(e){return o.t+o.h*(1-e)}:function(e){return o.l+o.w*e};return n},t.getPixelToData=function(e,r,a){var n,o=e._fullLayout._size;if(r){var i=t.rangeToShapePosition(r);n=function(e){return i(r.p2r(e-r._offset))}}else n=a?function(e){return 1-(e-o.t)/o.h}:function(e){return(e-o.l)/o.w};return n},t.roundPositionForSharpStrokeRendering=function(e,t){var r=1===Math.round(t%2),a=Math.round(e);return r?a+.5:a}},function(e,t,r){"use strict";e.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},function(e,t,r){"use strict";var a=r(30);e.exports={bgcolor:{valType:"color",dflt:a.background,role:"style",editType:"plot",description:"Sets the background color of the range slider."},bordercolor:{valType:"color",dflt:a.defaultLine,role:"style",editType:"plot",description:"Sets the border color of the range slider."},borderwidth:{valType:"integer",dflt:0,min:0,role:"style",editType:"plot",description:"Sets the border color of the range slider."},autorange:{valType:"boolean",dflt:!0,role:"style",editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range slider range is","computed in relation to the input data.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1},description:["Sets the range of the range slider.","If not set, defaults to the full xaxis range.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},thickness:{valType:"number",dflt:.15,min:0,max:1,role:"style",editType:"plot",description:["The height of the range slider as a fraction of the","total plot area height."].join(" ")},visible:{valType:"boolean",dflt:!0,role:"info",editType:"calc",description:["Determines whether or not the range slider will be visible.","If visible, perpendicular axes will be set to `fixedrange`"].join(" ")},editType:"calc"}},function(e,t,r){"use strict";var a=r(9),n=r(30),o=(0,r(19).templatedArray)("button",{visible:{valType:"boolean",role:"info",dflt:!0,editType:"plot",description:"Determines whether or not this button is visible."},step:{valType:"enumerated",role:"info",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot",description:["The unit of measurement that the `count` value will set the range by."].join(" ")},stepmode:{valType:"enumerated",role:"info",values:["backward","todate"],dflt:"backward",editType:"plot",description:["Sets the range update mode.","If *backward*, the range update shifts the start of range","back *count* times *step* milliseconds.","If *todate*, the range update shifts the start of range","back to the first timestamp from *count* times","*step* milliseconds back.","For example, with `step` set to *year* and `count` set to *1*","the range update shifts the start of the range back to","January 01 of the current year.","Month and year *todate* are currently available only","for the built-in (Gregorian) calendar."].join(" ")},count:{valType:"number",role:"info",min:0,dflt:1,editType:"plot",description:["Sets the number of steps to take to update the range.","Use with `step` to specify the update interval."].join(" ")},label:{valType:"string",role:"info",editType:"plot",description:"Sets the text label to appear on the button."},editType:"plot",description:["Sets the specifications for each buttons.","By default, a range selector comes with no buttons."].join(" ")});e.exports={visible:{valType:"boolean",role:"info",editType:"plot",description:["Determines whether or not this range selector is visible.","Note that range selectors are only available for x axes of","`type` set to or auto-typed to *date*."].join(" ")},buttons:o,x:{valType:"number",min:-2,max:3,role:"style",editType:"plot",description:"Sets the x position (in normalized coordinates) of the range selector."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",editType:"plot",description:["Sets the range selector's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,role:"style",editType:"plot",description:"Sets the y position (in normalized coordinates) of the range selector."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",role:"info",editType:"plot",description:["Sets the range selector's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},font:a({editType:"plot",description:"Sets the font of the range selector button text."}),bgcolor:{valType:"color",dflt:n.lightLine,role:"style",editType:"plot",description:"Sets the background color of the range selector buttons."},activecolor:{valType:"color",role:"style",editType:"plot",description:"Sets the background color of the active range selector button."},bordercolor:{valType:"color",dflt:n.defaultLine,role:"style",editType:"plot",description:"Sets the color of the border enclosing the range selector."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",editType:"plot",description:"Sets the width (in px) of the border enclosing the range selector."},editType:"plot"}},,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var a=r(3),n=r(1),o=r(216),i=r(0),l=r(205),s=r(343),c=r(5),d=r(46),u=r(43),h=r(376),f=r(65),p=r(26),g=r(11),v=r(379),m=r(231).initInteractions,y=r(45),x=r(29),b=r(78),_=r(382),w=r(384),k=r(212),T=r(34),A=r(28).AX_NAME_PATTERN,M=0;function S(e){var t=e._fullLayout;t._redrawFromAutoMarginCount?t._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function L(e,t){try{e._fullLayout._paper.style("background",t)}catch(e){i.error(e)}}function C(e,t){L(e,g.combine(t,"white"))}function z(e,t){e._context||(e._context=i.extendDeep({},b));var r,a,n,l=e._context;if(t){for(a=Object.keys(t),r=0;r<a.length;r++)"editable"!==(n=a[r])&&"edits"!==n&&n in l&&("setBackground"===n&&"opaque"===t[n]?l[n]=C:l[n]=t[n]);t.plot3dPixelRatio&&!l.plotGlPixelRatio&&(l.plotGlPixelRatio=l.plot3dPixelRatio);var s=t.editable;if(void 0!==s)for(l.editable=s,a=Object.keys(l.edits),r=0;r<a.length;r++)l.edits[a[r]]=s;if(t.edits)for(a=Object.keys(t.edits),r=0;r<a.length;r++)(n=a[r])in l.edits&&(l.edits[n]=t.edits[n])}l.staticPlot&&(l.editable=!1,l.edits={},l.autosizable=!1,l.scrollZoom=!1,l.doubleClick=!1,l.showTips=!1,l.showLink=!1,l.displayModeBar=!1),"hover"!==l.displayModeBar||o||(l.displayModeBar=!0),"transparent"!==l.setBackground&&"function"==typeof l.setBackground||(l.setBackground=L),l._hasZeroHeight=l._hasZeroHeight||0===e.clientHeight,l._hasZeroWidth=l._hasZeroWidth||0===e.clientWidth}function P(e,t){var r,a,n=t+1,o=[];for(r=0;r<e.length;r++)(a=e[r])<0?o.push(n+a):o.push(a);return o}function O(e,t,r){var a,n;for(a=0;a<t.length;a++){if((n=t[a])!==parseInt(n,10))throw new Error("all values in "+r+" must be integers");if(n>=e.data.length||n<-e.data.length)throw new Error(r+" must be valid indices for gd.data.");if(t.indexOf(n,a+1)>-1||n>=0&&t.indexOf(-e.data.length+n)>-1||n<0&&t.indexOf(e.data.length+n)>-1)throw new Error("each index in "+r+" must be unique.")}}function I(e,t,r){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),O(e,t,"currentIndices"),void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&O(e,r,"newIndices"),void 0!==r&&t.length!==r.length)throw new Error("current and new indices must be of equal length.")}function D(e,t,r,a,o){!function(e,t,r,a){var n=i.isPlainObject(a);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!i.isPlainObject(t))throw new Error("update must be a key:value object");if(void 0===r)throw new Error("indices must be an integer or array of integers");for(var o in O(e,r,"indices"),t){if(!Array.isArray(t[o])||t[o].length!==r.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(n&&(!(o in a)||!Array.isArray(a[o])||a[o].length!==t[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(e,t,r,a);for(var l=function(e,t,r,a){var o,l,s,c,d,u=i.isPlainObject(a),h=[];for(var f in Array.isArray(r)||(r=[r]),r=P(r,e.data.length-1),t)for(var p=0;p<r.length;p++){if(o=e.data[r[p]],l=(s=i.nestedProperty(o,f)).get(),c=t[f][p],!i.isArrayOrTypedArray(c))throw new Error("attribute: "+f+" index: "+p+" must be an array");if(!i.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+f);if(l.constructor!==c.constructor)throw new Error("cannot extend array with an array of a different type: "+f);d=u?a[f][p]:a,n(d)||(d=-1),h.push({prop:s,target:l,insert:c,maxp:Math.floor(d)})}return h}(e,t,r,a),s={},c={},d=0;d<l.length;d++){var u=l[d].prop,h=l[d].maxp,f=o(l[d].target,l[d].insert,h);u.set(f[0]),Array.isArray(s[u.astr])||(s[u.astr]=[]),s[u.astr].push(f[1]),Array.isArray(c[u.astr])||(c[u.astr]=[]),c[u.astr].push(l[d].target.length)}return{update:s,maxPoints:c}}function R(e,t){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}function E(e){return void 0===e?null:e}function j(e,t,r){var a,n,o=e._fullLayout,l=e._fullData,s=e.data,h=T.traceFlags(),p={},g={};function v(){return r.map(function(){})}function m(e){var t=f.id2name(e);-1===n.indexOf(t)&&n.push(t)}function y(e){return"LAYOUT"+e+".autorange"}function x(e){return"LAYOUT"+e+".range"}function b(a,n,o){var l;Array.isArray(a)?a.forEach(function(e){b(e,n,o)}):a in t||w.hasParent(t,a)||(l="LAYOUT"===a.substr(0,6)?i.nestedProperty(e.layout,a.replace("LAYOUT","")):i.nestedProperty(s[r[o]],a),a in g||(g[a]=v()),void 0===g[a][o]&&(g[a][o]=E(l.get())),void 0!==n&&l.set(n))}function _(e){return function(t){return l[t][e]}}function k(e){return function(t,a){return!1===t?l[r[a]][e]:null}}for(var A in t){if(w.hasParent(t,A))throw new Error("cannot set "+A+"and a parent attribute simultaneously");var M,S,L,C,z,P,O=t[A];if("autobinx"!==A&&"autobiny"!==A||(A=A.charAt(A.length-1)+"bins",O=Array.isArray(O)?O.map(k(A)):!1===O?r.map(_(A)):null),p[A]=O,"LAYOUT"!==A.substr(0,6)){for(g[A]=v(),a=0;a<r.length;a++)if(M=s[r[a]],S=l[r[a]],C=(L=i.nestedProperty(M,A)).get(),void 0!==(z=Array.isArray(O)?O[a%O.length]:O)){var I=L.parts[L.parts.length-1],D=A.substr(0,A.length-I.length-1),R=D?D+".":"",j=D?i.nestedProperty(S,D).get():S;if((P=d.getTraceValObject(S,L.parts))&&P.impliedEdits&&null!==z)for(var F in P.impliedEdits)b(i.relativeAttr(A,F),P.impliedEdits[F],a);else if("thicknessmode"!==I&&"lenmode"!==I||C===z||"fraction"!==z&&"pixels"!==z||!j){if("type"===A&&"pie"===z!=("pie"===C)){var N="x",B="y";"bar"!==z&&"bar"!==C||"h"!==M.orientation||(N="y",B="x"),i.swapAttrs(M,["?","?src"],"labels",N),i.swapAttrs(M,["d?","?0"],"label",N),i.swapAttrs(M,["?","?src"],"values",B),"pie"===C?(i.nestedProperty(M,"marker.color").set(i.nestedProperty(M,"marker.colors").get()),o._pielayer.selectAll("g.trace").remove()):c.traceIs(M,"cartesian")&&i.nestedProperty(M,"marker.colors").set(i.nestedProperty(M,"marker.color").get())}}else{var H=o._size,V=j.orient,q="top"===V||"bottom"===V;if("thicknessmode"===I){var G=q?H.h:H.w;b(R+"thickness",j.thickness*("fraction"===z?1/G:G),a)}else{var X=q?H.w:H.h;b(R+"len",j.len*("fraction"===z?1/X:X),a)}}g[A][a]=E(C);if(-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(A)){if("orientation"===A){L.set(z);var W=M.x&&!M.y?"h":"v";if((L.get()||W)===S.orientation)continue}else"orientationaxes"===A&&(M.orientation={v:"h",h:"v"}[S.orientation]);w.swapXYData(M),h.calc=h.clearAxisTypes=!0}else-1!==u.dataArrayContainers.indexOf(L.parts[0])?(w.manageArrayContainers(L,z,g),h.calc=!0):(P?P.arrayOk&&!c.traceIs(S,"regl")&&(i.isArrayOrTypedArray(z)||i.isArrayOrTypedArray(C))?h.calc=!0:T.update(h,P):h.calc=!0,L.set(z))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(A)&&f.swap(e,r),"orientationaxes"===A){var Z=i.nestedProperty(e.layout,"hovermode");"x"===Z.get()?Z.set("y"):"y"===Z.get()&&Z.set("x")}if(-1!==["orientation","type"].indexOf(A)){for(n=[],a=0;a<r.length;a++){var Y=s[r[a]];c.traceIs(Y,"cartesian")&&(m(Y.xaxis||"x"),m(Y.yaxis||"y"))}b(n.map(y),!0,0),b(n.map(x),[0,1],0)}}else L=i.nestedProperty(e.layout,A.replace("LAYOUT","")),g[A]=[E(L.get())],L.set(Array.isArray(O)?O[0]:O),h.calc=!0}return(h.calc||h.plot)&&(h.fullReplot=!0),{flags:h,undoit:g,redoit:p,traces:r,eventData:i.extendDeepNoArrays([],[p,r])}}function F(e,t,r){var a;if(!t.axrange)return!1;for(a in t)if("axrange"!==a&&t[a])return!1;for(a in r.rangesAltered){var n=f.id2name(a),o=e.layout[n],i=e._fullLayout[n];i.autorange=o.autorange,i.range=o.range.slice(),i.cleanRange()}return!0}function N(e,t){var r=t?function(e){return f.doTicks(e,Object.keys(t),!0)}:function(e){return f.doTicks(e,"redraw")};e.push(k.doAutoRangeAndConstraints,r,k.drawData,k.finalDraw)}t.plot=function(e,r,n,o){var s;if(e=i.getGraphDiv(e),l.init(e),i.isPlainObject(r)){var d=r;r=d.data,n=d.layout,o=d.config,s=d.frames}if(!1===l.triggerHandler(e,"plotly_beforeplot",[r,n,o]))return Promise.reject();r||n||i.isPlotDiv(e)||i.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",e),z(e,o),n||(n={}),a.select(e).classed("js-plotly-plot",!0),p.makeTester(),delete p.baseUrl,Array.isArray(e._promises)||(e._promises=[]);var g=0===(e.data||[]).length&&Array.isArray(r);if(Array.isArray(r)&&(w.cleanData(r),g?e.data=r:e.data.push.apply(e.data,r),e.empty=!1),e.layout&&!g||(e.layout=w.cleanLayout(n)),e._dragging&&!e._transitioning)return e._replotPending=!0,Promise.reject();e._replotPending=!1,u.supplyDefaults(e);var y=e._fullLayout,b=y._has("cartesian");if(!y._has("polar")&&r&&r[0]&&r[0].r)return i.log("Legacy polar charts are deprecated!"),function(e,t,r){var n=a.select(e).selectAll(".plot-container").data([0]);n.enter().insert("div",":first-child").classed("plot-container plotly",!0);var o=n.selectAll(".svg-container").data([0]);o.enter().append("div").classed("svg-container",!0).style("position","relative"),o.html(""),t&&(e.data=t);r&&(e.layout=r);h.manager.fillLayout(e),o.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=h.manager.framework(e),e.framework({data:e.data,layout:e.layout},o.node()),e.framework.setUndoPoint();var l=e.framework.svg(),s=1,c=e._fullLayout.title;""!==c&&c||(s=0);var d=function(){this.call(x.convertToTspans,e)},f=l.select(".title-group text").call(d);if(e._context.edits.titleText){var p=i._(e,"Click to enter Plot title");c&&c!==p||(s=.2,f.attr({"data-unformatted":p}).text(p).style({opacity:s}).on("mouseover.opacity",function(){a.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){a.select(this).transition().duration(1e3).style("opacity",0)}));var g=function(){this.call(x.makeEditable,{gd:e}).on("edit",function(t){e.framework({layout:{title:t}}),this.text(t).call(d),this.call(g)}).on("cancel",function(){var e=this.attr("data-unformatted");this.text(e).call(d)})};f.call(g)}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),u.addLinks(e),Promise.resolve()}(e,r,n);y._replotting=!0,g&&W(e),e.framework!==W&&(e.framework=W,W(e)),p.initGradients(e),g&&f.saveShowSpikeInitial(e);var _=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;_&&u.doCalcdata(e);for(var T=0;T<e.calcdata.length;T++)e.calcdata[T][0].trace=e._fullData[T];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){u.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):i.clearResponsive(e);var A=JSON.stringify(y._size),M=0;function L(){var t,r,a,n=e.calcdata;for(u.clearAutoMarginIds(e),k.drawMarginPushers(e),f.allowAutoMargin(e),t=0;t<n.length;t++){var o=(a=(r=n[t])[0].trace)._module.colorbar;!0===a.visible&&o?v(e,r,o):u.autoMargin(e,"cb"+a.uid)}return u.doAutoMargin(e),u.previousPromises(e)}function C(){e._transitioning||(k.doAutoRangeAndConstraints(e),g&&f.saveRangeInitial(e))}var P=[u.previousPromises,function(){if(s)return t.addFrames(e,s)},function t(){for(var r=y._basePlotModules,a=0;a<r.length;a++)r[a].drawFramework&&r[a].drawFramework(e);if(!y._glcanvas&&y._has("gl")&&(y._glcanvas=y._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(e){return e.key}),y._glcanvas.enter().append("canvas").attr("class",function(e){return"gl-canvas gl-canvas-"+e.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"visible","pointer-events":"none"})),y._glcanvas){y._glcanvas.attr("width",y.width).attr("height",y.height);var n=y._glcanvas.data()[0].regl;if(n&&(Math.floor(y.width)!==n._gl.drawingBufferWidth||Math.floor(y.height)!==n._gl.drawingBufferHeight)){var o="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!M)return i.log(o+" Clearing graph and plotting again."),u.cleanPlot([],{},e._fullData,y),u.supplyDefaults(e),y=e._fullLayout,u.doCalcdata(e),M++,t();i.error(o)}}return u.previousPromises(e)},L,function(){if(JSON.stringify(y._size)!==A)return i.syncOrAsync([L,k.layoutStyles],e)}];b&&P.push(function(){if(_)return i.syncOrAsync([c.getComponentMethod("shapes","calcAutorange"),c.getComponentMethod("annotations","calcAutorange"),C,c.getComponentMethod("rangeslider","calcAutorange")],e);C()}),P.push(k.layoutStyles),b&&P.push(function(){return f.doTicks(e,g?"":"redraw")}),P.push(k.drawData,k.finalDraw,m,u.addLinks,u.rehover,u.doAutoMargin,u.previousPromises);var O=i.syncOrAsync(P,e);return O&&O.then||(O=Promise.resolve()),O.then(function(){return S(e),e})},t.setPlotConfig=function(e){return i.extendFlat(b,e)},t.redraw=function(e){if(e=i.getGraphDiv(e),!i.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return w.cleanData(e.data),w.cleanLayout(e.layout),e.calcdata=void 0,t.plot(e).then(function(){return e.emit("plotly_redraw"),e})},t.newPlot=function(e,r,a,n){return e=i.getGraphDiv(e),u.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),u.purge(e),t.plot(e,r,a,n)},t.extendTraces=function e(r,a,n,o){var l=D(r=i.getGraphDiv(r),a,n,o,function(e,t,r){var a,n;if(i.isTypedArray(e))if(r<0){var o=new e.constructor(0),l=R(e,t);r<0?(a=l,n=o):(a=o,n=l)}else if(a=new e.constructor(r),n=new e.constructor(e.length+t.length-r),r===t.length)a.set(t),n.set(e);else if(r<t.length){var s=t.length-r;a.set(t.subarray(s)),n.set(e),n.set(t.subarray(0,s),e.length)}else{var c=r-t.length,d=e.length-c;a.set(e.subarray(d)),a.set(t,c),n.set(e.subarray(0,d))}else a=e.concat(t),n=r>=0&&r<a.length?a.splice(0,a.length-r):[];return[a,n]}),c=t.redraw(r),d=[r,l.update,n,l.maxPoints];return s.add(r,t.prependTraces,d,e,arguments),c},t.prependTraces=function e(r,a,n,o){var l=D(r=i.getGraphDiv(r),a,n,o,function(e,t,r){var a,n;if(i.isTypedArray(e))if(r<=0){var o=new e.constructor(0),l=R(t,e);r<0?(a=l,n=o):(a=o,n=l)}else if(a=new e.constructor(r),n=new e.constructor(e.length+t.length-r),r===t.length)a.set(t),n.set(e);else if(r<t.length){var s=t.length-r;a.set(t.subarray(0,s)),n.set(t.subarray(s)),n.set(e,s)}else{var c=r-t.length;a.set(t),a.set(e.subarray(0,c),t.length),n.set(e.subarray(c))}else a=t.concat(e),n=r>=0&&r<a.length?a.splice(r,a.length):[];return[a,n]}),c=t.redraw(r),d=[r,l.update,n,l.maxPoints];return s.add(r,t.extendTraces,d,e,arguments),c},t.addTraces=function e(r,a,n){r=i.getGraphDiv(r);var o,l,c=[],d=t.deleteTraces,u=e,h=[r,c],f=[r,a];for(function(e,t,r){var a,n;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),a=0;a<t.length;a++)if("object"!=typeof(n=t[a])||Array.isArray(n)||null===n)throw new Error("all values in traces array must be non-array objects");if(void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&r.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(r,a,n),Array.isArray(a)||(a=[a]),a=a.map(function(e){return i.extendFlat({},e)}),w.cleanData(a),o=0;o<a.length;o++)r.data.push(a[o]);for(o=0;o<a.length;o++)c.push(-a.length+o);if(void 0===n)return l=t.redraw(r),s.add(r,d,h,u,f),l;Array.isArray(n)||(n=[n]);try{I(r,c,n)}catch(e){throw r.data.splice(r.data.length-a.length,a.length),e}return s.startSequence(r),s.add(r,d,h,u,f),l=t.moveTraces(r,c,n),s.stopSequence(r),l},t.deleteTraces=function e(r,a){r=i.getGraphDiv(r);var n,o,l=[],c=t.addTraces,d=e,u=[r,l,a],h=[r,a];if(void 0===a)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(a)||(a=[a]),O(r,a,"indices"),(a=P(a,r.data.length-1)).sort(i.sorterDes),n=0;n<a.length;n+=1)o=r.data.splice(a[n],1)[0],l.push(o);var f=t.redraw(r);return s.add(r,c,u,d,h),f},t.moveTraces=function e(r,a,n){var o,l=[],c=[],d=e,u=e,h=[r=i.getGraphDiv(r),n,a],f=[r,a,n];if(I(r,a,n),a=Array.isArray(a)?a:[a],void 0===n)for(n=[],o=0;o<a.length;o++)n.push(-a.length+o);for(n=Array.isArray(n)?n:[n],a=P(a,r.data.length-1),n=P(n,r.data.length-1),o=0;o<r.data.length;o++)-1===a.indexOf(o)&&l.push(r.data[o]);for(o=0;o<a.length;o++)c.push({newIndex:n[o],trace:r.data[a[o]]});for(c.sort(function(e,t){return e.newIndex-t.newIndex}),o=0;o<c.length;o+=1)l.splice(c[o].newIndex,0,c[o].trace);r.data=l;var p=t.redraw(r);return s.add(r,d,h,u,f),p},t.restyle=function e(r,a,n,o){r=i.getGraphDiv(r),w.clearPromiseQueue(r);var l={};if("string"==typeof a)l[a]=n;else{if(!i.isPlainObject(a))return i.warn("Restyle fail.",a,n,o),Promise.reject();l=i.extendFlat({},a),void 0===o&&(o=n)}Object.keys(l).length&&(r.changed=!0);var c=w.coerceTraceIndices(r,o),d=j(r,l,c),h=d.flags;h.calc&&(r.calcdata=void 0),h.clearAxisTypes&&w.clearAxisTypes(r,c,{});var f=[];h.fullReplot?f.push(t.plot):(f.push(u.previousPromises),u.supplyDefaults(r),h.markerSize&&(u.doCalcdata(r),N(f)),h.style&&f.push(k.doTraceStyle),h.colorbars&&f.push(k.doColorBars),f.push(S)),f.push(u.rehover),s.add(r,e,[r,d.undoit,d.traces],e,[r,d.redoit,d.traces]);var p=i.syncOrAsync(f,r);return p&&p.then||(p=Promise.resolve()),p.then(function(){return r.emit("plotly_restyle",d.eventData),r})},t.relayout=function e(t,r,a){if(t=i.getGraphDiv(t),w.clearPromiseQueue(t),t.framework&&t.framework.isPolar)return Promise.resolve(t);var n={};if("string"==typeof r)n[r]=a;else{if(!i.isPlainObject(r))return i.warn("Relayout fail.",r,a),Promise.reject();n=i.extendFlat({},r)}Object.keys(n).length&&(t.changed=!0);var o=q(t,n),l=o.flags;l.calc&&(t.calcdata=void 0);var c=[u.previousPromises];l.layoutReplot?c.push(k.layoutReplot):Object.keys(n).length&&(F(t,l,o)||u.supplyDefaults(t),l.legend&&c.push(k.doLegend),l.layoutstyle&&c.push(k.layoutStyles),l.axrange&&N(c,o.rangesAltered),l.ticks&&c.push(k.doTicksRelayout),l.modebar&&c.push(k.doModeBar),l.camera&&c.push(k.doCamera),c.push(S)),c.push(u.rehover),s.add(t,e,[t,o.undoit],e,[t,o.redoit]);var d=i.syncOrAsync(c,t);return d&&d.then||(d=Promise.resolve(t)),d.then(function(){return t.emit("plotly_relayout",o.eventData),t})};var B=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,H=/^[xyz]axis[0-9]*\.autorange$/,V=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function q(e,t){var r,a,n,o=e.layout,l=e._fullLayout,s=Object.keys(t),u=f.list(e),h={};for(a=0;a<s.length;a++)if(0===s[a].indexOf("allaxes")){for(n=0;n<u.length;n++){var p=u[n]._id.substr(1),g=-1!==p.indexOf("scene")?p+".":"",v=s[a].replace("allaxes",g+u[n]._name);t[v]||(t[v]=t[s[a]])}delete t[s[a]]}var m=T.layoutFlags(),y={},x={};function b(e,r){if(Array.isArray(e))e.forEach(function(e){b(e,r)});else if(!(e in t||w.hasParent(t,e))){var a=i.nestedProperty(o,e);e in x||(x[e]=E(a.get())),void 0!==r&&a.set(r)}}var k,M={};function S(e){var t=f.name2id(e.split(".")[0]);return M[t]=1,t}for(var L in t){if(w.hasParent(t,L))throw new Error("cannot set "+L+"and a parent attribute simultaneously");for(var C=i.nestedProperty(o,L),z=t[L],P=C.parts.length-1;P>0&&"string"!=typeof C.parts[P];)P--;var O=C.parts[P],I=C.parts[P-1]+"."+O,D=C.parts.slice(0,P).join("."),R=i.nestedProperty(e.layout,D).get(),j=i.nestedProperty(l,D).get(),F=C.get();if(void 0!==z){y[L]=z,x[L]="reverse"===O?z:E(F);var N=d.getLayoutValObject(l,C.parts);if(N&&N.impliedEdits&&null!==z)for(var q in N.impliedEdits)b(i.relativeAttr(L,q),N.impliedEdits[q]);if(-1!==["width","height"].indexOf(L))if(z){b("autosize",null);var X="height"===L?"width":"height";b(X,l[X])}else l[L]=e._initialAutoSize[L];else if("autosize"===L)b("width",z?null:l.width),b("height",z?null:l.height);else if(I.match(B))S(I),i.nestedProperty(l,D+"._inputRange").set(null);else if(I.match(H)){S(I),i.nestedProperty(l,D+"._inputRange").set(null);var W=i.nestedProperty(l,D).get();W._inputDomain&&(W._input.domain=W._inputDomain.slice())}else I.match(V)&&i.nestedProperty(l,D+"._inputDomain").set(null);if("type"===O){var Z=R,Y="linear"===j.type&&"log"===z,U="log"===j.type&&"linear"===z;if(Y||U){if(Z&&Z.range)if(j.autorange)Y&&(Z.range=Z.range[1]>Z.range[0]?[1,2]:[2,1]);else{var Q=Z.range[0],J=Z.range[1];Y?(Q<=0&&J<=0&&b(D+".autorange",!0),Q<=0?Q=J/1e6:J<=0&&(J=Q/1e6),b(D+".range[0]",Math.log(Q)/Math.LN10),b(D+".range[1]",Math.log(J)/Math.LN10)):(b(D+".range[0]",Math.pow(10,Q)),b(D+".range[1]",Math.pow(10,J)))}else b(D+".autorange",!0);Array.isArray(l._subplots.polar)&&l._subplots.polar.length&&l[C.parts[0]]&&"radialaxis"===C.parts[1]&&delete l[C.parts[0]]._subplot.viewInitial["radialaxis.range"],c.getComponentMethod("annotations","convertCoords")(e,j,z,b),c.getComponentMethod("images","convertCoords")(e,j,z,b)}else b(D+".autorange",!0),b(D+".range",null);i.nestedProperty(l,D+"._inputRange").set(null)}else if(O.match(A)){var K=i.nestedProperty(l,L).get(),$=(z||{}).type;$&&"-"!==$||($="linear"),c.getComponentMethod("annotations","convertCoords")(e,K,$,b),c.getComponentMethod("images","convertCoords")(e,K,$,b)}var ee=_.containerArrayMatch(L);if(ee){r=ee.array,a=ee.index;var te=ee.property,re=(i.nestedProperty(o,r)||[])[a]||{},ae=N||{editType:"calc"};""!==a&&""===te&&(_.isAddVal(z)?x[L]=null:_.isRemoveVal(z)?x[L]=re:i.warn("unrecognized full object value",t)),T.update(m,ae),h[r]||(h[r]={});var ne=h[r][a];ne||(ne=h[r][a]={}),ne[te]=z,delete t[L]}else"reverse"===O?(R.range?R.range.reverse():(b(D+".autorange",!0),R.range=[1,0]),j.autorange?m.calc=!0:m.plot=!0):(l._has("scatter-like")&&l._has("regl")&&"dragmode"===L&&("lasso"===z||"select"===z)&&"lasso"!==F&&"select"!==F?m.plot=!0:N?T.update(m,N):m.calc=!0,C.set(z))}}for(r in h){_.applyContainerArrayChanges(e,i.nestedProperty(o,r),h[r],m)||(m.plot=!0)}var oe=l._axisConstraintGroups||[];for(k in M)for(a=0;a<oe.length;a++){var ie=oe[a];if(ie[k])for(var le in m.calc=!0,ie)M[le]||(f.getFromId(e,le)._constraintShrinkable=!0)}return(G(e)||t.height||t.width)&&(m.plot=!0),(m.plot||m.calc)&&(m.layoutReplot=!0),{flags:m,rangesAltered:M,undoit:x,redoit:y,eventData:i.extendDeep({},y)}}function G(e){var t=e._fullLayout,r=t.width,a=t.height;return e.layout.autosize&&u.plotAutoSize(e,e.layout,t),t.width!==r||t.height!==a}function X(e,t,r,a){var n,o,l=a.getValObject,s=a.flags,c=a.immutable,d=a.inArray,u=a.arrayIndex;function h(){var e=n.editType;d&&-1!==e.indexOf("arraydraw")?i.pushUnique(s.arrays[d],u):T.update(s,n)}function f(e){return"data_array"===e.valType||e.arrayOk}for(o in e){if(s.calc)return;var p=e[o],g=t[o];if("_"!==o.charAt(0)&&"function"!=typeof p&&p!==g){if(("tick0"===o||"dtick"===o)&&"geo"!==r[0]){var v=t.tickmode;if("auto"===v||"array"===v||!v)continue}if(("range"!==o||!t.autorange)&&("zmin"!==o&&"zmax"!==o||"contourcarpet"!==t.type)){var m=r.concat(o);if((n=l(m))&&(!n._compareAsJSON||JSON.stringify(p)!==JSON.stringify(g))){var y,x=n.valType,b=f(n),_=Array.isArray(p),w=Array.isArray(g);if(_&&w){var k="_input_"+o,A=e[k],M=t[k];if(Array.isArray(A)&&A===M)continue}if(void 0===g)b&&_?s.calc=!0:h();else if(n._isLinkedToArray){var S=[],L=!1;d||(s.arrays[o]=S);var C=Math.min(p.length,g.length),z=Math.max(p.length,g.length);if(C!==z){if("arraydraw"!==n.editType){h();continue}L=!0}for(y=0;y<C;y++)X(p[y],g[y],m.concat(y),i.extendFlat({inArray:o,arrayIndex:y},a));if(L)for(y=C;y<z;y++)S.push(y)}else!x&&i.isPlainObject(p)?X(p,g,m,a):b?_&&w?c&&(s.calc=!0):_!==w?s.calc=!0:h():_&&w&&p.length===g.length&&String(p)===String(g)||h()}}}}for(o in t)if(!(o in e||"_"===o.charAt(0)||"function"==typeof t[o])){if(f(n=l(r.concat(o)))&&Array.isArray(t[o]))return void(s.calc=!0);h()}}function W(e){var t=a.select(e),r=e._fullLayout;if(r._container=t.selectAll(".plot-container").data([0]),r._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),r._paperdiv=r._container.selectAll(".svg-container").data([0]),r._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),r._glcontainer=r._paperdiv.selectAll(".gl-container").data([{}]),r._glcontainer.enter().append("div").classed("gl-container",!0),r._paperdiv.selectAll(".main-svg").remove(),r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",!0),r._toppaper=r._paperdiv.append("svg").classed("main-svg",!0),!r._uid){var n={};a.selectAll("defs").each(function(){this.id&&(n[this.id.split("-")[1]]=1)}),r._uid=i.randstr(n)}r._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),r._defs=r._paper.append("defs").attr("id","defs-"+r._uid),r._clips=r._defs.append("g").classed("clips",!0),r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid),r._topclips=r._topdefs.append("g").classed("clips",!0),r._bgLayer=r._paper.append("g").classed("bglayer",!0),r._draggers=r._paper.append("g").classed("draglayer",!0);var o=r._paper.append("g").classed("layer-below",!0);r._imageLowerLayer=o.append("g").classed("imagelayer",!0),r._shapeLowerLayer=o.append("g").classed("shapelayer",!0),r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",!0),r._polarlayer=r._paper.append("g").classed("polarlayer",!0),r._ternarylayer=r._paper.append("g").classed("ternarylayer",!0),r._geolayer=r._paper.append("g").classed("geolayer",!0),r._pielayer=r._paper.append("g").classed("pielayer",!0),r._glimages=r._paper.append("g").classed("glimages",!0);var l=r._toppaper.append("g").classed("layer-above",!0);r._imageUpperLayer=l.append("g").classed("imagelayer",!0),r._shapeUpperLayer=l.append("g").classed("shapelayer",!0),r._infolayer=r._toppaper.append("g").classed("infolayer",!0),r._menulayer=r._toppaper.append("g").classed("menulayer",!0),r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",!0),r._hoverlayer=r._toppaper.append("g").classed("hoverlayer",!0),e.emit("plotly_framework")}t.update=function e(r,a,n,o){if(r=i.getGraphDiv(r),w.clearPromiseQueue(r),r.framework&&r.framework.isPolar)return Promise.resolve(r);i.isPlainObject(a)||(a={}),i.isPlainObject(n)||(n={}),Object.keys(a).length&&(r.changed=!0),Object.keys(n).length&&(r.changed=!0);var l=w.coerceTraceIndices(r,o),c=j(r,i.extendFlat({},a),l),d=c.flags,h=q(r,i.extendFlat({},n)),f=h.flags;(d.calc||f.calc)&&(r.calcdata=void 0),d.clearAxisTypes&&w.clearAxisTypes(r,l,n);var p=[];if(d.fullReplot&&f.layoutReplot){var g=r.data,v=r.layout;r.data=void 0,r.layout=void 0,p.push(function(){return t.plot(r,g,v)})}else d.fullReplot?p.push(t.plot):f.layoutReplot?p.push(k.layoutReplot):(p.push(u.previousPromises),F(r,f,h)||u.supplyDefaults(r),d.style&&p.push(k.doTraceStyle),d.colorbars&&p.push(k.doColorBars),f.legend&&p.push(k.doLegend),f.layoutstyle&&p.push(k.layoutStyles),f.axrange&&N(p,h.rangesAltered),f.ticks&&p.push(k.doTicksRelayout),f.modebar&&p.push(k.doModeBar),f.camera&&p.push(k.doCamera),p.push(S));p.push(u.rehover),s.add(r,e,[r,c.undoit,h.undoit,c.traces],e,[r,c.redoit,h.redoit,c.traces]);var m=i.syncOrAsync(p,r);return m&&m.then||(m=Promise.resolve(r)),m.then(function(){return r.emit("plotly_update",{data:c.eventData,layout:h.eventData}),r})},t.react=function(e,r,a,n){var o,l;var s=(e=i.getGraphDiv(e))._fullData,h=e._fullLayout;if(i.isPlotDiv(e)&&s&&h){if(i.isPlainObject(r)){var f=r;r=f.data,a=f.layout,n=f.config,o=f.frames}var p=!1;if(n){var g=i.extendDeep({},e._context);e._context=void 0,z(e,n),p=function e(t,r){var a;for(a in t)if("_"!==a.charAt(0)){var n=t[a],o=r[a];if(n!==o)if(i.isPlainObject(n)&&i.isPlainObject(o)){if(e(n,o))return!0}else{if(!Array.isArray(n)||!Array.isArray(o))return!0;if(n.length!==o.length)return!0;for(var l=0;l<n.length;l++)if(n[l]!==o[l]){if(!i.isPlainObject(n[l])||!i.isPlainObject(o[l]))return!0;if(e(n[l],o[l]))return!0}}}}(g,e._context)}e.data=r||[],w.cleanData(e.data),e.layout=a||{},w.cleanLayout(e.layout),u.supplyDefaults(e,{skipUpdateCalc:!0});var v=e._fullData,m=e._fullLayout,y=void 0===m.datarevision,x=function(e,t,r,a){if(t.length!==r.length)return{fullReplot:!0,calc:!0};var n,o,i=T.traceFlags();i.arrays={};var l={getValObject:function(e){return d.getTraceValObject(o,e)},flags:i,immutable:a,gd:e},s={};for(n=0;n<t.length;n++)o=r[n]._fullInput,u.hasMakesDataTransform(o)&&(o=r[n]),s[o.uid]||(s[o.uid]=1,X(t[n]._fullInput,o,[],l));(i.calc||i.plot)&&(i.fullReplot=!0);return i}(e,s,v,y),b=function(e,t,r,a){var n=T.layoutFlags();n.arrays={},X(t,r,[],{getValObject:function(e){return d.getLayoutValObject(r,e)},flags:n,immutable:a,gd:e}),(n.plot||n.calc)&&(n.layoutReplot=!0);return n}(e,h,m,y);G(e)&&(b.layoutReplot=!0),x.calc||b.calc?e.calcdata=void 0:u.supplyDefaultsUpdateCalc(e.calcdata,v);var _=[];if(o&&(e._transitionData={},u.createTransitionData(e),_.push(function(){return t.addFrames(e,o)})),x.fullReplot||b.layoutReplot||p)e._fullLayout._skipDefaults=!0,_.push(t.plot);else{for(var A in b.arrays){var M=b.arrays[A];if(M.length){var L=c.getComponentMethod(A,"drawOne");if(L!==i.noop)for(var C=0;C<M.length;C++)L(e,M[C]);else{var P=c.getComponentMethod(A,"draw");if(P===i.noop)throw new Error("cannot draw components: "+A);P(e)}}}_.push(u.previousPromises),x.style&&_.push(k.doTraceStyle),x.colorbars&&_.push(k.doColorBars),b.legend&&_.push(k.doLegend),b.layoutstyle&&_.push(k.layoutStyles),b.axrange&&N(_),b.ticks&&_.push(k.doTicksRelayout),b.modebar&&_.push(k.doModeBar),b.camera&&_.push(k.doCamera),_.push(S)}_.push(u.rehover),(l=i.syncOrAsync(_,e))&&l.then||(l=Promise.resolve(e))}else l=t.newPlot(e,r,a,n);return l.then(function(){return e.emit("plotly_react",{data:r,layout:a}),e})},t.animate=function(e,t,r){if(e=i.getGraphDiv(e),!i.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plot.ly/javascript/animations/");var a=e._transitionData;a._frameQueue||(a._frameQueue=[]);var n=(r=u.supplyAnimationDefaults(r)).transition,o=r.frame;function l(e){return Array.isArray(n)?e>=n.length?n[0]:n[e]:n}function s(e){return Array.isArray(o)?e>=o.length?o[0]:o[e]:o}function c(e,t){var r=0;return function(){if(e&&++r===t)return e()}}return void 0===a._frameWaitingCnt&&(a._frameWaitingCnt=0),new Promise(function(o,d){function h(){a._currentFrame&&a._currentFrame.onComplete&&a._currentFrame.onComplete();var t=a._currentFrame=a._frameQueue.shift();if(t){var r=t.name?t.name.toString():null;e._fullLayout._currentFrame=r,a._lastFrameAt=Date.now(),a._timeToNext=t.frameOpts.duration,u.transition(e,t.frame.data,t.frame.layout,w.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then(function(){t.onComplete&&t.onComplete()}),e.emit("plotly_animatingframe",{name:r,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else e.emit("plotly_animated"),window.cancelAnimationFrame(a._animationRaf),a._animationRaf=null}function f(){e.emit("plotly_animating"),a._lastFrameAt=-1/0,a._timeToNext=0,a._runningTransitions=0,a._currentFrame=null;var t=function(){a._animationRaf=window.requestAnimationFrame(t),Date.now()-a._lastFrameAt>a._timeToNext&&h()};t()}var p,g,v=0;function m(e){return Array.isArray(n)?v>=n.length?e.transitionOpts=n[v]:e.transitionOpts=n[0]:e.transitionOpts=n,v++,e}var y=[],x=void 0===t||null===t,b=Array.isArray(t);if(!x&&!b&&i.isPlainObject(t))y.push({type:"object",data:m(i.extendFlat({},t))});else if(x||-1!==["string","number"].indexOf(typeof t))for(p=0;p<a._frames.length;p++)(g=a._frames[p])&&(x||String(g.group)===String(t))&&y.push({type:"byname",name:String(g.name),data:m({name:g.name})});else if(b)for(p=0;p<t.length;p++){var _=t[p];-1!==["number","string"].indexOf(typeof _)?(_=String(_),y.push({type:"byname",name:_,data:m({name:_})})):i.isPlainObject(_)&&y.push({type:"object",data:m(i.extendFlat({},_))})}for(p=0;p<y.length;p++)if("byname"===(g=y[p]).type&&!a._frameHash[g.data.name])return i.warn('animate failure: frame not found: "'+g.data.name+'"'),void d();-1!==["next","immediate"].indexOf(r.mode)&&function(){if(0!==a._frameQueue.length){for(;a._frameQueue.length;){var t=a._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}(),"reverse"===r.direction&&y.reverse();var k=e._fullLayout._currentFrame;if(k&&r.fromcurrent){var T=-1;for(p=0;p<y.length;p++)if("byname"===(g=y[p]).type&&g.name===k){T=p;break}if(T>0&&T<y.length-1){var A=[];for(p=0;p<y.length;p++)g=y[p],("byname"!==y[p].type||p>T)&&A.push(g);y=A}}y.length>0?function(t){if(0!==t.length){for(var n=0;n<t.length;n++){var i;i="byname"===t[n].type?u.computeFrame(e,t[n].name):t[n].data;var h=s(n),p=l(n);p.duration=Math.min(p.duration,h.duration);var g={frame:i,name:t[n].name,frameOpts:h,transitionOpts:p};n===t.length-1&&(g.onComplete=c(o,2),g.onInterrupt=d),a._frameQueue.push(g)}"immediate"===r.mode&&(a._lastFrameAt=-1/0),a._animationRaf||f()}}(y):(e.emit("plotly_animated"),o())})},t.addFrames=function(e,t,r){if(e=i.getGraphDiv(e),null===t||void 0===t)return Promise.resolve();if(!i.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plot.ly/javascript/animations/");var a,n,o,l,c=e._transitionData._frames,d=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var h=c.length+2*t.length,f=[],p={};for(a=t.length-1;a>=0;a--)if(i.isPlainObject(t[a])){var g=t[a].name,v=(d[g]||p[g]||{}).name,m=t[a].name,y=d[v]||p[v];v&&m&&"number"==typeof m&&y&&M<5&&(M++,i.warn('addFrames: overwriting frame "'+(d[v]||p[v]).name+'" with a frame whose name of type "number" also equates to "'+v+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===M&&i.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),p[g]={name:g},f.push({frame:u.supplyFrameDefaults(t[a]),index:r&&void 0!==r[a]&&null!==r[a]?r[a]:h+a})}f.sort(function(e,t){return e.index>t.index?-1:e.index<t.index?1:0});var x=[],b=[],_=c.length;for(a=f.length-1;a>=0;a--){if("number"==typeof(n=f[a].frame).name&&i.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!n.name)for(;d[n.name="frame "+e._transitionData._counter++];);if(d[n.name]){for(o=0;o<c.length&&(c[o]||{}).name!==n.name;o++);x.push({type:"replace",index:o,value:n}),b.unshift({type:"replace",index:o,value:c[o]})}else l=Math.max(0,Math.min(f[a].index,_)),x.push({type:"insert",index:l,value:n}),b.unshift({type:"delete",index:l}),_++}var w=u.modifyFrames,k=u.modifyFrames,T=[e,b],A=[e,x];return s&&s.add(e,w,T,k,A),u.modifyFrames(e,x)},t.deleteFrames=function(e,t){if(e=i.getGraphDiv(e),!i.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var r,a,n=e._transitionData._frames,o=[],l=[];if(!t)for(t=[],r=0;r<n.length;r++)t.push(r);for((t=t.slice(0)).sort(),r=t.length-1;r>=0;r--)a=t[r],o.push({type:"delete",index:a}),l.unshift({type:"insert",index:a,value:n[a]});var c=u.modifyFrames,d=u.modifyFrames,h=[e,l],f=[e,o];return s&&s.add(e,c,h,d,f),u.modifyFrames(e,o)},t.purge=function(e){var t=(e=i.getGraphDiv(e))._fullLayout||{},r=e._fullData||[];return u.cleanPlot([],{},r,t),u.purge(e),l.purge(e),t._container&&t._container.remove(),delete e._context,e}},function(e,t,r){"use strict";var a=r(0),n=r(78);var o={add:function(e,t,r,a,o){var i,l;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},l=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(l,e.undoQueue.queue.length-l,i),e.undoQueue.index+=1):i=e.undoQueue.queue[l-1],e.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(t),i.undo.args.unshift(r),i.redo.calls.push(a),i.redo.args.push(o)),e.undoQueue.queue.length>n.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function(e){var t,r;if(e.framework&&e.framework.isPolar)e.framework.undo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,r=0;r<t.undo.calls.length;r++)o.plotDo(e,t.undo.calls[r],t.undo.args[r]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function(e){var t,r;if(e.framework&&e.framework.isPolar)e.framework.redo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,r=0;r<t.redo.calls.length;r++)o.plotDo(e,t.redo.calls[r],t.redo.args[r]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}}};o.plotDo=function(e,t,r){e.autoplay=!0,r=function(e,t){for(var r,n=[],o=0;o<t.length;o++)r=t[o],n[o]=r===e?r:"object"==typeof r?Array.isArray(r)?a.extendDeep([],r):a.extendDeepAll({},r):r;return n}(e,r),t.apply(null,r)},e.exports=o},function(e,t,r){var a=r(3),n=r(0).extendDeepAll,o=r(20).MID_SHIFT,i=e.exports={version:"0.2.2"};i.Axis=function(){var e,t,r,l,s={data:[],layout:{}},c={},d={},u=a.dispatch("hover"),h={};return h.render=function(c){return function(c){t=c||t;var u=s.data,h=s.layout;("string"==typeof t||t.nodeName)&&(t=a.select(t)),t.datum(u).each(function(t,s){var c=t.slice();d={data:i.util.cloneJson(c),layout:i.util.cloneJson(h)};var u=0;c.forEach(function(e,t){e.color||(e.color=h.defaultColorRange[u],u=(u+1)%h.defaultColorRange.length),e.strokeColor||(e.strokeColor="LinePlot"===e.geometry?e.color:a.rgb(e.color).darker().toString()),d.data[t].color=e.color,d.data[t].strokeColor=e.strokeColor,d.data[t].strokeDash=e.strokeDash,d.data[t].strokeSize=e.strokeSize});var f=c.filter(function(e,t){var r=e.visible;return void 0===r||!0===r}),p=!1,g=f.map(function(e,t){return p=p||void 0!==e.groupId,e});if(p){var v=[],m=a.nest().key(function(e,t){return void 0!==e.groupId?e.groupId:"unstacked"}).entries(g).map(function(e,t){if("unstacked"===e.key)return e.values;var r=e.values[0].r.map(function(e,t){return 0});return e.values.forEach(function(e,t,a){e.yStack=[r],v.push(r),r=i.util.sumArrays(e.r,r)}),e.values});f=a.merge(m)}f.forEach(function(e,t){e.t=Array.isArray(e.t[0])?e.t:[e.t],e.r=Array.isArray(e.r[0])?e.r:[e.r]});var y=Math.min(h.width-h.margin.left-h.margin.right,h.height-h.margin.top-h.margin.bottom)/2;y=Math.max(10,y);var x,b=[h.margin.left+y,h.margin.top+y];x=p?[0,a.max(i.util.sumArrays(i.util.arrayLast(f).r[0],i.util.arrayLast(v)))]:a.extent(i.util.flattenArray(f.map(function(e,t){return e.r}))),h.radialAxis.domain!=i.DATAEXTENT&&(x[0]=0),r=a.scale.linear().domain(h.radialAxis.domain!=i.DATAEXTENT&&h.radialAxis.domain?h.radialAxis.domain:x).range([0,y]),d.layout.radialAxis.domain=r.domain();var _,w=i.util.flattenArray(f.map(function(e,t){return e.t})),k="string"==typeof w[0];k&&(w=i.util.deduplicate(w),_=w.slice(),w=a.range(w.length),f=f.map(function(e,t){var r=e;return e.t=[w],p&&(r.yStack=e.yStack),r}));var T=f.filter(function(e,t){return"LinePlot"===e.geometry||"DotPlot"===e.geometry}).length===f.length,A=null===h.needsEndSpacing?k||!T:h.needsEndSpacing,M=h.angularAxis.domain&&h.angularAxis.domain!=i.DATAEXTENT&&!k&&h.angularAxis.domain[0]>=0?h.angularAxis.domain:a.extent(w),S=Math.abs(w[1]-w[0]);T&&!k&&(S=0);var L=M.slice();A&&k&&(L[1]+=S);var C=h.angularAxis.ticksCount||4;C>8&&(C=C/(C/8)+C%8),h.angularAxis.ticksStep&&(C=(L[1]-L[0])/C);var z=h.angularAxis.ticksStep||(L[1]-L[0])/(C*(h.minorTicks+1));_&&(z=Math.max(Math.round(z),1)),L[2]||(L[2]=z);var P=a.range.apply(this,L);if(P=P.map(function(e,t){return parseFloat(e.toPrecision(12))}),l=a.scale.linear().domain(L.slice(0,2)).range("clockwise"===h.direction?[0,360]:[360,0]),d.layout.angularAxis.domain=l.domain(),d.layout.angularAxis.endPadding=A?S:0,void 0===(e=a.select(this).select("svg.chart-root"))||e.empty()){var O=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),I=this.appendChild(this.ownerDocument.importNode(O.documentElement,!0));e=a.select(I)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var D,R=e.select(".chart-group"),E={fill:"none",stroke:h.tickColor},j={"font-size":h.font.size,"font-family":h.font.family,fill:h.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(e,t){return" "+e+" 0 "+h.font.outlineColor}).join(",")};if(h.showLegend){D=e.select(".legend-group").attr({transform:"translate("+[y,h.margin.top]+")"}).style({display:"block"});var F=f.map(function(e,t){var r=i.util.cloneJson(e);return r.symbol="DotPlot"===e.geometry?e.dotType||"circle":"LinePlot"!=e.geometry?"square":"line",r.visibleInLegend=void 0===e.visibleInLegend||e.visibleInLegend,r.color="LinePlot"===e.geometry?e.strokeColor:e.color,r});i.Legend().config({data:f.map(function(e,t){return e.name||"Element"+t}),legendConfig:n({},i.Legend.defaultConfig().legendConfig,{container:D,elements:F,reverseOrder:h.legend.reverseOrder})})();var N=D.node().getBBox();y=Math.min(h.width-N.width-h.margin.left-h.margin.right,h.height-h.margin.top-h.margin.bottom)/2,y=Math.max(10,y),b=[h.margin.left+y,h.margin.top+y],r.range([0,y]),d.layout.radialAxis.domain=r.domain(),D.attr("transform","translate("+[b[0]+y,b[1]-y]+")")}else D=e.select(".legend-group").style({display:"none"});e.attr({width:h.width,height:h.height}).style({opacity:h.opacity}),R.attr("transform","translate("+b+")").style({cursor:"crosshair"});var B=[(h.width-(h.margin.left+h.margin.right+2*y+(N?N.width:0)))/2,(h.height-(h.margin.top+h.margin.bottom+2*y))/2];if(B[0]=Math.max(0,B[0]),B[1]=Math.max(0,B[1]),e.select(".outer-group").attr("transform","translate("+B+")"),h.title){var H=e.select("g.title-group text").style(j).text(h.title),V=H.node().getBBox();H.attr({x:b[0]-V.width/2,y:b[1]-y-20})}var q=e.select(".radial.axis-group");if(h.radialAxis.gridLinesVisible){var G=q.selectAll("circle.grid-circle").data(r.ticks(5));G.enter().append("circle").attr({class:"grid-circle"}).style(E),G.attr("r",r),G.exit().remove()}q.select("circle.outside-circle").attr({r:y}).style(E);var X=e.select("circle.background-circle").attr({r:y}).style({fill:h.backgroundColor,stroke:h.stroke});function W(e,t){return l(e)%360+h.orientation}if(h.radialAxis.visible){var Z=a.svg.axis().scale(r).ticks(5).tickSize(5);q.call(Z).attr({transform:"rotate("+h.radialAxis.orientation+")"}),q.selectAll(".domain").style(E),q.selectAll("g>text").text(function(e,t){return this.textContent+h.radialAxis.ticksSuffix}).style(j).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(e,t){return"horizontal"===h.radialAxis.tickOrientation?"rotate("+-h.radialAxis.orientation+") translate("+[0,j["font-size"]]+")":"translate("+[0,j["font-size"]]+")"}}),q.selectAll("g>line").style({stroke:"black"})}var Y=e.select(".angular.axis-group").selectAll("g.angular-tick").data(P),U=Y.enter().append("g").classed("angular-tick",!0);Y.attr({transform:function(e,t){return"rotate("+W(e)+")"}}).style({display:h.angularAxis.visible?"block":"none"}),Y.exit().remove(),U.append("line").classed("grid-line",!0).classed("major",function(e,t){return t%(h.minorTicks+1)==0}).classed("minor",function(e,t){return!(t%(h.minorTicks+1)==0)}).style(E),U.selectAll(".minor").style({stroke:h.minorTickColor}),Y.select("line.grid-line").attr({x1:h.tickLength?y-h.tickLength:0,x2:y}).style({display:h.angularAxis.gridLinesVisible?"block":"none"}),U.append("text").classed("axis-text",!0).style(j);var Q=Y.select("text.axis-text").attr({x:y+h.labelOffset,dy:o+"em",transform:function(e,t){var r=W(e),a=y+h.labelOffset,n=h.angularAxis.tickOrientation;return"horizontal"==n?"rotate("+-r+" "+a+" 0)":"radial"==n?r<270&&r>90?"rotate(180 "+a+" 0)":null:"rotate("+(r<=180&&r>0?-90:90)+" "+a+" 0)"}}).style({"text-anchor":"middle",display:h.angularAxis.labelsVisible?"block":"none"}).text(function(e,t){return t%(h.minorTicks+1)!=0?"":_?_[e]+h.angularAxis.ticksSuffix:e+h.angularAxis.ticksSuffix}).style(j);h.angularAxis.rewriteTicks&&Q.text(function(e,t){return t%(h.minorTicks+1)!=0?"":h.angularAxis.rewriteTicks(this.textContent,t)});var J=a.max(R.selectAll(".angular-tick text")[0].map(function(e,t){return e.getCTM().e+e.getBBox().width}));D.attr({transform:"translate("+[y+J,h.margin.top]+")"});var K=e.select("g.geometry-group").selectAll("g").size()>0,$=e.select("g.geometry-group").selectAll("g.geometry").data(f);if($.enter().append("g").attr({class:function(e,t){return"geometry geometry"+t}}),$.exit().remove(),f[0]||K){var ee=[];f.forEach(function(e,t){var a={};a.radialScale=r,a.angularScale=l,a.container=$.filter(function(e,r){return r==t}),a.geometry=e.geometry,a.orientation=h.orientation,a.direction=h.direction,a.index=t,ee.push({data:e,geometryConfig:a})});var te=[];a.nest().key(function(e,t){return void 0!==e.data.groupId||"unstacked"}).entries(ee).forEach(function(e,t){"unstacked"===e.key?te=te.concat(e.values.map(function(e,t){return[e]})):te.push(e.values)}),te.forEach(function(e,t){var r;r=Array.isArray(e)?e[0].geometryConfig.geometry:e.geometryConfig.geometry;var a=e.map(function(e,t){return n(i[r].defaultConfig(),e)});i[r]().config(a)()})}var re,ae,ne=e.select(".guides-group"),oe=e.select(".tooltips-group"),ie=i.tooltipPanel().config({container:oe,fontSize:8})(),le=i.tooltipPanel().config({container:oe,fontSize:8})(),se=i.tooltipPanel().config({container:oe,hasTick:!0})();if(!k){var ce=ne.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});R.on("mousemove.angular-guide",function(e,t){var r=i.util.getMousePos(X).angle;ce.attr({x2:-y,transform:"rotate("+r+")"}).style({opacity:.5});var a=(r+180+360-h.orientation)%360;re=l.invert(a);var n=i.util.convertToCartesian(y+12,r+180);ie.text(i.util.round(re)).move([n[0]+b[0],n[1]+b[1]])}).on("mouseout.angular-guide",function(e,t){ne.select("line").style({opacity:0})})}var de=ne.select("circle").style({stroke:"grey",fill:"none"});R.on("mousemove.radial-guide",function(e,t){var a=i.util.getMousePos(X).radius;de.attr({r:a}).style({opacity:.5}),ae=r.invert(i.util.getMousePos(X).radius);var n=i.util.convertToCartesian(a,h.radialAxis.orientation);le.text(i.util.round(ae)).move([n[0]+b[0],n[1]+b[1]])}).on("mouseout.radial-guide",function(e,t){de.style({opacity:0}),se.hide(),ie.hide(),le.hide()}),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(t,r){var n=a.select(this),o=this.style.fill,l="black",s=this.style.opacity||1;if(n.attr({"data-opacity":s}),o&&"none"!==o){n.attr({"data-fill":o}),l=a.hsl(o).darker().toString(),n.style({fill:l,opacity:1});var c={t:i.util.round(t[0]),r:i.util.round(t[1])};k&&(c.t=_[t[0]]);var d="t: "+c.t+", r: "+c.r,u=this.getBoundingClientRect(),h=e.node().getBoundingClientRect(),f=[u.left+u.width/2-B[0]-h.left,u.top+u.height/2-B[1]-h.top];se.config({color:l}).text(d),se.move(f)}else o=this.style.stroke||"black",n.attr({"data-stroke":o}),l=a.hsl(o).darker().toString(),n.style({stroke:l,opacity:1})}).on("mousemove.tooltip",function(e,t){if(0!=a.event.which)return!1;a.select(this).attr("data-fill")&&se.show()}).on("mouseout.tooltip",function(e,t){se.hide();var r=a.select(this),n=r.attr("data-fill");n?r.style({fill:n,opacity:r.attr("data-opacity")}):r.style({stroke:r.attr("data-stroke"),opacity:r.attr("data-opacity")})})})}(c),this},h.config=function(e){if(!arguments.length)return s;var t=i.util.cloneJson(e);return t.data.forEach(function(e,t){s.data[t]||(s.data[t]={}),n(s.data[t],i.Axis.defaultConfig().data[0]),n(s.data[t],e)}),n(s.layout,i.Axis.defaultConfig().layout),n(s.layout,t.layout),this},h.getLiveConfig=function(){return d},h.getinputConfig=function(){return c},h.radialScale=function(e){return r},h.angularScale=function(e){return l},h.svg=function(){return e},a.rebind(h,u,"on"),h},i.Axis.defaultConfig=function(e,t){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:a.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},i.util={},i.DATAEXTENT="dataExtent",i.AREA="AreaChart",i.LINE="LinePlot",i.DOT="DotPlot",i.BAR="BarChart",i.util._override=function(e,t){for(var r in e)r in t&&(t[r]=e[r])},i.util._extend=function(e,t){for(var r in e)t[r]=e[r]},i.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},i.util.dataFromEquation2=function(e,t){var r=t||6;return a.range(0,360+r,r).map(function(t,r){var a=t*Math.PI/180;return[t,e(a)]})},i.util.dataFromEquation=function(e,t,r){var n=t||6,o=[],i=[];a.range(0,360+n,n).forEach(function(t,r){var a=t*Math.PI/180,n=e(a);o.push(t),i.push(n)});var l={t:o,r:i};return r&&(l.name=r),l},i.util.ensureArray=function(e,t){if(void 0===e)return null;var r=[].concat(e);return a.range(t).map(function(e,t){return r[t]||r[0]})},i.util.fillArrays=function(e,t,r){return t.forEach(function(t,a){e[t]=i.util.ensureArray(e[t],r)}),e},i.util.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},i.util.validateKeys=function(e,t){"string"==typeof t&&(t=t.split("."));var r=t.shift();return e[r]&&(!t.length||objHasKeys(e[r],t))},i.util.sumArrays=function(e,t){return a.zip(e,t).map(function(e,t){return a.sum(e)})},i.util.arrayLast=function(e){return e[e.length-1]},i.util.arrayEqual=function(e,t){for(var r=Math.max(e.length,t.length,1);r-- >=0&&e[r]===t[r];);return-2===r},i.util.flattenArray=function(e){for(var t=[];!i.util.arrayEqual(t,e);)t=e,e=[].concat.apply([],e);return e},i.util.deduplicate=function(e){return e.filter(function(e,t,r){return r.indexOf(e)==t})},i.util.convertToCartesian=function(e,t){var r=t*Math.PI/180;return[e*Math.cos(r),e*Math.sin(r)]},i.util.round=function(e,t){var r=t||2,a=Math.pow(10,r);return Math.round(e*a)/a},i.util.getMousePos=function(e){var t=a.mouse(e.node()),r=t[0],n=t[1],o={};return o.x=r,o.y=n,o.pos=t,o.angle=180*(Math.atan2(n,r)+Math.PI)/Math.PI,o.radius=Math.sqrt(r*r+n*n),o},i.util.duplicatesCount=function(e){for(var t,r={},a={},n=0,o=e.length;n<o;n++)(t=e[n])in r?(r[t]++,a[t]=r[t]):r[t]=1;return a},i.util.duplicates=function(e){return Object.keys(i.util.duplicatesCount(e))},i.util.translator=function(e,t,r,a){if(a){var n=r.slice();r=t,t=n}var o=t.reduce(function(e,t){if(void 0!==e)return e[t]},e);void 0!==o&&(t.reduce(function(e,r,a){if(void 0!==e)return a===t.length-1&&delete e[r],e[r]},e),r.reduce(function(e,t,a){return void 0===e[t]&&(e[t]={}),a===r.length-1&&(e[t]=o),e[t]},e))},i.PolyChart=function(){var e=[i.PolyChart.defaultConfig()],t=a.dispatch("hover"),r={solid:"none",dash:[5,2],dot:[2,5]};function o(){var t=e[0].geometryConfig,n=t.container;"string"==typeof n&&(n=a.select(n)),n.datum(e).each(function(e,n){var o=!!e[0].data.yStack,i=e.map(function(e,t){return o?a.zip(e.data.t[0],e.data.r[0],e.data.yStack[0]):a.zip(e.data.t[0],e.data.r[0])}),l=t.angularScale,s=t.radialScale.domain()[0],c={bar:function(r,n,o){var i=e[o].data,s=t.radialScale(r[1])-t.radialScale(0),c=t.radialScale(r[2]||0),d=i.barWidth;a.select(this).attr({class:"mark bar",d:"M"+[[s+c,-d/2],[s+c,d/2],[c,d/2],[c,-d/2]].join("L")+"Z",transform:function(e,r){return"rotate("+(t.orientation+l(e[0]))+")"}})}};c.dot=function(r,n,o){var i=r[2]?[r[0],r[1]+r[2]]:r,l=a.svg.symbol().size(e[o].data.dotSize).type(e[o].data.dotType)(r,n);a.select(this).attr({class:"mark dot",d:l,transform:function(e,r){var a,n,o,l=(a=function(e,r){var a=t.radialScale(e[1]),n=(t.angularScale(e[0])+t.orientation)*Math.PI/180;return{r:a,t:n}}(i),n=a.r*Math.cos(a.t),o=a.r*Math.sin(a.t),{x:n,y:o});return"translate("+[l.x,l.y]+")"}})};var d=a.svg.line.radial().interpolate(e[0].data.lineInterpolation).radius(function(e){return t.radialScale(e[1])}).angle(function(e){return t.angularScale(e[0])*Math.PI/180});c.line=function(r,n,o){var l=r[2]?i[o].map(function(e,t){return[e[0],e[1]+e[2]]}):i[o];if(a.select(this).each(c.dot).style({opacity:function(t,r){return+e[o].data.dotVisible},fill:p.stroke(r,n,o)}).attr({class:"mark dot"}),!(n>0)){var s=a.select(this.parentNode).selectAll("path.line").data([0]);s.enter().insert("path"),s.attr({class:"line",d:d(l),transform:function(e,r){return"rotate("+(t.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(e,t){return p.fill(r,n,o)},"fill-opacity":0,stroke:function(e,t){return p.stroke(r,n,o)},"stroke-width":function(e,t){return p["stroke-width"](r,n,o)},"stroke-dasharray":function(e,t){return p["stroke-dasharray"](r,n,o)},opacity:function(e,t){return p.opacity(r,n,o)},display:function(e,t){return p.display(r,n,o)}})}};var u=t.angularScale.range(),h=Math.abs(u[1]-u[0])/i[0].length*Math.PI/180,f=a.svg.arc().startAngle(function(e){return-h/2}).endAngle(function(e){return h/2}).innerRadius(function(e){return t.radialScale(s+(e[2]||0))}).outerRadius(function(e){return t.radialScale(s+(e[2]||0))+t.radialScale(e[1])});c.arc=function(e,r,n){a.select(this).attr({class:"mark arc",d:f,transform:function(e,r){return"rotate("+(t.orientation+l(e[0])+90)+")"}})};var p={fill:function(t,r,a){return e[a].data.color},stroke:function(t,r,a){return e[a].data.strokeColor},"stroke-width":function(t,r,a){return e[a].data.strokeSize+"px"},"stroke-dasharray":function(t,a,n){return r[e[n].data.strokeDash]},opacity:function(t,r,a){return e[a].data.opacity},display:function(t,r,a){return void 0===e[a].data.visible||e[a].data.visible?"block":"none"}},g=a.select(this).selectAll("g.layer").data(i);g.enter().append("g").attr({class:"layer"});var v=g.selectAll("path.mark").data(function(e,t){return e});v.enter().append("path").attr({class:"mark"}),v.style(p).each(c[t.geometryType]),v.exit().remove(),g.exit().remove()})}return o.config=function(t){return arguments.length?(t.forEach(function(t,r){e[r]||(e[r]={}),n(e[r],i.PolyChart.defaultConfig()),n(e[r],t)}),this):e},o.getColorScale=function(){},a.rebind(o,t,"on"),o},i.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:a.scale.category20()}}},i.BarChart=function(){return i.PolyChart()},i.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},i.AreaChart=function(){return i.PolyChart()},i.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},i.DotPlot=function(){return i.PolyChart()},i.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},i.LinePlot=function(){return i.PolyChart()},i.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},i.Legend=function(){var e=i.Legend.defaultConfig(),t=a.dispatch("hover");function r(){var t=e.legendConfig,o=e.data.map(function(e,r){return[].concat(e).map(function(e,a){var o=n({},t.elements[r]);return o.name=e,o.color=[].concat(t.elements[r].color)[a],o})}),i=a.merge(o);i=i.filter(function(e,r){return t.elements[r]&&(t.elements[r].visibleInLegend||void 0===t.elements[r].visibleInLegend)}),t.reverseOrder&&(i=i.reverse());var l=t.container;("string"==typeof l||l.nodeName)&&(l=a.select(l));var s=i.map(function(e,t){return e.color}),c=t.fontSize,d=null==t.isContinuous?"number"==typeof i[0]:t.isContinuous,u=d?t.height:c*i.length,h=l.classed("legend-group",!0).selectAll("svg").data([0]),f=h.enter().append("svg").attr({width:300,height:u+c,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});f.append("g").classed("legend-axis",!0),f.append("g").classed("legend-marks",!0);var p=a.range(i.length),g=a.scale[d?"linear":"ordinal"]().domain(p).range(s),v=a.scale[d?"linear":"ordinal"]().domain(p)[d?"range":"rangePoints"]([0,u]);if(d){var m=h.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(s);m.enter().append("stop"),m.attr({offset:function(e,t){return t/(s.length-1)*100+"%"}}).style({"stop-color":function(e,t){return e}}),h.append("rect").classed("legend-mark",!0).attr({height:t.height,width:t.colorBandWidth,fill:"url(#grad1)"})}else{var y=h.select(".legend-marks").selectAll("path.legend-mark").data(i);y.enter().append("path").classed("legend-mark",!0),y.attr({transform:function(e,t){return"translate("+[c/2,v(t)+c/2]+")"},d:function(e,t){var r,n,o,i=e.symbol;return o=3*(n=c),"line"===(r=i)?"M"+[[-n/2,-n/12],[n/2,-n/12],[n/2,n/12],[-n/2,n/12]]+"Z":-1!=a.svg.symbolTypes.indexOf(r)?a.svg.symbol().type(r).size(o)():a.svg.symbol().type("square").size(o)()},fill:function(e,t){return g(t)}}),y.exit().remove()}var x=a.svg.axis().scale(v).orient("right"),b=h.select("g.legend-axis").attr({transform:"translate("+[d?t.colorBandWidth:c,c/2]+")"}).call(x);return b.selectAll(".domain").style({fill:"none",stroke:"none"}),b.selectAll("line").style({fill:"none",stroke:d?t.textColor:"none"}),b.selectAll("text").style({fill:t.textColor,"font-size":t.fontSize}).text(function(e,t){return i[t].name}),r}return r.config=function(t){return arguments.length?(n(e,t),this):e},a.rebind(r,t,"on"),r},i.Legend.defaultConfig=function(e,t){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},i.tooltipPanel=function(){var e,t,r,o={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},l="tooltip-"+i.tooltipPanel.uid++,s=10,c=function(){var a=(e=o.container.selectAll("g."+l).data([0])).enter().append("g").classed(l,!0).style({"pointer-events":"none",display:"none"});return r=a.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),t=a.append("text").attr({dx:o.padding+s,dy:.3*+o.fontSize}),c};return c.text=function(n){var i=a.hsl(o.color).l,l=i>=.5?"#aaa":"white",d=i>=.5?"black":"white",u=n||"";t.style({fill:d,"font-size":o.fontSize+"px"}).text(u);var h=o.padding,f=t.node().getBBox(),p={fill:o.color,stroke:l,"stroke-width":"2px"},g=f.width+2*h+s,v=f.height+2*h;return r.attr({d:"M"+[[s,-v/2],[s,-v/4],[o.hasTick?0:s,0],[s,v/4],[s,v/2],[g,v/2],[g,-v/2]].join("L")+"Z"}).style(p),e.attr({transform:"translate("+[s,-v/2+2*h]+")"}),e.style({display:"block"}),c},c.move=function(t){if(e)return e.attr({transform:"translate("+[t[0],t[1]]+")"}).style({display:"block"}),c},c.hide=function(){if(e)return e.style({display:"none"}),c},c.show=function(){if(e)return e.style({display:"block"}),c},c.config=function(e){return n(o,e),c},c},i.tooltipPanel.uid=1,i.adapter={},i.adapter.plotly=function(){var e={convert:function(e,t){var r={};if(e.data&&(r.data=e.data.map(function(e,r){var a=n({},e);return[[a,["marker","color"],["color"]],[a,["marker","opacity"],["opacity"]],[a,["marker","line","color"],["strokeColor"]],[a,["marker","line","dash"],["strokeDash"]],[a,["marker","line","width"],["strokeSize"]],[a,["marker","symbol"],["dotType"]],[a,["marker","size"],["dotSize"]],[a,["marker","barWidth"],["barWidth"]],[a,["line","interpolation"],["lineInterpolation"]],[a,["showlegend"],["visibleInLegend"]]].forEach(function(e,r){i.util.translator.apply(null,e.concat(t))}),t||delete a.marker,t&&delete a.groupId,t?("LinePlot"===a.geometry?(a.type="scatter",!0===a.dotVisible?(delete a.dotVisible,a.mode="lines+markers"):a.mode="lines"):"DotPlot"===a.geometry?(a.type="scatter",a.mode="markers"):"AreaChart"===a.geometry?a.type="area":"BarChart"===a.geometry&&(a.type="bar"),delete a.geometry):("scatter"===a.type?"lines"===a.mode?a.geometry="LinePlot":"markers"===a.mode?a.geometry="DotPlot":"lines+markers"===a.mode&&(a.geometry="LinePlot",a.dotVisible=!0):"area"===a.type?a.geometry="AreaChart":"bar"===a.type&&(a.geometry="BarChart"),delete a.mode,delete a.type),a}),!t&&e.layout&&"stack"===e.layout.barmode)){var o=i.util.duplicates(r.data.map(function(e,t){return e.geometry}));r.data.forEach(function(e,t){var a=o.indexOf(e.geometry);-1!=a&&(r.data[t].groupId=a)})}if(e.layout){var l=n({},e.layout);if([[l,["plot_bgcolor"],["backgroundColor"]],[l,["showlegend"],["showLegend"]],[l,["radialaxis"],["radialAxis"]],[l,["angularaxis"],["angularAxis"]],[l.angularaxis,["showline"],["gridLinesVisible"]],[l.angularaxis,["showticklabels"],["labelsVisible"]],[l.angularaxis,["nticks"],["ticksCount"]],[l.angularaxis,["tickorientation"],["tickOrientation"]],[l.angularaxis,["ticksuffix"],["ticksSuffix"]],[l.angularaxis,["range"],["domain"]],[l.angularaxis,["endpadding"],["endPadding"]],[l.radialaxis,["showline"],["gridLinesVisible"]],[l.radialaxis,["tickorientation"],["tickOrientation"]],[l.radialaxis,["ticksuffix"],["ticksSuffix"]],[l.radialaxis,["range"],["domain"]],[l.angularAxis,["showline"],["gridLinesVisible"]],[l.angularAxis,["showticklabels"],["labelsVisible"]],[l.angularAxis,["nticks"],["ticksCount"]],[l.angularAxis,["tickorientation"],["tickOrientation"]],[l.angularAxis,["ticksuffix"],["ticksSuffix"]],[l.angularAxis,["range"],["domain"]],[l.angularAxis,["endpadding"],["endPadding"]],[l.radialAxis,["showline"],["gridLinesVisible"]],[l.radialAxis,["tickorientation"],["tickOrientation"]],[l.radialAxis,["ticksuffix"],["ticksSuffix"]],[l.radialAxis,["range"],["domain"]],[l.font,["outlinecolor"],["outlineColor"]],[l.legend,["traceorder"],["reverseOrder"]],[l,["labeloffset"],["labelOffset"]],[l,["defaultcolorrange"],["defaultColorRange"]]].forEach(function(e,r){i.util.translator.apply(null,e.concat(t))}),t?(void 0!==l.tickLength&&(l.angularaxis.ticklen=l.tickLength,delete l.tickLength),l.tickColor&&(l.angularaxis.tickcolor=l.tickColor,delete l.tickColor)):(l.angularAxis&&void 0!==l.angularAxis.ticklen&&(l.tickLength=l.angularAxis.ticklen),l.angularAxis&&void 0!==l.angularAxis.tickcolor&&(l.tickColor=l.angularAxis.tickcolor)),l.legend&&"boolean"!=typeof l.legend.reverseOrder&&(l.legend.reverseOrder="normal"!=l.legend.reverseOrder),l.legend&&"boolean"==typeof l.legend.traceorder&&(l.legend.traceorder=l.legend.traceorder?"reversed":"normal",delete l.legend.reverseOrder),l.margin&&void 0!==l.margin.t){var s=["t","r","b","l","pad"],c=["top","right","bottom","left","pad"],d={};a.entries(l.margin).forEach(function(e,t){d[c[s.indexOf(e.key)]]=e.value}),l.margin=d}t&&(delete l.needsEndSpacing,delete l.minorTickColor,delete l.minorTicks,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksStep,delete l.angularaxis.rewriteTicks,delete l.angularaxis.nticks,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksStep,delete l.radialaxis.rewriteTicks,delete l.radialaxis.nticks),r.layout=l}return r}};return e}},function(e,t,r){"use strict";var a=r(342),n=r(0),o=r(297),i=r(298),l=r(299),s={format:{valType:"enumerated",values:["png","jpeg","webp","svg"],dflt:"png",description:"Sets the format of exported image."},width:{valType:"number",min:1,description:["Sets the exported image width.","Defaults to the value found in `layout.width`"].join(" ")},height:{valType:"number",min:1,description:["Sets the exported image height.","Defaults to the value found in `layout.height`"].join(" ")},scale:{valType:"number",min:0,dflt:1,description:["Sets a scaling for the generated image.","If set, all features of a graphs (e.g. text, line width)","are scaled, unlike simply setting","a bigger *width* and *height*."].join(" ")},setBackground:{valType:"any",dflt:!1,description:["Sets the image background mode.","By default, the image background is determined by `layout.paper_bgcolor`,","the *transparent* mode.","One might consider setting `setBackground` to *opaque*","when exporting a *jpeg* image as JPEGs do not support opacity."].join(" ")},imageDataOnly:{valType:"boolean",dflt:!1,description:["Determines whether or not the return value is prefixed by","the image format's corresponding 'data:image;' spec."].join(" ")}},c=/^data:image\/\w+;base64,/;e.exports=function(e,t){var r,d,u;function h(e){return!(e in t)||n.validate(t[e],s[e])}if(t=t||{},n.isPlainObject(e)?(r=e.data||[],d=e.layout||{},u=e.config||{}):(e=n.getGraphDiv(e),r=n.extendDeep([],e.data),d=n.extendDeep({},e.layout),u=e._context),!h("width")||!h("height"))throw new Error("Height and width should be pixel values.");if(!h("format"))throw new Error("Image format is not jpeg, png, svg or webp.");var f={};function p(e,r){return n.coerce(t,f,s,e,r)}var g=p("format"),v=p("width"),m=p("height"),y=p("scale"),x=p("setBackground"),b=p("imageDataOnly"),_=document.createElement("div");_.style.position="absolute",_.style.left="-5000px",document.body.appendChild(_);var w=n.extendFlat({},d);v&&(w.width=v),m&&(w.height=m);var k=n.extendFlat({},u,{staticPlot:!0,setBackground:x}),T=o.getRedrawFunc(_);function A(){return new Promise(function(e){setTimeout(e,o.getDelay(_._fullLayout))})}function M(){return new Promise(function(e,t){var r=i(_,g,y),o=_._fullLayout.width,s=_._fullLayout.height;if(a.purge(_),document.body.removeChild(_),"svg"===g)return e(b?r:"data:image/svg+xml,"+encodeURIComponent(r));var c=document.createElement("canvas");c.id=n.randstr(),l({format:g,width:o,height:s,scale:y,canvas:c,svg:r,promise:!0}).then(e).catch(t)})}return new Promise(function(e,t){a.plot(_,r,w,k).then(T).then(A).then(M).then(function(t){e(function(e){return b?e.replace(c,""):e}(t))}).catch(function(e){t(e)})})}},function(e,t,r){"use strict";var a=r(345),n=r(0),o=r(387);e.exports=function(e,t){var r;return n.isPlainObject(e)||(r=n.getGraphDiv(e)),(t=t||{}).format=t.format||"png",new Promise(function(i,l){r&&r._snapshotInProgress&&l(new Error("Snapshotting already in progress.")),n.isIE()&&"svg"!==t.format&&l(new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.")),r&&(r._snapshotInProgress=!0);var s=a(e,t),c=t.filename||e.fn||"newplot";c+="."+t.format,s.then(function(e){return r&&(r._snapshotInProgress=!1),o(e,c)}).then(function(e){i(e)}).catch(function(e){r&&(r._snapshotInProgress=!1),l(e)})})}},function(e,t,r){"use strict";var a=r(9),n=r(30);e.exports={bgcolor:{valType:"color",role:"style",editType:"legend",description:"Sets the legend background color."},bordercolor:{valType:"color",dflt:n.defaultLine,role:"style",editType:"legend",description:"Sets the color of the border enclosing the legend."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",editType:"legend",description:"Sets the width (in px) of the border enclosing the legend."},font:a({editType:"legend",description:"Sets the font used to text the legend items."}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",role:"info",editType:"legend",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],role:"style",editType:"legend",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,role:"style",editType:"legend",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:1.02,role:"style",editType:"legend",description:"Sets the x position (in normalized coordinates) of the legend."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",editType:"legend",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",editType:"legend",description:"Sets the y position (in normalized coordinates) of the legend."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",editType:"legend",description:["Sets the legend's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend."].join(" ")},editType:"legend"}},function(e,t,r){"use strict";var a=r(3),n=r(5),o=r(0),i=r(26),l=r(11),s=r(66),c=r(275);e.exports=function(e,t){e.each(function(e){var t=a.select(this),r=o.ensureSingle(t,"g","layers");r.style("opacity",e[0].trace.opacity),r.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),r.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var n=r.selectAll("g.legendsymbols").data([e]);n.enter().append("g").classed("legendsymbols",!0),n.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)}).each(function(e){var t=e[0].trace,r=t.marker||{},o=r.line||{},i=a.select(this).select("g.legendpoints").selectAll("path.legendbar").data(n.traceIs(t,"bar")?[e]:[]);i.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),i.exit().remove(),i.each(function(e){var t=a.select(this),n=e[0],i=(n.mlw+1||o.width+1)-1;t.style("stroke-width",i+"px").call(l.fill,n.mc||r.color),i&&t.call(l.stroke,n.mlc||o.color)})}).each(function(e){var t=e[0].trace,r=a.select(this).select("g.legendpoints").selectAll("path.legendbox").data(n.traceIs(t,"box-violin")&&t.visible?[e]:[]);r.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),r.exit().remove(),r.each(function(){var e=t.line.width,r=a.select(this);r.style("stroke-width",e+"px").call(l.fill,t.fillcolor),e&&l.stroke(r,t.line.color)})}).each(function(e){var t=e[0].trace,r=a.select(this).select("g.legendpoints").selectAll("path.legendpie").data(n.traceIs(t,"pie")&&t.visible?[e]:[]);r.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),r.exit().remove(),r.size()&&r.call(c,e[0],t)}).each(function(e){var r=e[0].trace,n=r.visible&&r.fill&&"none"!==r.fill,o=s.hasLines(r),l=r.contours,c=!1,d=!1;if(l){var u=l.coloring;"lines"===u?c=!0:o="none"===u||"heatmap"===u||l.showlines,"constraint"===l.type?n="="!==l._operation:"fill"!==u&&"heatmap"!==u||(d=!0)}var h=s.hasMarkers(r)||s.hasText(r)||!n&&!d?"M5,0":o||c?"M5,-2":"M5,-3",f=a.select(this),p=f.select(".legendfill").selectAll("path").data(n||d?[e]:[]);p.enter().append("path").classed("js-fill",!0),p.exit().remove(),p.attr("d",h+"h30v6h-30z").call(n?i.fillGroupStyle:function(e){if(e.size()){var a="legendfill-"+r.uid;i.gradient(e,t,a,"horizontalreversed",r.colorscale,"fill")}});var g=f.select(".legendlines").selectAll("path").data(o||c?[e]:[]);g.enter().append("path").classed("js-line",!0),g.exit().remove(),g.attr("d",h+(c?"l30,0.0001":"h30")).call(o?i.lineGroupStyle:function(e){if(e.size()){var a="legendline-"+r.uid;i.lineGroupStyle(e),i.gradient(e,t,a,"horizontalreversed",r.colorscale,"stroke")}})}).each(function(e){var r,n,l=e[0],c=l.trace,d=s.hasMarkers(c),u=s.hasText(c),h=s.hasLines(c);function f(e,t,r){var a=o.nestedProperty(c,e).get(),n=Array.isArray(a)&&t?t(a):a;if(r){if(n<r[0])return r[0];if(n>r[1])return r[1]}return n}function p(e){return e[0]}if(d||u||h){var g={},v={};if(d){g.mc=f("marker.color",p),g.mx=f("marker.symbol",p),g.mo=f("marker.opacity",o.mean,[.2,1]),g.mlc=f("marker.line.color",p),g.mlw=f("marker.line.width",o.mean,[0,5]),v.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var m=f("marker.size",o.mean,[2,16]);g.ms=m,v.marker.size=m}h&&(v.line={width:f("line.width",p,[0,10])}),u&&(g.tx="Aa",g.tp=f("textposition",p),g.ts=10,g.tc=f("textfont.color",p),g.tf=f("textfont.family",p)),r=[o.minExtend(l,g)],(n=o.minExtend(c,v)).selectedpoints=null}var y=a.select(this).select("g.legendpoints"),x=y.selectAll("path.scatterpts").data(d?r:[]);x.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform","translate(20,0)"),x.exit().remove(),x.call(i.pointStyle,n,t),d&&(r[0].mrc=3);var b=y.selectAll("g.pointtext").data(u?r:[]);b.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),b.exit().remove(),b.selectAll("text").call(i.textPointStyle,n,t)}).each(function(e){var t=e[0].trace,r=a.select(this).select("g.legendpoints").selectAll("path.legendcandle").data("candlestick"===t.type&&t.visible?[e,e]:[]);r.enter().append("path").classed("legendcandle",!0).attr("d",function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform","translate(20,0)").style("stroke-miterlimit",1),r.exit().remove(),r.each(function(e,r){var n=t[r?"increasing":"decreasing"],o=n.line.width,i=a.select(this);i.style("stroke-width",o+"px").call(l.fill,n.fillcolor),o&&l.stroke(i,n.line.color)})}).each(function(e){var t=e[0].trace,r=a.select(this).select("g.legendpoints").selectAll("path.legendohlc").data("ohlc"===t.type&&t.visible?[e,e]:[]);r.enter().append("path").classed("legendohlc",!0).attr("d",function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform","translate(20,0)").style("stroke-miterlimit",1),r.exit().remove(),r.each(function(e,r){var n=t[r?"increasing":"decreasing"],o=n.line.width,s=a.select(this);s.style("fill","none").call(i.dashLine,n.line.dash,o),o&&l.stroke(s,n.line.color)})})}},function(e,t,r){"use strict";e.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},function(e,t,r){"use strict";var a=r(0),n=r(11);e.exports=function(e,t,r,o){o("opacity");var i=o("bgcolor"),l=o("bordercolor"),s=n.opacity(l);o("borderpad");var c=o("borderwidth"),d=o("showarrow");if(o("text",d?" ":r._dfltTitle.annotation),o("textangle"),a.coerceFont(o,"font",r.font),o("width"),o("align"),o("height")&&o("valign"),d){var u,h,f=o("arrowside");-1!==f.indexOf("end")&&(u=o("arrowhead"),h=o("arrowsize")),-1!==f.indexOf("start")&&(o("startarrowhead",u),o("startarrowsize",h)),o("arrowcolor",s?t.bordercolor:n.defaultLine),o("arrowwidth",2*(s&&c||1)),o("standoff"),o("startstandoff")}var p=o("hovertext"),g=r.hoverlabel||{};if(p){var v=o("hoverlabel.bgcolor",g.bgcolor||(n.opacity(i)?n.rgb(i):n.defaultLine)),m=o("hoverlabel.bordercolor",g.bordercolor||n.contrast(v));a.coerceFont(o,"hoverlabel.font",{family:g.font.family,size:g.font.size,color:g.font.color||m})}o("captureevents",!!p)}},function(e,t,r){"use strict";var a=r(277),n=r(71).line,o=r(51).dash,i=r(6).extendFlat,l=r(19).templatedArray;e.exports=l("shape",{visible:{valType:"boolean",role:"info",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not this shape is visible."].join(" ")},type:{valType:"enumerated",values:["circle","rect","path","line"],role:"info",editType:"calc+arraydraw",description:["Specifies the shape type to be drawn.","If *line*, a line is drawn from (`x0`,`y0`) to (`x1`,`y1`)","with respect to the axes' sizing mode.","If *circle*, a circle is drawn from","((`x0`+`x1`)/2, (`y0`+`y1`)/2))","with radius","(|(`x0`+`x1`)/2 - `x0`|, |(`y0`+`y1`)/2 -`y0`)|)","with respect to the axes' sizing mode.","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`), (`x0`,`y1`), (`x0`,`y0`)","with respect to the axes' sizing mode.","If *path*, draw a custom SVG path using `path`.","with respect to the axes' sizing mode."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",editType:"arraydraw",description:"Specifies whether shapes are drawn below or above traces."},xref:i({},a.xref,{description:["Sets the shape's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate.","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the left (right) side.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, then you must convert","the date to unix time in milliseconds."].join(" ")}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",role:"info",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the x axis.","If set to *scaled*, `x0`, `x1` and x coordinates within `path` refer to","data values on the x axis or a fraction of the plot area's width","(`xref` set to *paper*).","If set to *pixel*, `xanchor` specifies the x position in terms","of data or plot fraction but `x0`, `x1` and x coordinates within `path`","are pixels relative to `xanchor`. This way, the shape can have","a fixed width while maintaining a position relative to data or","plot fraction."].join(" ")},xanchor:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Only relevant in conjunction with `xsizemode` set to *pixel*.","Specifies the anchor point on the x axis to which `x0`, `x1`","and x coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `xsizemode` not set to *pixel*."].join(" ")},x0:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the shape's starting x position.","See `type` and `xsizemode` for more info."].join(" ")},x1:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the shape's end x position.","See `type` and `xsizemode` for more info."].join(" ")},yref:i({},a.yref,{description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",role:"info",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the y axis.","If set to *scaled*, `y0`, `y1` and y coordinates within `path` refer to","data values on the y axis or a fraction of the plot area's height","(`yref` set to *paper*).","If set to *pixel*, `yanchor` specifies the y position in terms","of data or plot fraction but `y0`, `y1` and y coordinates within `path`","are pixels relative to `yanchor`. This way, the shape can have","a fixed height while maintaining a position relative to data or","plot fraction."].join(" ")},yanchor:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Only relevant in conjunction with `ysizemode` set to *pixel*.","Specifies the anchor point on the y axis to which `y0`, `y1`","and y coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `ysizemode` not set to *pixel*."].join(" ")},y0:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the shape's starting y position.","See `type` and `ysizemode` for more info."].join(" ")},y1:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the shape's end y position.","See `type` and `ysizemode` for more info."].join(" ")},path:{valType:"string",role:"info",editType:"calc+arraydraw",description:["For `type` *path* - a valid SVG path with the pixel values","replaced by data values in `xsizemode`/`ysizemode` being *scaled*","and taken unmodified as pixels relative to `xanchor` and `yanchor`","in case of *pixel* size mode.","There are a few restrictions / quirks","only absolute instructions, not relative. So the allowed segments","are: M, L, H, V, Q, C, T, S, and Z","arcs (A) are not allowed because radius rx and ry are relative.","In the future we could consider supporting relative commands,","but we would have to decide on how to handle date and log axes.","Note that even as is, Q and C Bezier paths that are smooth on","linear axes may not be smooth on log, and vice versa.",'no chained "polybezier" commands - specify the segment type for',"each one.","On category axes, values are numbers scaled to the serial numbers","of categories because using the categories themselves there would","be no way to describe fractional positions","On data axes: because space and T are both normal components of path","strings, we can't use either to separate date from time parts.","Therefore we'll use underscore for this purpose:","2015-02-21_13:45:56.789"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"info",editType:"arraydraw",description:"Sets the opacity of the shape."},line:{color:i({},n.color,{editType:"arraydraw"}),width:i({},n.width,{editType:"calc+arraydraw"}),dash:i({},o,{editType:"arraydraw"}),role:"info",editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"info",editType:"arraydraw",description:["Sets the color filling the shape's interior."].join(" ")},editType:"arraydraw"})},function(e,t,r){"use strict";var a=r(28),n=r(19).templatedArray;e.exports=n("image",{visible:{valType:"boolean",role:"info",dflt:!0,editType:"arraydraw",description:["Determines whether or not this image is visible."].join(" ")},source:{valType:"string",role:"info",editType:"arraydraw",description:["Specifies the URL of the image to be used.","The URL must be accessible from the domain where the","plot code is run, and can be either relative or absolute."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",editType:"arraydraw",description:["Specifies whether images are drawn below or above traces.","When `xref` and `yref` are both set to `paper`,","image is drawn below the entire plot area."].join(" ")},sizex:{valType:"number",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image container size horizontally.","The image will be sized based on the `position` value.","When `xref` is set to `paper`, units are sized relative","to the plot width."].join(" ")},sizey:{valType:"number",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image container size vertically.","The image will be sized based on the `position` value.","When `yref` is set to `paper`, units are sized relative","to the plot height."].join(" ")},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",role:"info",editType:"arraydraw",description:["Specifies which dimension of the image to constrain."].join(" ")},opacity:{valType:"number",role:"info",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the image."},x:{valType:"any",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image's x position.","When `xref` is set to `paper`, units are sized relative","to the plot height.","See `xref` for more info"].join(" ")},y:{valType:"any",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image's y position.","When `yref` is set to `paper`, units are sized relative","to the plot height.","See `yref` for more info"].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",editType:"arraydraw",description:"Sets the anchor for the x position"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",role:"info",editType:"arraydraw",description:"Sets the anchor for the y position."},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],dflt:"paper",role:"info",editType:"arraydraw",description:["Sets the images's x coordinate axis.","If set to a x axis id (e.g. *x* or *x2*), the `x` position","refers to an x data coordinate","If set to *paper*, the `x` position refers to the distance from","the left of plot in normalized coordinates","where *0* (*1*) corresponds to the left (right)."].join(" ")},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],dflt:"paper",role:"info",editType:"arraydraw",description:["Sets the images's y coordinate axis.","If set to a y axis id (e.g. *y* or *y2*), the `y` position","refers to a y data coordinate.","If set to *paper*, the `y` position refers to the distance from","the bottom of the plot in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")},editType:"arraydraw"})},function(e,t,r){"use strict";var a=r(9),n=r(30),o=r(6).extendFlat,i=r(34).overrideAll,l=r(354),s=r(19).templatedArray,c=s("button",{visible:{valType:"boolean",role:"info",description:"Determines whether or not this button is visible."},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called on click.","If the `skip` method is used, the API updatemenu will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","updatemenu events manually via JavaScript."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on click."].join(" ")},label:{valType:"string",role:"info",dflt:"",description:"Sets the text label to appear on the button."},execute:{valType:"boolean",role:"info",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_buttonclicked` method and executing the API command manually without losing","the benefit of the updatemenu automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}});e.exports=i(s("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean",role:"info",description:["Determines whether or not the update menu is visible."].join(" ")},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown",role:"info",description:["Determines whether the buttons are accessible via a dropdown menu","or whether the buttons are stacked horizontally or vertically"].join(" ")},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down",role:"info",description:["Determines the direction in which the buttons are laid out, whether","in a dropdown menu or a row/column of buttons. For `left` and `up`,","the buttons will still appear in left-to-right or top-to-bottom order","respectively."].join(" ")},active:{valType:"integer",role:"info",min:-1,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},showactive:{valType:"boolean",role:"info",dflt:!0,description:"Highlights active dropdown item or active button if true."},buttons:c,x:{valType:"number",min:-2,max:3,dflt:-.05,role:"style",description:"Sets the x position (in normalized coordinates) of the update menu."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right",role:"info",description:["Sets the update menu's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",description:"Sets the y position (in normalized coordinates) of the update menu."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the update menu's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},pad:o({},l,{description:"Sets the padding around the buttons or dropdown menu."}),font:a({description:"Sets the font of the update menu button text."}),bgcolor:{valType:"color",role:"style",description:"Sets the background color of the update menu buttons."},bordercolor:{valType:"color",dflt:n.borderLine,role:"style",description:"Sets the color of the border enclosing the update menu."},borderwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"arraydraw",description:"Sets the width (in px) of the border enclosing the update menu."}}),"arraydraw","from-root")},function(e,t,r){"use strict";e.exports={t:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) along the top of the component."},r:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) on the right side of the component."},b:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) along the bottom of the component."},l:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) on the left side of the component."},editType:"arraydraw"}},function(e,t,r){"use strict";var a=r(9),n=r(354),o=r(6).extendDeepAll,i=r(34).overrideAll,l=r(50),s=r(19).templatedArray,c=r(278),d=s("step",{visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not this step is included in the slider."].join(" ")},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called when the slider value is changed.","If the `skip` method is used, the API slider will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","slider events manually via JavaScript."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on slide."].join(" ")},label:{valType:"string",role:"info",description:"Sets the text label to appear on the slider"},value:{valType:"string",role:"info",description:["Sets the value of the slider step, used to refer to the step programatically.","Defaults to the slider label if not provided."].join(" ")},execute:{valType:"boolean",role:"info",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_sliderchange` method and executing the API command manually without losing","the benefit of the slider automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}});e.exports=i(s("slider",{visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not the slider is visible."].join(" ")},active:{valType:"number",role:"info",min:0,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},steps:d,lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:["Determines whether this slider length","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the length of the slider","This measure excludes the padding of both ends.","That is, the slider's length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the x position (in normalized coordinates) of the slider."},pad:o({},n,{description:"Set the padding of the slider component along each side."},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the slider's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the y position (in normalized coordinates) of the slider."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the slider's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},transition:{duration:{valType:"number",role:"info",min:0,dflt:150,description:"Sets the duration of the slider transition"},easing:{valType:"enumerated",values:l.transition.easing.values,role:"info",dflt:"cubic-in-out",description:"Sets the easing function of the slider transition"}},currentvalue:{visible:{valType:"boolean",role:"info",dflt:!0,description:["Shows the currently-selected value above the slider."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",description:["The alignment of the value readout relative to the length of the slider."].join(" ")},offset:{valType:"number",dflt:10,role:"info",description:["The amount of space, in pixels, between the current value label","and the slider."].join(" ")},prefix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the prefix of the label."},suffix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the suffix of the label."},font:a({description:"Sets the font of the current value label text."})},font:a({description:"Sets the font of the slider step labels."}),activebgcolor:{valType:"color",role:"style",dflt:c.gripBgActiveColor,description:["Sets the background color of the slider grip","while dragging."].join(" ")},bgcolor:{valType:"color",role:"style",dflt:c.railBgColor,description:"Sets the background color of the slider."},bordercolor:{valType:"color",dflt:c.railBorderColor,role:"style",description:"Sets the color of the border enclosing the slider."},borderwidth:{valType:"number",min:0,dflt:c.railBorderWidth,role:"style",description:"Sets the width (in px) of the border enclosing the slider."},ticklen:{valType:"number",min:0,dflt:c.tickLength,role:"style",description:"Sets the length in pixels of step tick marks"},tickcolor:{valType:"color",dflt:c.tickColor,role:"style",description:"Sets the color of the border enclosing the slider."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the tick width (in px)."},minorticklen:{valType:"number",min:0,dflt:c.minorTickLength,role:"style",description:"Sets the length in pixels of minor step tick marks"}}),"arraydraw","from-root")},function(e,t,r){"use strict";e.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",role:"style",editType:"calc",description:["Determines whether or not the range of this axis in","the rangeslider use the same value than in the main plot","when zooming in/out.","If *auto*, the autorange will be used.","If *fixed*, the `range` is used.","If *match*, the current range of the corresponding y-axis on the main subplot is used."].join(" ")},range:{valType:"info_array",role:"style",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot",description:["Sets the range of this axis for the rangeslider."].join(" ")},editType:"calc"}},function(e,t,r){"use strict";e.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},function(e,t,r){"use strict";e.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},function(e,t,r){"use strict";e.exports={visible:{valType:"boolean",role:"info",editType:"calc",description:["Determines whether or not this set of error bars is visible."].join(" ")},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],role:"info",editType:"calc",description:["Determines the rule used to generate the error bars.","If *constant`, the bar lengths are of a constant value.","Set this constant in `value`.","If *percent*, the bar lengths correspond to a percentage of","underlying data. Set this percentage in `value`.","If *sqrt*, the bar lengths correspond to the sqaure of the","underlying data.","If *array*, the bar lengths are set with data set `array`."].join(" ")},symmetric:{valType:"boolean",role:"info",editType:"calc",description:["Determines whether or not the error bars have the same length","in both direction","(top/bottom for vertical bars, left/right for horizontal bars."].join(" ")},array:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar.","Values are plotted relative to the underlying data."].join(" ")},arrayminus:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar in the","bottom (left) direction for vertical (horizontal) bars","Values are plotted relative to the underlying data."].join(" ")},value:{valType:"number",min:0,dflt:10,role:"info",editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars."].join(" ")},valueminus:{valType:"number",min:0,dflt:10,role:"info",editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars in the","bottom (left) direction for vertical (horizontal) bars"].join(" ")},traceref:{valType:"integer",min:0,dflt:0,role:"info",editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,role:"info",editType:"style"},copy_ystyle:{valType:"boolean",role:"style",editType:"plot"},copy_zstyle:{valType:"boolean",role:"style",editType:"style"},color:{valType:"color",role:"style",editType:"style",description:"Sets the stoke color of the error bars."},thickness:{valType:"number",min:0,dflt:2,role:"style",editType:"style",description:"Sets the thickness (in px) of the error bars."},width:{valType:"number",min:0,role:"style",editType:"plot",description:["Sets the width (in px) of the cross-bar at both ends","of the error bars."].join(" ")},editType:"calc",_deprecated:{opacity:{valType:"number",role:"style",editType:"style",description:["Obsolete.","Use the alpha channel in error bar `color` to set the opacity."].join(" ")}}}},function(e,t,r){"use strict";function a(e,t){return"percent"===e?function(e){return Math.abs(e*t/100)}:"constant"===e?function(){return Math.abs(t)}:"sqrt"===e?function(e){return Math.sqrt(Math.abs(e))}:void 0}e.exports=function(e){var t=e.type,r=e.symmetric;if("data"===t){var n=e.array||[];if(r)return function(e,t){var r=+n[t];return[r,r]};var o=e.arrayminus||[];return function(e,t){var r=+n[t],a=+o[t];return isNaN(r)&&isNaN(a)?[NaN,NaN]:[a||0,r||0]}}var i=a(t,e.value),l=a(t,e.valueminus);return r||void 0===e.valueminus?function(e){var t=i(e);return[t,t]}:function(e){return[l(e),i(e)]}}},function(e,t,r){"use strict";var a=r(0),n=a.extendFlat,o=a.extendDeep;function i(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}e.exports=function(e,t){var r;e.framework&&e.framework.isPolar&&(e=e.framework.getConfig());var a,l=e.data,s=e.layout,c=o([],l),d=o({},s,i(t.tileClass)),u=e._context||{};if(t.width&&(d.width=t.width),t.height&&(d.height=t.height),"thumbnail"===t.tileClass||"themes__thumb"===t.tileClass){d.annotations=[];var h=Object.keys(d);for(r=0;r<h.length;r++)a=h[r],["xaxis","yaxis","zaxis"].indexOf(a.slice(0,5))>-1&&(d[h[r]].title="");for(r=0;r<c.length;r++){var f=c[r];f.showscale=!1,f.marker&&(f.marker.showscale=!1),"pie"===f.type&&(f.textposition="none")}}if(Array.isArray(t.annotations))for(r=0;r<t.annotations.length;r++)d.annotations.push(t.annotations[r]);var p=Object.keys(d).filter(function(e){return e.match(/^scene\d*$/)});if(p.length){var g={};for("thumbnail"===t.tileClass&&(g={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),r=0;r<p.length;r++){var v=d[p[r]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),n(v.xaxis,g),n(v.yaxis,g),n(v.zaxis,g),v._scene=null}}var m=document.createElement("div");t.tileClass&&(m.className=t.tileClass);var y={gd:m,td:m,layout:d,data:c,config:{staticPlot:void 0===t.staticPlot||t.staticPlot,plotGlPixelRatio:void 0===t.plotGlPixelRatio?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return"transparent"!==t.setBackground&&(y.config.setBackground=t.setBackground||"opaque"),y.gd.defaultLayout=i(t.tileClass),y}},,,,,,,function(e,t,r){"use strict";e.exports=r(369)},function(e,t,r){"use strict";t.version="1.42.1",r(370).polyfill(),r(373),r(374);for(var a=r(5),n=t.register=a.register,o=r(375),i=Object.keys(o),l=0;l<i.length;l++){var s=i[l];t[s]=o[s],n({moduleType:"apiMethod",name:s,fn:o[s]})}n(r(300)),n([r(201),r(389),r(395),r(401),r(406),r(410),r(414),r(418),r(421),r(425),r(429),r(430)]),n([r(435),r(436)]),t.Icons=r(213),t.Plots=r(43),t.Fx=r(201),t.Snapshot=r(437),t.PlotSchema=r(46),t.Queue=r(343),t.d3=r(3)},function(e,t,r){(function(t,a){var n;
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   3.3.1
 */
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   3.3.1
 */
n=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,i=void 0,l=void 0,s=function(e,t){g[o]=e,g[o+1]=t,2===(o+=2)&&(l?l(v):_())};var c="undefined"!=typeof window?window:void 0,d=c||{},u=d.MutationObserver||d.WebKitMutationObserver,h="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(v,1)}}var g=new Array(1e3);function v(){for(var e=0;e<o;e+=2){(0,g[e])(g[e+1]),g[e]=void 0,g[e+1]=void 0}o=0}var m,y,x,b,_=void 0;function w(e,t){var r=arguments,a=this,n=new this.constructor(A);void 0===n[T]&&V(n);var o,i=a._state;return i?(o=r[i-1],s(function(){return B(i,n,o,a._result)})):E(a,n,e,t),n}function k(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(A);return O(t,e),t}h?_=function(){return t.nextTick(v)}:u?(y=0,x=new u(v),b=document.createTextNode(""),x.observe(b,{characterData:!0}),_=function(){b.data=y=++y%2}):f?((m=new MessageChannel).port1.onmessage=v,_=function(){return m.port2.postMessage(0)}):_=void 0===c?function(){try{var e=r(372);return i=e.runOnLoop||e.runOnContext,function(){i(v)}}catch(e){return p()}}():p();var T=Math.random().toString(36).substring(16);function A(){}var M=void 0,S=1,L=2,C=new F;function z(e){try{return e.then}catch(e){return C.error=e,C}}function P(t,r,a){r.constructor===t.constructor&&a===w&&r.constructor.resolve===k?function(e,t){t._state===S?D(e,t._result):t._state===L?R(e,t._result):E(t,void 0,function(t){return O(e,t)},function(t){return R(e,t)})}(t,r):a===C?R(t,C.error):void 0===a?D(t,r):e(a)?function(e,t,r){s(function(e){var a=!1,n=function(e,t,r,a){try{e.call(t,r,a)}catch(e){return e}}(r,t,function(r){a||(a=!0,t!==r?O(e,r):D(e,r))},function(t){a||(a=!0,R(e,t))},e._label);!a&&n&&(a=!0,R(e,n))},e)}(t,r,a):D(t,r)}function O(e,t){var r;e===t?R(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(r=t)||"object"==typeof r&&null!==r?P(e,t,z(t)):D(e,t)}function I(e){e._onerror&&e._onerror(e._result),j(e)}function D(e,t){e._state===M&&(e._result=t,e._state=S,0!==e._subscribers.length&&s(j,e))}function R(e,t){e._state===M&&(e._state=L,e._result=t,s(I,e))}function E(e,t,r,a){var n=e._subscribers,o=n.length;e._onerror=null,n[o]=t,n[o+S]=r,n[o+L]=a,0===o&&e._state&&s(j,e)}function j(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var a=void 0,n=void 0,o=e._result,i=0;i<t.length;i+=3)a=t[i],n=t[i+r],a?B(r,a,n,o):n(o);e._subscribers.length=0}}function F(){this.error=null}var N=new F;function B(t,r,a,n){var o=e(a),i=void 0,l=void 0,s=void 0,c=void 0;if(o){if((i=function(e,t){try{return e(t)}catch(e){return N.error=e,N}}(a,n))===N?(c=!0,l=i.error,i=null):s=!0,r===i)return void R(r,new TypeError("A promises callback cannot return that same promise."))}else i=n,s=!0;r._state!==M||(o&&s?O(r,i):c?R(r,l):t===S?D(r,i):t===L&&R(r,i))}var H=0;function V(e){e[T]=H++,e._state=void 0,e._result=void 0,e._subscribers=[]}function q(e,t){this._instanceConstructor=e,this.promise=new e(A),this.promise[T]||V(this.promise),n(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&D(this.promise,this._result))):R(this.promise,new Error("Array Methods must be provided an Array"))}function G(e){this[T]=H++,this._result=this._state=void 0,this._subscribers=[],A!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof G?function(e,t){try{t(function(t){O(e,t)},function(t){R(e,t)})}catch(t){R(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function X(){var e=void 0;if(void 0!==a)e=a;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=G}return q.prototype._enumerate=function(){for(var e=this.length,t=this._input,r=0;this._state===M&&r<e;r++)this._eachEntry(t[r],r)},q.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,a=r.resolve;if(a===k){var n=z(e);if(n===w&&e._state!==M)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(r===G){var o=new r(A);P(o,e,n),this._willSettleAt(o,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(a(e),t)},q.prototype._settledAt=function(e,t,r){var a=this.promise;a._state===M&&(this._remaining--,e===L?R(a,r):this._result[t]=r),0===this._remaining&&D(a,this._result)},q.prototype._willSettleAt=function(e,t){var r=this;E(e,void 0,function(e){return r._settledAt(S,t,e)},function(e){return r._settledAt(L,t,e)})},G.all=function(e){return new q(this,e).promise},G.race=function(e){var t=this;return n(e)?new t(function(r,a){for(var n=e.length,o=0;o<n;o++)t.resolve(e[o]).then(r,a)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},G.resolve=k,G.reject=function(e){var t=new this(A);return R(t,e),t},G._setScheduler=function(e){l=e},G._setAsap=function(e){s=e},G._asap=s,G.prototype={constructor:G,then:w,catch:function(e){return this.then(null,e)}},X(),G.polyfill=X,G.Promise=G,G},e.exports=n()}).call(t,r(371),r(14))},function(e,t){var r,a,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{a="function"==typeof clearTimeout?clearTimeout:i}catch(e){a=i}}();var s,c=[],d=!1,u=-1;function h(){d&&s&&(d=!1,s.length?c=s.concat(c):u=-1,c.length&&f())}function f(){if(!d){var e=l(h);d=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,d=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===i||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||d||l(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t){},function(e,t,r){"use strict";var a=r(0),n={"X,X div":"direction:ltr;font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"top:-1px;display:flex;flex-direction:column;flex-wrap:wrap;height:100%;align-content:flex-end;","X .modebar.vertical .modebar-group":"display:block;float:none;margin-left:0px;margin-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in n){var i=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");a.addStyleRule(i,n[o])}},function(e,t,r){"use strict";"undefined"!=typeof MathJax?(t.MathJax=!0,"local"!==(window.PlotlyConfig||{}).MathJaxConfig&&(MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured())):t.MathJax=!1},function(e,t,r){"use strict";var a=r(342);t.plot=a.plot,t.newPlot=a.newPlot,t.restyle=a.restyle,t.relayout=a.relayout,t.redraw=a.redraw,t.update=a.update,t.react=a.react,t.extendTraces=a.extendTraces,t.prependTraces=a.prependTraces,t.addTraces=a.addTraces,t.deleteTraces=a.deleteTraces,t.moveTraces=a.moveTraces,t.purge=a.purge,t.addFrames=a.addFrames,t.deleteFrames=a.deleteFrames,t.animate=a.animate,t.setPlotConfig=a.setPlotConfig,t.toImage=r(345),t.validate=r(386),t.downloadImage=r(346);var n=r(388);t.makeTemplate=n.makeTemplate,t.validateTemplate=n.validateTemplate},function(e,t,r){"use strict";(e.exports=r(344)).manager=r(377)},function(e,t,r){"use strict";var a=r(3),n=r(0),o=r(11),i=r(344),l=r(378),s=n.extendDeepAll,c=e.exports={};c.framework=function(e){var t,r,n,o,d,u=new l;function h(r,l){return l&&(d=l),a.select(a.select(d).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),t=t?s(t,r):r,n||(n=i.Axis()),o=i.adapter.plotly().convert(t),n.config(o).render(d),e.data=t.data,e.layout=t.layout,c.fillLayout(e),t}return h.isPolar=!0,h.svg=function(){return n.svg()},h.getConfig=function(){return t},h.getLiveConfig=function(){return i.adapter.plotly().convert(n.getLiveConfig(),!0)},h.getLiveScales=function(){return{t:n.angularScale(),r:n.radialScale()}},h.setUndoPoint=function(){var e,a,n=this,o=i.util.cloneJson(t);e=o,a=r,u.add({undo:function(){a&&n(a)},redo:function(){n(e)}}),r=i.util.cloneJson(o)},h.undo=function(){u.undo()},h.redo=function(){u.redo()},h},c.fillLayout=function(e){var t=a.select(e).selectAll(".plot-container"),r=t.selectAll(".svg-container"),n=e.framework&&e.framework.svg&&e.framework.svg(),i={width:800,height:600,paper_bgcolor:o.background,_container:t,_paperdiv:r,_paper:n};e._fullLayout=s(i,e.layout)}},function(e,t,r){"use strict";e.exports=function(){var e,t=[],r=-1,a=!1;function n(e,t){return e?(a=!0,e[t](),a=!1,this):this}return{add:function(e){return a?this:(t.splice(r+1,t.length-r),t.push(e),r=t.length-1,this)},setCallback:function(t){e=t},undo:function(){var a=t[r];return a?(n(a,"undo"),r-=1,e&&e(a.undo),this):this},redo:function(){var a=t[r+1];return a?(n(a,"redo"),r+=1,e&&e(a.redo),this):this},clear:function(){t=[],r=-1},hasUndo:function(){return-1!==r},hasRedo:function(){return r<t.length-1},getCommands:function(){return t},getPreviousCommand:function(){return t[r-1]},getIndex:function(){return r}}}},function(e,t,r){"use strict";var a=r(380);e.exports=function(e,t,r){if("function"==typeof r)return r(e,t);var n=t[0].trace,o="cb"+n.uid,i=r.container,l=i?n[i]:n;(e._fullLayout._infolayer.selectAll("."+o).remove(),l&&l.showscale)&&(t[0].t.cb=a(e,o)).fillgradient(l.colorscale).zrange([l[r.min],l[r.max]]).options(l.colorbar)()}},function(e,t,r){"use strict";var a=r(3),n=r(12),o=r(43),i=r(5),l=r(65),s=r(199),c=r(0),d=r(6).extendFlat,u=r(202),h=r(26),f=r(11),p=r(74),g=r(29),v=r(20),m=v.LINE_SPACING,y=v.FROM_TL,x=v.FROM_BR,b=r(229),_=r(230),w=r(13),k=r(47),T=r(381).cn;e.exports=function(e,t){var r={};for(var v in k)r[v]=null;function A(){var v=e._fullLayout,k=v._size;if("function"==typeof r.fillcolor||"function"==typeof r.line.color||r.fillgradient){var S,L,C=r.zrange||a.extent(("function"==typeof r.fillcolor?r.fillcolor:r.line.color).domain()),z=[],P=[],O="function"==typeof r.line.color?r.line.color:function(){return r.line.color},I="function"==typeof r.fillcolor?r.fillcolor:function(){return r.fillcolor},D=r.levels.end+r.levels.size/100,R=r.levels.size,E=1.001*C[0]-.001*C[1],j=1.001*C[1]-.001*C[0];for(L=0;L<1e5&&(S=r.levels.start+L*R,!(R>0?S>=D:S<=D));L++)S>E&&S<j&&z.push(S);if(r.fillgradient)P=[0];else if("function"==typeof r.fillcolor)if(r.filllevels)for(D=r.filllevels.end+r.filllevels.size/100,R=r.filllevels.size,L=0;L<1e5&&(S=r.filllevels.start+L*R,!(R>0?S>=D:S<=D));L++)S>C[0]&&S<C[1]&&P.push(S);else(P=z.map(function(e){return e-r.levels.size/2})).push(P[P.length-1]+r.levels.size);else r.fillcolor&&"string"==typeof r.fillcolor&&(P=[0]);r.levels.size<0&&(z.reverse(),P.reverse());var F,N=k.h,B=k.w,H=Math.round(r.thickness*("fraction"===r.thicknessmode?B:1)),V=H/k.w,q=Math.round(r.len*("fraction"===r.lenmode?N:1)),G=q/k.h,X=r.xpad/k.w,W=(r.borderwidth+r.outlinewidth)/2,Z=r.ypad/k.h,Y=Math.round(r.x*k.w+r.xpad),U=r.x-V*({middle:.5,right:1}[r.xanchor]||0),Q=r.y+G*(({top:-.5,bottom:.5}[r.yanchor]||0)-.5),J=Math.round(k.h*(1-Q)),K=J-q,$={type:"linear",range:C,tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:r.ticks,ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,exponentformat:r.exponentformat,separatethousands:r.separatethousands,showexponent:r.showexponent,showtickprefix:r.showtickprefix,tickprefix:r.tickprefix,showticksuffix:r.showticksuffix,ticksuffix:r.ticksuffix,title:r.title,titlefont:r.titlefont,showline:!0,anchor:"free",position:1},ee={type:"linear",_id:"y"+t},te={letter:"y",font:v.font,noHover:!0,calendar:v.calendar};if(b($,ee,ve,te,v),_($,ee,ve,te),ee.position=r.x+X+V,A.axis=ee,-1!==["top","bottom"].indexOf(r.titleside)&&(ee.titleside=r.titleside,ee.titlex=r.x+X,ee.titley=Q+("top"===r.titleside?G-Z:Z)),r.line.color&&"auto"===r.tickmode){ee.tickmode="linear",ee.tick0=r.levels.start;var re=r.levels.size,ae=c.constrain((J-K)/50,4,15)+1,ne=(C[1]-C[0])/((r.nticks||ae)*re);if(ne>1){var oe=Math.pow(10,Math.floor(Math.log(ne)/Math.LN10));re*=oe*c.roundUp(ne/oe,[2,5,10]),(Math.abs(r.levels.start)/r.levels.size+1e-6)%1<2e-6&&(ee.tick0=0)}ee.dtick=re}ee.domain=[Q+Z,Q+G-Z],ee.setScale();var ie=c.ensureSingle(v._infolayer,"g",t,function(e){e.classed(T.colorbar,!0).each(function(){var e=a.select(this);e.append("rect").classed(T.cbbg,!0),e.append("g").classed(T.cbfills,!0),e.append("g").classed(T.cblines,!0),e.append("g").classed(T.cbaxis,!0).classed(T.crisp,!0),e.append("g").classed(T.cbtitleunshift,!0).append("g").classed(T.cbtitle,!0),e.append("rect").classed(T.cboutline,!0),e.select(".cbtitle").datum(0)})});ie.attr("transform","translate("+Math.round(k.l)+","+Math.round(k.t)+")");var le=ie.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(k.l)+",-"+Math.round(k.t)+")");ee._axislayer=ie.select(".cbaxis");var se=0;if(-1!==["top","bottom"].indexOf(r.titleside)){var ce,de=k.l+(r.x+X)*k.w,ue=ee.titlefont.size;ce="top"===r.titleside?(1-(Q+G-Z))*k.h+k.t+3+.75*ue:(1-(Q+Z))*k.h+k.t-3-.25*ue,me(ee._id+"title",{attributes:{x:de,y:ce,"text-anchor":"start"}})}var he,fe,pe,ge=c.syncOrAsync([o.previousPromises,function(){if(-1!==["top","bottom"].indexOf(r.titleside)){var o=ie.select(".cbtitle"),i=o.select("text"),s=[-r.outlinewidth/2,r.outlinewidth/2],d=o.select(".h"+ee._id+"title-math-group").node(),u=15.6;if(i.node()&&(u=parseInt(i.node().style.fontSize,10)*m),d?(se=h.bBox(d).height)>u&&(s[1]-=(se-u)/2):i.node()&&!i.classed(T.jsPlaceholder)&&(se=h.bBox(i.node()).height),se){if(se+=5,"top"===r.titleside)ee.domain[1]-=se/k.h,s[1]*=-1;else{ee.domain[0]+=se/k.h;var f=g.lineCount(i);s[1]+=(1-f)*u}o.attr("transform","translate("+s+")"),ee.setScale()}}ie.selectAll(".cbfills,.cblines").attr("transform","translate(0,"+Math.round(k.h*(1-ee.domain[1]))+")"),ee._axislayer.attr("transform","translate(0,"+Math.round(-k.t)+")");var p=ie.select(".cbfills").selectAll("rect.cbfill").data(P);p.enter().append("rect").classed(T.cbfill,!0).style("stroke","none"),p.exit().remove();var y=C.map(ee.c2p).map(Math.round).sort(function(e,t){return e-t});p.each(function(o,i){var l=[0===i?C[0]:(P[i]+P[i-1])/2,i===P.length-1?C[1]:(P[i]+P[i+1])/2].map(ee.c2p).map(Math.round);l[1]=c.constrain(l[1]+(l[1]>l[0])?1:-1,y[0],y[1]);var s=a.select(this).attr({x:Y,width:Math.max(H,2),y:a.min(l),height:Math.max(a.max(l)-a.min(l),2)});if(r.fillgradient)h.gradient(s,e,t,"vertical",r.fillgradient,"fill");else{var d=I(o).replace("e-","");s.attr("fill",n(d).toHexString())}});var x=ie.select(".cblines").selectAll("path.cbline").data(r.line.color&&r.line.width?z:[]);return x.enter().append("path").classed(T.cbline,!0),x.exit().remove(),x.each(function(e){a.select(this).attr("d","M"+Y+","+(Math.round(ee.c2p(e))+r.line.width/2%1)+"h"+H).call(h.lineGroupStyle,r.line.width,O(e),r.line.dash)}),ee._axislayer.selectAll("g."+ee._id+"tick,path").remove(),ee._pos=Y+H+(r.outlinewidth||0)/2-("outside"===r.ticks?1:0),ee.side="right",c.syncOrAsync([function(){return l.doTicksSingle(e,ee,!0)},function(){if(-1===["top","bottom"].indexOf(r.titleside)){var t=ee.titlefont.size,n=ee._offset+ee._length/2,o=k.l+(ee.position||0)*k.w+("right"===ee.side?10+t*(ee.showticklabels?1:.5):-10-t*(ee.showticklabels?.5:0));me("h"+ee._id+"title",{avoid:{selection:a.select(e).selectAll("g."+ee._id+"tick"),side:r.titleside,offsetLeft:k.l,offsetTop:0,maxShift:v.width},attributes:{x:o,y:n,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}])},o.previousPromises,function(){var a=H+r.outlinewidth/2+h.bBox(ee._axislayer.node()).width;if((F=le.select("text")).node()&&!F.classed(T.jsPlaceholder)){var n,i=le.select(".h"+ee._id+"title-math-group").node();n=i&&-1!==["top","bottom"].indexOf(r.titleside)?h.bBox(i).width:h.bBox(le.node()).right-Y-k.l,a=Math.max(a,n)}var l=2*r.xpad+a+r.borderwidth+r.outlinewidth/2,s=J-K;ie.select(".cbbg").attr({x:Y-r.xpad-(r.borderwidth+r.outlinewidth)/2,y:K-W,width:Math.max(l,2),height:Math.max(s+2*W,2)}).call(f.fill,r.bgcolor).call(f.stroke,r.bordercolor).style({"stroke-width":r.borderwidth}),ie.selectAll(".cboutline").attr({x:Y,y:K+r.ypad+("top"===r.titleside?se:0),width:Math.max(H,2),height:Math.max(s-2*r.ypad-se,2)}).call(f.stroke,r.outlinecolor).style({fill:"None","stroke-width":r.outlinewidth});var c=({center:.5,right:1}[r.xanchor]||0)*l;ie.attr("transform","translate("+(k.l-c)+","+k.t+")");var d={},u=y[r.yanchor],p=x[r.yanchor];"pixels"===r.lenmode?(d.y=r.y,d.t=s*u,d.b=s*p):(d.t=d.b=0,d.yt=r.y+r.len*u,d.yb=r.y-r.len*p);var g=y[r.xanchor],v=x[r.xanchor];if("pixels"===r.thicknessmode)d.x=r.x,d.l=l*g,d.r=l*v;else{var m=l-H;d.l=m*g,d.r=m*v,d.xl=r.x-r.thickness*g,d.xr=r.x+r.thickness*v}o.autoMargin(e,t,d)}],e);if(ge&&ge.then&&(e._promises||[]).push(ge),e._context.edits.colorbarPosition)s.init({element:ie.node(),gd:e,prepFn:function(){he=ie.attr("transform"),u(ie)},moveFn:function(e,t){ie.attr("transform",he+" translate("+e+","+t+")"),fe=s.align(U+e/k.w,V,0,1,r.xanchor),pe=s.align(Q-t/k.h,G,0,1,r.yanchor);var a=s.getCursor(fe,pe,r.xanchor,r.yanchor);u(ie,a)},doneFn:function(){u(ie),void 0!==fe&&void 0!==pe&&i.call("restyle",e,{"colorbar.x":fe,"colorbar.y":pe},M().index)}});return ge}function ve(e,t){return c.coerce($,ee,w,e,t)}function me(t,r){var a=M(),n="colorbar.title",o=a._module.colorbar.container;o&&(n=o+"."+n);var i={propContainer:ee,propName:n,traceIndex:a.index,placeholder:v._dfltTitle.colorbar,containerGroup:ie.select(".cbtitle")},l="h"===t.charAt(0)?t.substr(1):"h"+t;ie.selectAll("."+l+",."+l+"-math-group").remove(),p.draw(e,t,d(i,r||{}))}v._infolayer.selectAll("g."+t).remove()}function M(){var r,a,n=t.substr(2);for(r=0;r<e._fullData.length;r++)if((a=e._fullData[r]).uid===n)return a}return r.fillcolor=null,r.line={color:null,width:null,dash:null},r.levels={start:null,end:null,size:null},r.filllevels=null,r.fillgradient=null,r.zrange=null,Object.keys(r).forEach(function(e){A[e]=function(t){return arguments.length?(r[e]=c.isPlainObject(r[e])?c.extendFlat(r[e],t):t,A):r[e]}}),A.options=function(e){for(var t in e)"function"==typeof A[t]&&A[t](e[t]);return A},A._opts=r,A}},function(e,t,r){"use strict";e.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},function(e,t,r){"use strict";var a=r(37),n=r(23),o=r(49),i=r(22),l=r(91).sorterAsc,s=r(5);t.containerArrayMatch=r(383);var c=t.isAddVal=function(e){return"add"===e||n(e)},d=t.isRemoveVal=function(e){return null===e||"remove"===e};t.applyContainerArrayChanges=function(e,t,r,n){var u=t.astr,h=s.getComponentMethod(u,"supplyLayoutDefaults"),f=s.getComponentMethod(u,"draw"),p=s.getComponentMethod(u,"drawOne"),g=n.replot||n.recalc||h===o||f===o,v=e.layout,m=e._fullLayout;if(r[""]){Object.keys(r).length>1&&i.warn("Full array edits are incompatible with other edits",u);var y=r[""][""];if(d(y))t.set(null);else{if(!Array.isArray(y))return i.warn("Unrecognized full array edit value",u,y),!0;t.set(y)}return!g&&(h(v,m),f(e),!0)}var x,b,_,w,k,T,A,M=Object.keys(r).map(Number).sort(l),S=t.get(),L=S||[],C=a(m,u).get(),z=[],P=-1,O=L.length;for(x=0;x<M.length;x++)if(w=r[_=M[x]],k=Object.keys(w),T=w[""],A=c(T),_<0||_>L.length-(A?0:1))i.warn("index out of range",u,_);else if(void 0!==T)k.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",u,_),d(T)?z.push(_):A?("add"===T&&(T={}),L.splice(_,0,T),C&&C.splice(_,0,{})):i.warn("Unrecognized full object edit value",u,_,T),-1===P&&(P=_);else for(b=0;b<k.length;b++)a(L[_],k[b]).set(w[k[b]]);for(x=z.length-1;x>=0;x--)L.splice(z[x],1),C&&C.splice(z[x],1);if(L.length?S||t.set(L):t.set(null),g)return!1;if(h(v,m),p!==o){var I;if(-1===P)I=M;else{for(O=Math.max(L.length,O),I=[],x=0;x<M.length&&!((_=M[x])>=P);x++)I.push(_);for(x=P;x<O;x++)I.push(x)}for(x=0;x<I.length;x++)p(e,I[x])}else f(e);return!0}},function(e,t,r){"use strict";var a=r(5);e.exports=function(e){for(var t,r,n=a.layoutArrayContainers,o=a.layoutArrayRegexes,i=e.split("[")[0],l=0;l<o.length;l++)if((r=e.match(o[l]))&&0===r.index){t=r[0];break}if(t||(t=n[n.indexOf(i)]),!t)return!1;var s=e.substr(t.length);return s?!!(r=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:t,index:Number(r[1]),property:r[3]||""}:{array:t,index:"",property:""}}},function(e,t,r){"use strict";var a=r(1),n=r(385),o=r(5),i=r(0),l=r(43),s=r(27),c=s.cleanId,d=s.getFromTrace,u=r(11);function h(e,t){var r=e[t],a=t.charAt(0);r&&"paper"!==r&&(e[t]=c(r,a))}function f(e){if(!i.isPlainObject(e))return!1;var t=e.name;return delete e.name,delete e.showlegend,("string"==typeof t||"number"==typeof t)&&String(t)}function p(e,t,r,a){if(r&&!a)return e;if(a&&!r)return t;if(!e.trim())return t;if(!t.trim())return e;var n,o=Math.min(e.length,t.length);for(n=0;n<o&&e.charAt(n)===t.charAt(n);n++);return e.substr(0,n).trim()}function g(e){var t="middle",r="center";return-1!==e.indexOf("top")?t="top":-1!==e.indexOf("bottom")&&(t="bottom"),-1!==e.indexOf("left")?r="left":-1!==e.indexOf("right")&&(r="right"),t+" "+r}function v(e,t){return t in e&&"object"==typeof e[t]&&0===Object.keys(e[t]).length}t.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&i.log("Clearing previous rejected promises from queue."),e._promises=[]},t.cleanLayout=function(e){var t,r;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var a=(l.subplotsRegistry.cartesian||{}).attrRegex,o=(l.subplotsRegistry.gl3d||{}).attrRegex,s=Object.keys(e);for(t=0;t<s.length;t++){var d=s[t];if(a&&a.test(d)){var f=e[d];f.anchor&&"free"!==f.anchor&&(f.anchor=c(f.anchor)),f.overlaying&&(f.overlaying=c(f.overlaying)),f.type||(f.isdate?f.type="date":f.islog?f.type="log":!1===f.isdate&&!1===f.islog&&(f.type="linear")),"withzero"!==f.autorange&&"tozero"!==f.autorange||(f.autorange=!0,f.rangemode="tozero"),delete f.islog,delete f.isdate,delete f.categories,v(f,"domain")&&delete f.domain,void 0!==f.autotick&&(void 0===f.tickmode&&(f.tickmode=f.autotick?"auto":"linear"),delete f.autotick)}else if(o&&o.test(d)){var p=e[d],g=p.cameraposition;if(Array.isArray(g)&&4===g[0].length){var m=g[0],y=g[1],x=g[2],b=n([],m),_=[];for(r=0;r<3;++r)_[r]=y[r]+x*b[2+4*r];p.camera={eye:{x:_[0],y:_[1],z:_[2]},center:{x:y[0],y:y[1],z:y[2]},up:{x:b[1],y:b[5],z:b[9]}},delete p.cameraposition}}}var w=Array.isArray(e.annotations)?e.annotations.length:0;for(t=0;t<w;t++){var k=e.annotations[t];i.isPlainObject(k)&&(k.ref&&("paper"===k.ref?(k.xref="paper",k.yref="paper"):"data"===k.ref&&(k.xref="x",k.yref="y"),delete k.ref),h(k,"xref"),h(k,"yref"))}var T=Array.isArray(e.shapes)?e.shapes.length:0;for(t=0;t<T;t++){var A=e.shapes[t];i.isPlainObject(A)&&(h(A,"xref"),h(A,"yref"))}var M=e.legend;return M&&(M.x>3?(M.x=1.02,M.xanchor="left"):M.x<-2&&(M.x=-.02,M.xanchor="right"),M.y>3?(M.y=1.02,M.yanchor="bottom"):M.y<-2&&(M.y=-.02,M.yanchor="top")),"rotate"===e.dragmode&&(e.dragmode="orbit"),u.clean(e),e},t.cleanData=function(e){for(var r=0;r<e.length;r++){var a,n=e[r];if("histogramy"===n.type&&"xbins"in n&&!("ybins"in n)&&(n.ybins=n.xbins,delete n.xbins),n.error_y&&"opacity"in n.error_y){var s=u.defaults,d=n.error_y.color||(o.traceIs(n,"bar")?u.defaultLine:s[r%s.length]);n.error_y.color=u.addOpacity(u.rgb(d),u.opacity(d)*n.error_y.opacity),delete n.error_y.opacity}if("bardir"in n&&("h"!==n.bardir||!o.traceIs(n,"bar")&&"histogram"!==n.type.substr(0,9)||(n.orientation="h",t.swapXYData(n)),delete n.bardir),"histogramy"===n.type&&t.swapXYData(n),"histogramx"!==n.type&&"histogramy"!==n.type||(n.type="histogram"),"scl"in n&&(n.colorscale=n.scl,delete n.scl),"reversescl"in n&&(n.reversescale=n.reversescl,delete n.reversescl),n.xaxis&&(n.xaxis=c(n.xaxis,"x")),n.yaxis&&(n.yaxis=c(n.yaxis,"y")),o.traceIs(n,"gl3d")&&n.scene&&(n.scene=l.subplotsRegistry.gl3d.cleanId(n.scene)),!o.traceIs(n,"pie")&&!o.traceIs(n,"bar"))if(Array.isArray(n.textposition))for(a=0;a<n.textposition.length;a++)n.textposition[a]=g(n.textposition[a]);else n.textposition&&(n.textposition=g(n.textposition));var h=o.getModule(n);if(h&&h.colorbar){var m=h.colorbar.container,y=m?n[m]:n;y&&y.colorscale&&("YIGnBu"===y.colorscale&&(y.colorscale="YlGnBu"),"YIOrRd"===y.colorscale&&(y.colorscale="YlOrRd"))}if("surface"===n.type&&i.isPlainObject(n.contours)){var x=["x","y","z"];for(a=0;a<x.length;a++){var b=n.contours[x[a]];i.isPlainObject(b)&&(b.highlightColor&&(b.highlightcolor=b.highlightColor,delete b.highlightColor),b.highlightWidth&&(b.highlightwidth=b.highlightWidth,delete b.highlightWidth))}}if("candlestick"===n.type||"ohlc"===n.type){var _=!1!==(n.increasing||{}).showlegend,w=!1!==(n.decreasing||{}).showlegend,k=f(n.increasing),T=f(n.decreasing);if(!1!==k&&!1!==T){var A=p(k,T,_,w);A&&(n.name=A)}else!k&&!T||n.name||(n.name=k||T)}if(Array.isArray(n.transforms)){var M=n.transforms;for(a=0;a<M.length;a++){var S=M[a];if(i.isPlainObject(S))switch(S.type){case"filter":S.filtersrc&&(S.target=S.filtersrc,delete S.filtersrc),S.calendar&&(S.valuecalendar||(S.valuecalendar=S.calendar),delete S.calendar);break;case"groupby":if(S.styles=S.styles||S.style,S.styles&&!Array.isArray(S.styles)){var L=S.styles,C=Object.keys(L);S.styles=[];for(var z=0;z<C.length;z++)S.styles.push({target:C[z],value:L[C[z]]})}}}}v(n,"line")&&delete n.line,"marker"in n&&(v(n.marker,"line")&&delete n.marker.line,v(n,"marker")&&delete n.marker),u.clean(n),n.autobinx&&(delete n.autobinx,delete n.xbins),n.autobiny&&(delete n.autobiny,delete n.ybins)}},t.swapXYData=function(e){var t;if(i.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var r=e.error_y,a="copy_ystyle"in r?r.copy_ystyle:!(r.color||r.thickness||r.width);i.swapAttrs(e,["error_?.copy_ystyle"]),a&&i.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof e.hoverinfo){var n=e.hoverinfo.split("+");for(t=0;t<n.length;t++)"x"===n[t]?n[t]="y":"y"===n[t]&&(n[t]="x");e.hoverinfo=n.join("+")}},t.coerceTraceIndices=function(e,t){if(a(t))return[t];if(!Array.isArray(t)||!t.length)return e.data.map(function(e,t){return t});if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)i.isIndex(t[n],e.data.length)?r.push(t[n]):i.warn("trace index (",t[n],") is not a number or is out of bounds");return r}return t},t.manageArrayContainers=function(e,t,r){var n=e.obj,o=e.parts,l=o.length,s=o[l-1],c=a(s);if(c&&null===t){var d=o.slice(0,l-1).join(".");i.nestedProperty(n,d).get().splice(s,1)}else c&&void 0===e.get()?(void 0===e.get()&&(r[e.astr]=null),e.set(t)):e.set(t)};var m=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function y(e){var t=e.search(m);if(t>0)return e.substr(0,t)}t.hasParent=function(e,t){for(var r=y(t);r;){if(r in e)return!0;r=y(r)}return!1};var x=["x","y","z"];t.clearAxisTypes=function(e,t,r){for(var a=0;a<t.length;a++)for(var n=e._fullData[a],o=0;o<3;o++){var l=d(e,n,x[o]);if(l&&"log"!==l.type){var s=l._name,c=l._id.substr(1);if("scene"===c.substr(0,5)){if(void 0!==r[c])continue;s=c+"."+s}var u=s+".type";void 0===r[s]&&void 0===r[u]&&i.nestedProperty(e.layout,u).set(null)}}}},function(e,t){e.exports=function(e,t){var r=t[0],a=t[1],n=t[2],o=t[3],i=r+r,l=a+a,s=n+n,c=r*i,d=a*i,u=a*l,h=n*i,f=n*l,p=n*s,g=o*i,v=o*l,m=o*s;return e[0]=1-u-p,e[1]=d+m,e[2]=h-v,e[3]=0,e[4]=d-m,e[5]=1-c-p,e[6]=f+g,e[7]=0,e[8]=h+v,e[9]=f-g,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},function(e,t,r){"use strict";var a=r(0),n=r(43),o=r(46),i=r(78),l=a.isPlainObject,s=Array.isArray,c=a.isArrayOrTypedArray;function d(e,t,r,n,o,i){i=i||[];for(var u=Object.keys(e),h=0;h<u.length;h++){var v=u[h];if("transforms"!==v){var m=i.slice();m.push(v);var y=e[v],x=t[v],b=g(r,v),_="info_array"===(b||{}).valType,w="colorscale"===(b||{}).valType,k=(b||{}).items;if(p(r,v))if(l(y)&&l(x))d(y,x,b,n,o,m);else if(_&&s(y)){y.length>x.length&&n.push(f("unused",o,m.concat(x.length)));var T,A,M,S,L,C=x.length,z=Array.isArray(k);if(z&&(C=Math.min(C,k.length)),2===b.dimensions)for(A=0;A<C;A++)if(s(y[A])){y[A].length>x[A].length&&n.push(f("unused",o,m.concat(A,x[A].length)));var P=x[A].length;for(T=0;T<(z?Math.min(P,k[A].length):P);T++)M=z?k[A][T]:k,S=y[A][T],L=x[A][T],a.validate(S,M)?L!==S&&L!==+S&&n.push(f("dynamic",o,m.concat(A,T),S,L)):n.push(f("value",o,m.concat(A,T),S))}else n.push(f("array",o,m.concat(A),y[A]));else for(A=0;A<C;A++)M=z?k[A]:k,S=y[A],L=x[A],a.validate(S,M)?L!==S&&L!==+S&&n.push(f("dynamic",o,m.concat(A),S,L)):n.push(f("value",o,m.concat(A),S))}else if(b.items&&!_&&s(y)){var O,I,D=k[Object.keys(k)[0]],R=[];for(O=0;O<x.length;O++){var E=x[O]._index||O;if((I=m.slice()).push(E),l(y[E])&&l(x[O])){R.push(E);var j=y[E],F=x[O];l(j)&&!1!==j.visible&&!1===F.visible?n.push(f("invisible",o,I)):d(j,F,D,n,o,I)}}for(O=0;O<y.length;O++)(I=m.slice()).push(O),l(y[O])?-1===R.indexOf(O)&&n.push(f("unused",o,I)):n.push(f("object",o,I,y[O]))}else!l(y)&&l(x)?n.push(f("object",o,m,y)):c(y)||!c(x)||_||w?v in t?a.validate(y,b)?"enumerated"===b.valType&&(b.coerceNumber&&y!==+x||y!==x)&&n.push(f("dynamic",o,m,y,x)):n.push(f("value",o,m,y)):n.push(f("unused",o,m,y)):n.push(f("array",o,m,y));else n.push(f("schema",o,m))}}return n}e.exports=function(e,t){var r,c,u=o.get(),h=[],p={_context:a.extendFlat({},i)};s(e)?(p.data=a.extendDeep([],e),r=e):(p.data=[],r=[],h.push(f("array","data"))),l(t)?(p.layout=a.extendDeep({},t),c=t):(p.layout={},c={},arguments.length>1&&h.push(f("object","layout"))),n.supplyDefaults(p);for(var g=p._fullData,v=r.length,m=0;m<v;m++){var y=r[m],x=["data",m];if(l(y)){var b=g[m],_=b.type,w=u.traces[_].attributes;w.type={valType:"enumerated",values:[_]},!1===b.visible&&!1!==y.visible&&h.push(f("invisible",x)),d(y,b,w,h,x);var k=y.transforms,T=b.transforms;if(k){s(k)||h.push(f("array",x,["transforms"])),x.push("transforms");for(var A=0;A<k.length;A++){var M=["transforms",A],S=k[A].type;if(l(k[A])){var L=u.transforms[S]?u.transforms[S].attributes:{};L.type={valType:"enumerated",values:Object.keys(u.transforms)},d(k[A],T[A],L,h,x,M)}else h.push(f("object",x,M))}}}else h.push(f("object",x))}return d(c,p._fullLayout,function(e,t){for(var r=e.layout.layoutAttributes,n=0;n<t.length;n++){var o=t[n],i=e.traces[o.type],l=i.layoutAttributes;l&&(o.subplot?a.extendFlat(r[i.attributes.subplot.dflt],l):a.extendFlat(r,l))}return r}(u,g),h,"layout"),0===h.length?void 0:h};var u={object:function(e,t){return("layout"===e&&""===t?"The layout argument":"data"===e[0]&&""===t?"Trace "+e[1]+" in the data argument":h(e)+"key "+t)+" must be linked to an object container"},array:function(e,t){return("data"===e?"The data argument":h(e)+"key "+t)+" must be linked to an array container"},schema:function(e,t){return h(e)+"key "+t+" is not part of the schema"},unused:function(e,t,r){var a=l(r)?"container":"key";return h(e)+a+" "+t+" did not get coerced"},dynamic:function(e,t,r,a){return[h(e)+"key",t,"(set to '"+r+"')","got reset to","'"+a+"'","during defaults."].join(" ")},invisible:function(e,t){return(t?h(e)+"item "+t:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,t,r){return[h(e)+"key "+t,"is set to an invalid value ("+r+")"].join(" ")}};function h(e){return s(e)?"In data trace "+e[1]+", ":"In "+e+", "}function f(e,t,r,n,o){var i,l;r=r||"",s(t)?(i=t[0],l=t[1]):(i=t,l=null);var c=function(e){if(!s(e))return String(e);for(var t="",r=0;r<e.length;r++){var a=e[r];"number"==typeof a?t=t.substr(0,t.length-1)+"["+a+"]":t+=a,r<e.length-1&&(t+=".")}return t}(r),d=u[e](t,c,n,o);return a.log(d),{code:e,container:i,trace:l,path:r,astr:c,msg:d}}function p(e,t){var r=m(t),a=r.keyMinusId,n=r.id;return!!(a in e&&e[a]._isSubplotObj&&n)||t in e}function g(e,t){return t in e?e[t]:e[m(t).keyMinusId]}var v=a.counterRegex("([a-z]+)");function m(e){var t=e.match(v);return{keyMinusId:t&&t[1],id:t&&t[2]}}},function(e,t,r){"use strict";e.exports=function(e,t){var r=document.createElement("a"),a="download"in r,n=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);return new Promise(function(o,i){if("undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)&&i(new Error("IE < 10 unsupported")),n&&(document.location.href="data:application/octet-stream"+e.slice(e.search(/[,;]/)),o(t)),t||(t="download"),a&&(r.href=e,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),o(t)),"undefined"!=typeof navigator&&navigator.msSaveBlob){var l=e.split(/^data:image\/svg\+xml,/)[1],s=decodeURIComponent(l);navigator.msSaveBlob(new Blob([s]),t),o(t)}i(new Error("download error"))})}},function(e,t,r){"use strict";var a=r(0),n=a.isPlainObject,o=r(46),i=r(43),l=r(16),s=r(19),c=r(78);function d(e,t){e=a.extendDeep({},e);var r,o,i=Object.keys(e).sort();function l(t,r,a){if(n(r)&&n(t))d(t,r);else if(Array.isArray(r)&&Array.isArray(t)){var i=s.arrayTemplater({_template:e},a);for(o=0;o<r.length;o++){var l=r[o],c=i.newItem(l)._template;c&&d(c,l)}var u=i.defaultItems();for(o=0;o<u.length;o++)r.push(u[o]._template);for(o=0;o<r.length;o++)delete r[o].templateitemname}}for(r=0;r<i.length;r++){var c=i[r],h=e[c];if(c in t?l(h,t[c],c):t[c]=h,u(c)===c)for(var f in t){var p=u(f);f===p||p!==c||f in e||l(h,t[f],c)}}}function u(e){return e.replace(/[0-9]+$/,"")}function h(e,t,r,o,i){var l=i&&r(i);for(var c in e){var d=e[c],p=f(e,c,o),g=f(e,c,i),v=r(g);if(!v){var m=u(c);m!==c&&(v=r(g=f(e,m,i)))}if((!l||l!==v)&&!(!v||v._noTemplating||"data_array"===v.valType||v.arrayOk&&Array.isArray(d)))if(!v.valType&&n(d))h(d,t,r,p,g);else if(v._isLinkedToArray&&Array.isArray(d))for(var y=!1,x=0,b={},_=0;_<d.length;_++){var w=d[_];if(n(w)){var k=w.name;if(k)b[k]||(h(w,t,r,f(d,x,p),f(d,x,g)),x++,b[k]=1);else if(!y){var T=f(e,s.arrayDefaultKey(c),o),A=f(d,x,p);h(w,t,r,A,f(d,x,g));var M=a.nestedProperty(t,A);a.nestedProperty(t,T).set(M.get()),M.set(null),y=!0}}}else{a.nestedProperty(t,p).set(d)}}}function f(e,t,r){return r?Array.isArray(e)?r+"["+t+"]":r+"."+t:t}function p(e){for(var t=0;t<e.length;t++)if(n(e[t]))return!0}function g(e){var t;switch(e.code){case"data":t="The template has no key data.";break;case"layout":t="The template has no key layout.";break;case"missing":t=e.path?"There are no templates for item "+e.path+" with name "+e.templateitemname:"There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":t=e.path?"The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?"Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":"The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":t="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type."}return e.msg=t,e}t.makeTemplate=function(e){e=a.extendDeep({_context:c},{data:e.data,layout:e.layout}),i.supplyDefaults(e);var t=e.data||[],r=e.layout||{};r._basePlotModules=e._fullLayout._basePlotModules,r._modules=e._fullLayout._modules;var s={data:{},layout:{}};t.forEach(function(e){var t={};h(e,t,function(e,t){return o.getTraceValObject(e,a.nestedProperty({},t).parts)}.bind(null,e));var r=a.coerce(e,{},l,"type"),n=s.data[r];n||(n=s.data[r]=[]),n.push(t)}),h(r,s.layout,function(e,t){return o.getLayoutValObject(e,a.nestedProperty({},t).parts)}.bind(null,r)),delete s.layout.template;var u=r.template;if(n(u)){var f,p,g,v,m,y,x=u.layout;n(x)&&d(x,s.layout);var b=u.data;if(n(b)){for(p in s.data)if(g=b[p],Array.isArray(g)){for(y=(m=s.data[p]).length,v=g.length,f=0;f<y;f++)d(g[f%v],m[f]);for(f=y;f<v;f++)m.push(a.extendDeep({},g[f]))}for(p in b)p in s.data||(s.data[p]=a.extendDeep([],b[p]))}}return s},t.validateTemplate=function(e,t){var r=a.extendDeep({},{_context:c,data:e.data,layout:e.layout}),o=r.layout||{};n(t)||(t=o.template||{});var l=t.layout,s=t.data,d=[];r.layout=o,r.layout.template=t,i.supplyDefaults(r);var h=r._fullLayout,v=r._fullData,m={};if(n(l)?(!function e(t,r){for(var a in t)if("_"!==a.charAt(0)&&n(t[a])){var o,i=u(a),l=[];for(o=0;o<r.length;o++)l.push(f(t,a,r[o])),i!==a&&l.push(f(t,i,r[o]));for(o=0;o<l.length;o++)m[l[o]]=1;e(t[a],l)}}(h,["layout"]),function e(t,r){for(var a in t)if(-1===a.indexOf("defaults")&&n(t[a])){var o=f(t,a,r);m[o]?e(t[a],o):d.push({code:"unused",path:o})}}(l,"layout")):d.push({code:"layout"}),n(s)){for(var y,x={},b=0;b<v.length;b++){var _=v[b];x[y=_.type]=(x[y]||0)+1,_._fullInput._template||d.push({code:"missing",index:_._fullInput.index,traceType:y})}for(y in s){var w=s[y].length,k=x[y]||0;w>k?d.push({code:"unused",traceType:y,templateCount:w,dataCount:k}):k>w&&d.push({code:"reused",traceType:y,templateCount:w,dataCount:k})}}else d.push({code:"data"});if(function e(t,r){for(var a in t)if("_"!==a.charAt(0)){var o=t[a],i=f(t,a,r);n(o)?(Array.isArray(t)&&!1===o._template&&o.templateitemname&&d.push({code:"missing",path:i,templateitemname:o.templateitemname}),e(o,i)):Array.isArray(o)&&p(o)&&e(o,i)}}({data:v,layout:h},""),d.length)return d.map(g)}},function(e,t,r){"use strict";e.exports={moduleType:"component",name:"legend",layoutAttributes:r(347),supplyLayoutDefaults:r(390),draw:r(391),style:r(348)}},function(e,t,r){"use strict";var a=r(5),n=r(0),o=r(19),i=r(347),l=r(33),s=r(317);e.exports=function(e,t,r){for(var c,d,u,h,f=e.legend||{},p=0,g=!1,v="normal",m=0;m<r.length;m++){var y=r[m];y.visible&&((y.showlegend||y._dfltShowLegend)&&(p++,y.showlegend&&(g=!0,(a.traceIs(y,"pie")||!0===y._input.showlegend)&&p++)),(a.traceIs(y,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(y.fill))&&(v=s.isGrouped({traceorder:v})?"grouped+reversed":"reversed"),void 0!==y.legendgroup&&""!==y.legendgroup&&(v=s.isReversed({traceorder:v})?"reversed+grouped":"grouped"))}if(!1!==n.coerce(e,t,l,"showlegend",g&&p>1)){var x=o.newContainer(t,"legend");if(_("bgcolor",t.paper_bgcolor),_("bordercolor"),_("borderwidth"),n.coerceFont(_,"font",t.font),_("orientation"),"h"===x.orientation){var b=e.xaxis;b&&b.rangeslider&&b.rangeslider.visible?(c=0,u="left",d=1.1,h="bottom"):(c=0,u="left",d=-.1,h="top")}_("traceorder",v),s.isGrouped(t.legend)&&_("tracegroupgap"),_("x",c),_("xanchor",u),_("y",d),_("yanchor",h),n.noneOrAll(f,x,["x","y"])}function _(e,t){return n.coerce(f,x,i,e,t)}}},function(e,t,r){"use strict";var a=r(3),n=r(0),o=r(43),i=r(5),l=r(205),s=r(199),c=r(26),d=r(11),u=r(29),h=r(392),f=r(393),p=r(32),g=r(20),v=g.LINE_SPACING,m=g.FROM_TL,y=g.FROM_BR,x=r(394),b=r(348),_=r(317),w=r(276),k=p.DBLCLICKDELAY;function T(e,t,r,a,n){var o=r.data()[0][0].trace,i={event:n,node:r.node(),curveNumber:o.index,expandedIndex:o._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};if(o._group&&(i.group=o._group),"pie"===o.type&&(i.label=r.datum()[0].label),!1!==l.triggerHandler(e,"plotly_legendclick",i))if(1===a)t._clickTimeout=setTimeout(function(){h(r,e,a)},k);else if(2===a){t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0,!1!==l.triggerHandler(e,"plotly_legenddoubleclick",i)&&h(r,e,a)}}function A(e,t,r){var a=e.data()[0][0],o=t._fullLayout,l=a.trace,s=i.traceIs(l,"pie"),d=l.index,h=s?a.label:l.name,p=t._context.edits.legendText&&!s,g=n.ensureSingle(e,"text","legendtext");function m(r){u.convertToTspans(r,t,function(){!function(e,t){var r=e.data()[0][0];if(!r.trace.showlegend)return void e.remove();var a,n,o=e.select("g[class*=math-group]"),i=o.node(),l=t._fullLayout.legend.font.size*v;if(i){var s=c.bBox(i);a=s.height,n=s.width,c.setTranslate(o,0,a/4)}else{var d=e.select(".legendtext"),h=u.lineCount(d),p=d.node();a=l*h,n=p?c.bBox(p).width:0;var g=l*(.3+(1-h)/2);u.positionText(d,f.textOffsetX,g)}a=Math.max(a,16)+3,r.height=a,r.width=n}(e,t)})}g.attr("text-anchor","start").classed("user-select-none",!0).call(c.font,o.legend.font).text(p?M(h,r):h),u.positionText(g,f.textOffsetX,0),p?g.call(u.makeEditable,{gd:t,text:h}).call(m).on("edit",function(e){this.text(M(e,r)).call(m);var o=a.trace._fullInput||{},l={};if(i.hasTransform(o,"groupby")){var s=i.getTransformIndices(o,"groupby"),c=s[s.length-1],u=n.keyedContainer(o,"transforms["+c+"].styles","target","value.name");u.set(a.trace._group,e),l=u.constructUpdate()}else l.name=e;return i.call("restyle",t,l,d)}):m(g)}function M(e,t){var r=Math.max(4,t);if(e&&e.trim().length>=r/2)return e;for(var a=r-(e=e||"").length;a>0;a--)e+=" ";return e}function S(e,t){var r,o=1,i=n.ensureSingle(e,"rect","legendtoggle",function(e){e.style("cursor","pointer").attr("pointer-events","all").call(d.fill,"rgba(0,0,0,0)")});i.on("mousedown",function(){(r=(new Date).getTime())-t._legendMouseDownTime<k?o+=1:(o=1,t._legendMouseDownTime=r)}),i.on("mouseup",function(){if(!t._dragged&&!t._editing){var r=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>k&&(o=Math.max(o-1,1)),T(t,r,e,o,a.event)}})}function L(e,t,r){var n=e._fullLayout,o=n.legend,i=o.borderwidth,l=_.isGrouped(o),s=0;if(o._width=0,o._height=0,_.isVertical(o))l&&t.each(function(e,t){c.setTranslate(this,0,t*o.tracegroupgap)}),r.each(function(e){var t=e[0],r=t.height,a=t.width;c.setTranslate(this,i,5+i+o._height+r/2),o._height+=r,o._width=Math.max(o._width,a)}),o._width+=45+2*i,o._height+=10+2*i,l&&(o._height+=(o._lgroupsLength-1)*o.tracegroupgap),s=40;else if(l){for(var d=[o._width],u=t.data(),h=0,f=u.length;h<f;h++){var p=u[h].map(function(e){return e[0].width}),g=40+Math.max.apply(null,p);o._width+=o.tracegroupgap+g,d.push(o._width)}t.each(function(e,t){c.setTranslate(this,d[t],0)}),t.each(function(){var e=0;a.select(this).selectAll("g.traces").each(function(t){var r=t[0].height;c.setTranslate(this,0,5+i+e+r/2),e+=r}),o._height=Math.max(o._height,e)}),o._height+=10+2*i,o._width+=2*i}else{var v,m=0,y=0,x=0,b=0,w=0,k=o.tracegroupgap||5;r.each(function(e){x=Math.max(40+e[0].width,x),w+=40+e[0].width+k}),v=n._size.w>i+w-k,r.each(function(e){var t=e[0],r=v?40+e[0].width:x;i+b+k+r>n._size.w&&(b=0,m+=y,o._height=o._height+y,y=0),c.setTranslate(this,i+b,5+i+t.height/2+m),o._width+=k+r,o._height=Math.max(o._height,t.height),b+=k+r,y=Math.max(t.height,y)}),o._width+=2*i,o._height+=10+2*i}o._width=Math.ceil(o._width),o._height=Math.ceil(o._height);var T=e._context.edits.legendText||e._context.edits.legendPosition;r.each(function(e){var t=e[0],r=a.select(this).select(".legendtoggle");c.setRect(r,0,-t.height/2,(T?0:o._width)+s,t.height)})}function C(e){var t=e._fullLayout.legend,r="left";w.isRightAnchor(t)?r="right":w.isCenterAnchor(t)&&(r="center");var a="top";w.isBottomAnchor(t)?a="bottom":w.isMiddleAnchor(t)&&(a="middle"),o.autoMargin(e,"legend",{x:t.x,y:t.y,l:t._width*m[r],r:t._width*y[r],b:t._height*y[a],t:t._height*m[a]})}e.exports=function(e){var t=e._fullLayout,r="legend"+t._uid;if(t._infolayer&&e.calcdata){e._legendMouseDownTime||(e._legendMouseDownTime=0);var l=t.legend,u=t.showlegend&&x(e.calcdata,l),h=t.hiddenlabels||[];if(!t.showlegend||!u.length)return t._infolayer.selectAll(".legend").remove(),t._topdefs.select("#"+r).remove(),void o.autoMargin(e,"legend");for(var p=0,g=0;g<u.length;g++)for(var v=0;v<u[g].length;v++){var _=u[g][v][0],k=_.trace,M=i.traceIs(k,"pie")?_.label:k.name;p=Math.max(p,M&&M.length||0)}var z=!1,P=n.ensureSingle(t._infolayer,"g","legend",function(e){e.attr("pointer-events","all"),z=!0}),O=n.ensureSingleById(t._topdefs,"clipPath",r,function(e){e.append("rect")}),I=n.ensureSingle(P,"rect","bg",function(e){e.attr("shape-rendering","crispEdges")});I.call(d.stroke,l.bordercolor).call(d.fill,l.bgcolor).style("stroke-width",l.borderwidth+"px");var D=n.ensureSingle(P,"g","scrollbox"),R=n.ensureSingle(P,"rect","scrollbar",function(e){e.attr({rx:20,ry:3,width:0,height:0}).call(d.fill,"#808BA4")}),E=D.selectAll("g.groups").data(u);E.enter().append("g").attr("class","groups"),E.exit().remove();var j=E.selectAll("g.traces").data(n.identity);j.enter().append("g").attr("class","traces"),j.exit().remove(),j.call(b,e).style("opacity",function(e){var t=e[0].trace;return i.traceIs(t,"pie")?-1!==h.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1}).each(function(){a.select(this).call(A,e,p).call(S,e)}),n.syncOrAsync([o.previousPromises,function(){z&&(L(e,E,j),C(e));var d=t.width,u=t.height;L(e,E,j),l._height>u?function(e){var t=e._fullLayout.legend,r="left";w.isRightAnchor(t)?r="right":w.isCenterAnchor(t)&&(r="center");o.autoMargin(e,"legend",{x:t.x,y:.5,l:t._width*m[r],r:t._width*y[r],b:0,t:0})}(e):C(e);var h=t._size,p=h.l+h.w*l.x,g=h.t+h.h*(1-l.y);w.isRightAnchor(l)?p-=l._width:w.isCenterAnchor(l)&&(p-=l._width/2),w.isBottomAnchor(l)?g-=l._height:w.isMiddleAnchor(l)&&(g-=l._height/2);var v=l._width,x=h.w;v>x?(p=h.l,v=x):(p+v>d&&(p=d-v),p<0&&(p=0),v=Math.min(d-p,l._width));var b,_,k,A,M=l._height,S=h.h;if(M>S?(g=h.t,M=S):(g+M>u&&(g=u-M),g<0&&(g=0),M=Math.min(u-g,l._height)),c.setTranslate(P,p,g),R.on(".drag",null),P.on("wheel",null),l._height<=M||e._context.staticPlot)I.attr({width:v-l.borderwidth,height:M-l.borderwidth,x:l.borderwidth/2,y:l.borderwidth/2}),c.setTranslate(D,0,0),O.select("rect").attr({width:v-2*l.borderwidth,height:M-2*l.borderwidth,x:l.borderwidth,y:l.borderwidth}),c.setClipUrl(D,r),c.setRect(R,0,0,0,0),delete l._scrollY;else{var F,N,B=Math.max(f.scrollBarMinHeight,M*M/l._height),H=M-B-2*f.scrollBarMargin,V=l._height-M,q=H/V,G=Math.min(l._scrollY||0,V);I.attr({width:v-2*l.borderwidth+f.scrollBarWidth+f.scrollBarMargin,height:M-l.borderwidth,x:l.borderwidth/2,y:l.borderwidth/2}),O.select("rect").attr({width:v-2*l.borderwidth+f.scrollBarWidth+f.scrollBarMargin,height:M-2*l.borderwidth,x:l.borderwidth,y:l.borderwidth+G}),c.setClipUrl(D,r),W(G,B,q),P.on("wheel",function(){W(G=n.constrain(l._scrollY+a.event.deltaY/H*V,0,V),B,q),0!==G&&G!==V&&a.event.preventDefault()});var X=a.behavior.drag().on("dragstart",function(){F=a.event.sourceEvent.clientY,N=G}).on("drag",function(){var e=a.event.sourceEvent;2===e.buttons||e.ctrlKey||W(G=n.constrain((e.clientY-F)/q+N,0,V),B,q)});R.call(X)}function W(t,r,a){l._scrollY=e._fullLayout.legend._scrollY=t,c.setTranslate(D,0,-t),c.setRect(R,v,f.scrollBarMargin+t*a,f.scrollBarWidth,r),O.select("rect").attr({y:l.borderwidth+t})}e._context.edits.legendPosition&&(P.classed("cursor-move",!0),s.init({element:P.node(),gd:e,prepFn:function(){var e=c.getTranslate(P);k=e.x,A=e.y},moveFn:function(e,t){var r=k+e,a=A+t;c.setTranslate(P,r,a),b=s.align(r,0,h.l,h.l+h.w,l.xanchor),_=s.align(a,0,h.t+h.h,h.t,l.yanchor)},doneFn:function(){void 0!==b&&void 0!==_&&i.call("relayout",e,{"legend.x":b,"legend.y":_})},clickFn:function(r,a){var n=t._infolayer.selectAll("g.traces").filter(function(){var e=this.getBoundingClientRect();return a.clientX>=e.left&&a.clientX<=e.right&&a.clientY>=e.top&&a.clientY<=e.bottom});n.size()>0&&T(e,P,n,r,a)}}))}],e)}}},function(e,t,r){"use strict";var a=r(0),n=r(5),o=!0;e.exports=function(e,t,r){if(!t._dragged&&!t._editing){var i,l,s,c,d,u=t._fullLayout.hiddenlabels?t._fullLayout.hiddenlabels.slice():[],h=e.data()[0][0],f=t._fullData,p=h.trace,g=p.legendgroup,v={},m=[],y=[],x=[];if(1===r&&o&&t.data&&t._context.showTips?(a.notifier(a._(t,"Double-click on legend to isolate one trace"),"long"),o=!1):o=!1,n.traceIs(p,"pie")){var b=h.label,_=u.indexOf(b);1===r?-1===_?u.push(b):u.splice(_,1):2===r&&(u=[],t.calcdata[0].forEach(function(e){b!==e.label&&u.push(e.label)}),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===u.length&&-1===_&&(u=[])),n.call("relayout",t,"hiddenlabels",u)}else{var w,k=g&&g.length,T=[];if(k)for(i=0;i<f.length;i++)(w=f[i]).visible&&w.legendgroup===g&&T.push(i);if(1===r){var A;switch(p.visible){case!0:A="legendonly";break;case!1:A=!1;break;case"legendonly":A=!0}if(k)for(i=0;i<f.length;i++)!1!==f[i].visible&&f[i].legendgroup===g&&O(f[i],A);else O(p,A)}else if(2===r){var M,S,L=!0;for(i=0;i<f.length;i++)if(!(f[i]===p)&&!(M=k&&f[i].legendgroup===g)&&!0===f[i].visible&&!n.traceIs(f[i],"notLegendIsolatable")){L=!1;break}for(i=0;i<f.length;i++)if(!1!==f[i].visible&&!n.traceIs(f[i],"notLegendIsolatable"))switch(p.visible){case"legendonly":O(f[i],!0);break;case!0:S=!!L||"legendonly",M=f[i]===p||k&&f[i].legendgroup===g,O(f[i],!!M||S)}}for(i=0;i<y.length;i++)if(s=y[i]){var C=s.constructUpdate(),z=Object.keys(C);for(l=0;l<z.length;l++)c=z[l],(v[c]=v[c]||[])[x[i]]=C[c]}for(d=Object.keys(v),i=0;i<d.length;i++)for(c=d[i],l=0;l<m.length;l++)v[c].hasOwnProperty(l)||(v[c][l]=void 0);n.call("restyle",t,v,m)}}function P(e,t,r){var a=m.indexOf(e),n=v[t];return n||(n=v[t]=[]),-1===m.indexOf(e)&&(m.push(e),a=m.length-1),n[a]=r,a}function O(e,t){var r=e._fullInput;if(n.hasTransform(r,"groupby")){var o=y[r.index];if(!o){var i=n.getTransformIndices(r,"groupby"),l=i[i.length-1];o=a.keyedContainer(r,"transforms["+l+"].styles","target","value.visible"),y[r.index]=o}var s=o.get(e._group);void 0===s&&(s=!0),!1!==s&&o.set(e._group,t),x[r.index]=P(r.index,"visible",!1!==r.visible)}else{var c=!1!==r.visible&&t;P(r.index,"visible",c)}}}},function(e,t,r){"use strict";e.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,textOffsetX:40}},function(e,t,r){"use strict";var a=r(5),n=r(317);e.exports=function(e,t){var r,o,i={},l=[],s=!1,c={},d=0;function u(e,r){if(""!==e&&n.isGrouped(t))-1===l.indexOf(e)?(l.push(e),s=!0,i[e]=[[r]]):i[e].push([r]);else{var a="~~i"+d;l.push(a),i[a]=[[r]],d++}}for(r=0;r<e.length;r++){var h=e[r],f=h[0],p=f.trace,g=p.legendgroup;if(p.visible&&p.showlegend)if(a.traceIs(p,"pie"))for(c[g]||(c[g]={}),o=0;o<h.length;o++){var v=h[o].label;c[g][v]||(u(g,{label:v,color:h[o].color,i:h[o].i,trace:p,pts:h[o].pts}),c[g][v]=!0)}else u(g,f)}if(!l.length)return[];var m,y,x=l.length;if(s&&n.isGrouped(t))for(y=new Array(x),r=0;r<x;r++)m=i[l[r]],y[r]=n.isReversed(t)?m.reverse():m;else{for(y=[new Array(x)],r=0;r<x;r++)m=i[l[r]][0],y[0][n.isReversed(t)?x-r-1:r]=m;x=1}return t._lgroupsLength=x,y}},function(e,t,r){"use strict";var a=r(318),n=r(397);e.exports={moduleType:"component",name:"annotations",layoutAttributes:r(277),supplyLayoutDefaults:r(398),includeBasePlot:r(319)("annotations"),calcAutorange:r(399),draw:a.draw,drawOne:a.drawOne,drawRaw:a.drawRaw,hasClickToShow:n.hasClickToShow,onClick:n.onClick,convertCoords:r(400)}},function(e,t,r){"use strict";var a=r(3),n=r(11),o=r(349);e.exports=function(e,t,r){var i,l,s,c,d=e.node(),u=o[r.arrowhead||0],h=o[r.startarrowhead||0],f=(r.arrowwidth||1)*(r.arrowsize||1),p=(r.arrowwidth||1)*(r.startarrowsize||1),g=t.indexOf("start")>=0,v=t.indexOf("end")>=0,m=u.backoff*f+r.standoff,y=h.backoff*p+r.startstandoff;if("line"===d.nodeName){i={x:+e.attr("x1"),y:+e.attr("y1")},l={x:+e.attr("x2"),y:+e.attr("y2")};var x=i.x-l.x,b=i.y-l.y;if(c=(s=Math.atan2(b,x))+Math.PI,m&&y&&m+y>Math.sqrt(x*x+b*b))return void P();if(m){if(m*m>x*x+b*b)return void P();var _=m*Math.cos(s),w=m*Math.sin(s);l.x+=_,l.y+=w,e.attr({x2:l.x,y2:l.y})}if(y){if(y*y>x*x+b*b)return void P();var k=y*Math.cos(s),T=y*Math.sin(s);i.x-=k,i.y-=T,e.attr({x1:i.x,y1:i.y})}}else if("path"===d.nodeName){var A=d.getTotalLength(),M="";if(A<m+y)return void P();var S=d.getPointAtLength(0),L=d.getPointAtLength(.1);s=Math.atan2(S.y-L.y,S.x-L.x),i=d.getPointAtLength(Math.min(y,A)),M="0px,"+y+"px,";var C=d.getPointAtLength(A),z=d.getPointAtLength(A-.1);c=Math.atan2(C.y-z.y,C.x-z.x),l=d.getPointAtLength(Math.max(0,A-m)),M+=A-(M?y+m:m)+"px,"+A+"px",e.style("stroke-dasharray",M)}function P(){e.style("stroke-dasharray","0px,100px")}function O(t,o,i,l){t.path&&(t.noRotate&&(i=0),a.select(d.parentNode).append("path").attr({class:e.attr("class"),d:t.path,transform:"translate("+o.x+","+o.y+")"+(i?"rotate("+180*i/Math.PI+")":"")+"scale("+l+")"}).style({fill:n.rgb(r.arrowcolor),"stroke-width":0}))}g&&O(h,i,s,p),v&&O(u,l,c,f)}},function(e,t,r){"use strict";var a=r(0),n=r(5),o=r(19).arrayEditor;function i(e,t){var r,a,n,o,i,s,c,d=e._fullLayout.annotations,u=[],h=[],f=[],p=(t||[]).length;for(r=0;r<d.length;r++)if(o=(n=d[r]).clicktoshow){for(a=0;a<p;a++)if(s=(i=t[a]).xaxis,c=i.yaxis,s._id===n.xref&&c._id===n.yref&&s.d2r(i.x)===l(n._xclick,s)&&c.d2r(i.y)===l(n._yclick,c)){(n.visible?"onout"===o?h:f:u).push(r);break}a===p&&n.visible&&"onout"===o&&h.push(r)}return{on:u,off:h,explicitOff:f}}function l(e,t){return"log"===t.type?t.l2r(e):t.d2r(e)}e.exports={hasClickToShow:function(e,t){var r=i(e,t);return r.on.length>0||r.explicitOff.length>0},onClick:function(e,t){var r,l,s=i(e,t),c=s.on,d=s.off.concat(s.explicitOff),u={},h=e._fullLayout.annotations;if(!c.length&&!d.length)return;for(r=0;r<c.length;r++)(l=o(e.layout,"annotations",h[c[r]])).modifyItem("visible",!0),a.extendFlat(u,l.getUpdateObj());for(r=0;r<d.length;r++)(l=o(e.layout,"annotations",h[d[r]])).modifyItem("visible",!1),a.extendFlat(u,l.getUpdateObj());return n.call("update",e,{},u)}}},function(e,t,r){"use strict";var a=r(0),n=r(65),o=r(72),i=r(350),l=r(277);function s(e,t,r){function o(r,n){return a.coerce(e,t,l,r,n)}var s=o("visible"),c=o("clicktoshow");if(s||c){i(e,t,r,o);for(var d=t.showarrow,u=["x","y"],h=[-10,-30],f={_fullLayout:r},p=0;p<2;p++){var g=u[p],v=n.coerceRef(e,t,f,g,"","paper");if("paper"!==v)n.getFromId(f,v)._annIndices.push(t._index);if(n.coercePosition(t,f,o,v,g,.5),d){var m="a"+g,y=n.coerceRef(e,t,f,m,"pixel");"pixel"!==y&&y!==v&&(y=t[m]="pixel");var x="pixel"===y?h[p]:.4;n.coercePosition(t,f,o,y,m,x)}o(g+"anchor"),o(g+"shift")}if(a.noneOrAll(e,t,["x","y"]),d&&a.noneOrAll(e,t,["ax","ay"]),c){var b=o("xclick"),_=o("yclick");t._xclick=void 0===b?t.x:n.cleanPosition(b,f,t.xref),t._yclick=void 0===_?t.y:n.cleanPosition(_,f,t.yref)}}}e.exports=function(e,t){o(e,t,{name:"annotations",handleItemDefaults:s})}},function(e,t,r){"use strict";var a=r(0),n=r(65),o=r(318).draw;function i(e){var t=e._fullLayout;a.filterVisible(t.annotations).forEach(function(t){var r=n.getFromId(e,t.xref),a=n.getFromId(e,t.yref);t._extremes={},r&&l(t,r),a&&l(t,a)})}function l(e,t){var r,a=t._id,o=a.charAt(0),i=e[o],l=e["a"+o],s=e[o+"ref"],c=e["a"+o+"ref"],d=e["_"+o+"padplus"],u=e["_"+o+"padminus"],h={x:1,y:-1}[o]*e[o+"shift"],f=3*e.arrowsize*e.arrowwidth||0,p=f+h,g=f-h,v=3*e.startarrowsize*e.arrowwidth||0,m=v+h,y=v-h;if(c===s){var x=n.findExtremes(t,[t.r2c(i)],{ppadplus:p,ppadminus:g}),b=n.findExtremes(t,[t.r2c(l)],{ppadplus:Math.max(d,m),ppadminus:Math.max(u,y)});r={min:[x.min[0],b.min[0]],max:[x.max[0],b.max[0]]}}else m=l?m+l:m,y=l?y-l:y,r=n.findExtremes(t,[t.r2c(i)],{ppadplus:Math.max(d,p,m),ppadminus:Math.max(u,g,y)});e._extremes[a]=r}e.exports=function(e){var t=e._fullLayout;if(a.filterVisible(t.annotations).length&&e._fullData.length)return a.syncOrAsync([o,i],e)}},function(e,t,r){"use strict";var a=r(1),n=r(89);e.exports=function(e,t,r,o){t=t||{};var i="log"===r&&"linear"===t.type,l="linear"===r&&"log"===t.type;if(i||l)for(var s,c,d=e._fullLayout.annotations,u=t._id.charAt(0),h=0;h<d.length;h++)s=d[h],c="annotations["+h+"].",s[u+"ref"]===t._id&&f(u),s["a"+u+"ref"]===t._id&&f("a"+u);function f(e){var r=s[e],l=null;l=i?n(r,t.range):Math.pow(10,r),a(l)||(l=null),o(c+e,l)}}},function(e,t,r){"use strict";var a=r(5),n=r(0);e.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:r(320)}}},layoutAttributes:r(320),handleDefaults:r(402),includeBasePlot:function(e,t){var r=a.subplotsRegistry.gl3d;if(!r)return;for(var o=r.attrRegex,i=Object.keys(e),l=0;l<i.length;l++){var s=i[l];o.test(s)&&(e[s].annotations||[]).length&&(n.pushUnique(t._basePlotModules,r),n.pushUnique(t._subplots.gl3d,s))}},convert:r(403),draw:r(404)}},function(e,t,r){"use strict";var a=r(0),n=r(65),o=r(72),i=r(350),l=r(320);function s(e,t,r,o){function s(r,n){return a.coerce(e,t,l,r,n)}function c(e){var a=e+"axis",o={_fullLayout:{}};return o._fullLayout[a]=r[a],n.coercePosition(t,o,s,e,e,.5)}s("visible")&&(i(e,t,o.fullLayout,s),c("x"),c("y"),c("z"),a.noneOrAll(e,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",s("xanchor"),s("yanchor"),s("xshift"),s("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",s("ax",-10),s("ay",-30),a.noneOrAll(e,t,["ax","ay"])))}e.exports=function(e,t,r){o(e,t,{name:"annotations",handleItemDefaults:s,fullLayout:r.fullLayout})}},function(e,t,r){"use strict";var a=r(0),n=r(65);function o(e,t){var r=t.fullSceneLayout.domain,o=t.fullLayout._size,i={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},a.extendFlat(e._xa,i),n.setConvert(e._xa),e._xa._offset=o.l+r.x[0]*o.w,e._xa.l2p=function(){return.5*(1+e._pdata[0]/e._pdata[3])*o.w*(r.x[1]-r.x[0])},e._ya={},a.extendFlat(e._ya,i),n.setConvert(e._ya),e._ya._offset=o.t+(1-r.y[1])*o.h,e._ya.l2p=function(){return.5*(1-e._pdata[1]/e._pdata[3])*o.h*(r.y[1]-r.y[0])}}e.exports=function(e){for(var t=e.fullSceneLayout.annotations,r=0;r<t.length;r++)o(t[r],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},function(e,t,r){"use strict";var a=r(318).drawRaw,n=r(405),o=["x","y","z"];e.exports=function(e){for(var t=e.fullSceneLayout,r=e.dataScale,i=t.annotations,l=0;l<i.length;l++){for(var s=i[l],c=!1,d=0;d<3;d++){var u=o[d],h=s[u],f=t[u+"axis"].r2fraction(h);if(f<0||f>1){c=!0;break}}c?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+l+'"]').remove():(s._pdata=n(e.glplot.cameraParams,[t.xaxis.r2l(s.x)*r[0],t.yaxis.r2l(s.y)*r[1],t.zaxis.r2l(s.z)*r[2]]),a(e.graphDiv,s,l,e.id,s._xa,s._ya))}}},function(e,t,r){"use strict";function a(e,t){var r,a,n=[0,0,0,0];for(r=0;r<4;++r)for(a=0;a<4;++a)n[a]+=e[4*r+a]*t[r];return n}e.exports=function(e,t){return a(e.projection,a(e.view,a(e.model,[t[0],t[1],t[2],1])))}},function(e,t,r){"use strict";var a=r(407);e.exports={moduleType:"component",name:"shapes",layoutAttributes:r(351),supplyLayoutDefaults:r(408),includeBasePlot:r(319)("shapes"),calcAutorange:r(409),draw:a.draw,drawOne:a.drawOne}},function(e,t,r){"use strict";var a=r(5),n=r(0),o=r(65),i=r(11),l=r(26),s=r(19).arrayEditor,c=r(199),d=r(202),u=r(321),h=r(322);function f(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var r=e._fullLayout.shapes[t]||{};if(r._input&&!1!==r.visible)if("below"!==r.layer)m(e._fullLayout._shapeUpperLayer);else if("paper"===r.xref||"paper"===r.yref)m(e._fullLayout._shapeLowerLayer);else{var f=e._fullLayout._plots[r.xref+r.yref];if(f)m((f.mainplotinfo||f).shapelayer);else m(e._fullLayout._shapeLowerLayer)}function m(f){var m={"data-index":t,"fill-rule":"evenodd",d:g(e,r)},y=r.line.width?r.line.color:"rgba(0,0,0,0)",x=f.append("path").attr(m).style("opacity",r.opacity).call(i.stroke,y).call(i.fill,r.fillcolor).call(l.dashLine,r.line.dash,r.line.width);p(x,e,r),e._context.edits.shapePosition&&function(e,t,r,i,f){var m,y,x,b,_,w,k,T,A,M,S,L,C,z,P,O,I=10,D=10,R="pixel"===r.xsizemode,E="pixel"===r.ysizemode,j="line"===r.type,F="path"===r.type,N=s(e.layout,"shapes",r),B=N.modifyItem,H=o.getFromId(e,r.xref),V=o.getFromId(e,r.yref),q=h.getDataToPixel(e,H),G=h.getDataToPixel(e,V,!0),X=h.getPixelToData(e,H),W=h.getPixelToData(e,V,!0),Z=j?function(){var e=Math.max(r.line.width,10),a=f.append("g").attr("data-index",i);a.append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":e,"stroke-opacity":"0"});var n={"fill-opacity":"0"},o=e/2>10?e/2:10;return a.append("circle").attr({"data-line-point":"start-point",cx:R?q(r.xanchor)+r.x0:q(r.x0),cy:E?G(r.yanchor)-r.y0:G(r.y0),r:o}).style(n).classed("cursor-grab",!0),a.append("circle").attr({"data-line-point":"end-point",cx:R?q(r.xanchor)+r.x1:q(r.x1),cy:E?G(r.yanchor)-r.y1:G(r.y1),r:o}).style(n).classed("cursor-grab",!0),a}():t,Y={element:Z.node(),gd:e,prepFn:function(a){R&&(_=q(r.xanchor));E&&(w=G(r.yanchor));"path"===r.type?P=r.path:(m=R?r.x0:q(r.x0),y=E?r.y0:G(r.y0),x=R?r.x1:q(r.x1),b=E?r.y1:G(r.y1));m<x?(A=m,C="x0",M=x,z="x1"):(A=x,C="x1",M=m,z="x0");!E&&y<b||E&&y>b?(k=y,S="y0",T=b,L="y1"):(k=b,S="y1",T=y,L="y0");U(a),K(f,r),function(e,t,r){var a=t.xref,n=t.yref,i=o.getFromId(r,a),s=o.getFromId(r,n),c="";"paper"===a||i.autorange||(c+=a);"paper"===n||s.autorange||(c+=n);e.call(l.setClipUrl,c?"clip"+r._fullLayout._uid+c:null)}(t,r,e),Y.moveFn="move"===O?Q:J},doneFn:function(){d(t),$(f),p(t,e,r),a.call("relayout",e,N.getUpdateObj())},clickFn:function(){$(f)}};function U(e){if(j)O="path"===e.target.tagName?"move":"start-point"===e.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var r=Y.element.getBoundingClientRect(),a=r.right-r.left,n=r.bottom-r.top,o=e.clientX-r.left,i=e.clientY-r.top,l=!F&&a>I&&n>D&&!e.shiftKey?c.getCursor(o/a,1-i/n):"move";d(t,l),O=l.split("-")[0]}}function Q(a,n){if("path"===r.type){var o=function(e){return e},i=o,l=o;R?B("xanchor",r.xanchor=X(_+a)):(i=function(e){return X(q(e)+a)},H&&"date"===H.type&&(i=h.encodeDate(i))),E?B("yanchor",r.yanchor=W(w+n)):(l=function(e){return W(G(e)+n)},V&&"date"===V.type&&(l=h.encodeDate(l))),B("path",r.path=v(P,i,l))}else R?B("xanchor",r.xanchor=X(_+a)):(B("x0",r.x0=X(m+a)),B("x1",r.x1=X(x+a))),E?B("yanchor",r.yanchor=W(w+n)):(B("y0",r.y0=W(y+n)),B("y1",r.y1=W(b+n)));t.attr("d",g(e,r)),K(f,r)}function J(a,n){if(F){var o=function(e){return e},i=o,l=o;R?B("xanchor",r.xanchor=X(_+a)):(i=function(e){return X(q(e)+a)},H&&"date"===H.type&&(i=h.encodeDate(i))),E?B("yanchor",r.yanchor=W(w+n)):(l=function(e){return W(G(e)+n)},V&&"date"===V.type&&(l=h.encodeDate(l))),B("path",r.path=v(P,i,l))}else if(j){if("resize-over-start-point"===O){var s=m+a,c=E?y-n:y+n;B("x0",r.x0=R?s:X(s)),B("y0",r.y0=E?c:W(c))}else if("resize-over-end-point"===O){var d=x+a,u=E?b-n:b+n;B("x1",r.x1=R?d:X(d)),B("y1",r.y1=E?u:W(u))}}else{var p=~O.indexOf("n")?k+n:k,N=~O.indexOf("s")?T+n:T,Z=~O.indexOf("w")?A+a:A,Y=~O.indexOf("e")?M+a:M;~O.indexOf("n")&&E&&(p=k-n),~O.indexOf("s")&&E&&(N=T-n),(!E&&N-p>D||E&&p-N>D)&&(B(S,r[S]=E?p:W(p)),B(L,r[L]=E?N:W(N))),Y-Z>I&&(B(C,r[C]=R?Z:X(Z)),B(z,r[z]=R?Y:X(Y)))}t.attr("d",g(e,r)),K(f,r)}function K(e,t){(R||E)&&function(){var r="path"!==t.type,a=e.selectAll(".visual-cue").data([0]);a.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var o=q(R?t.xanchor:n.midRange(r?[t.x0,t.x1]:h.extractPathCoords(t.path,u.paramIsX))),i=G(E?t.yanchor:n.midRange(r?[t.y0,t.y1]:h.extractPathCoords(t.path,u.paramIsY)));if(o=h.roundPositionForSharpStrokeRendering(o,1),i=h.roundPositionForSharpStrokeRendering(i,1),R&&E){var l="M"+(o-1-1)+","+(i-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";a.attr("d",l)}else if(R){var s="M"+(o-1-1)+","+(i-9-1)+"v18 h2 v-18 Z";a.attr("d",s)}else{var c="M"+(o-9-1)+","+(i-1-1)+"h18 v2 h-18 Z";a.attr("d",c)}}()}function $(e){e.selectAll(".visual-cue").remove()}c.init(Y),Z.node().onmousemove=U}(e,x,r,t,f)}}function p(e,t,r){var a=(r.xref+r.yref).replace(/paper/g,"");e.call(l.setClipUrl,a?"clip"+t._fullLayout._uid+a:null)}function g(e,t){var r,a,i,l,s,c,d,f,p=t.type,g=o.getFromId(e,t.xref),v=o.getFromId(e,t.yref),m=e._fullLayout._size;if(g?(r=h.shapePositionToRange(g),a=function(e){return g._offset+g.r2p(r(e,!0))}):a=function(e){return m.l+m.w*e},v?(i=h.shapePositionToRange(v),l=function(e){return v._offset+v.r2p(i(e,!0))}):l=function(e){return m.t+m.h*(1-e)},"path"===p)return g&&"date"===g.type&&(a=h.decodeDate(a)),v&&"date"===v.type&&(l=h.decodeDate(l)),function(e,t,r){var a=e.path,o=e.xsizemode,i=e.ysizemode,l=e.xanchor,s=e.yanchor;return a.replace(u.segmentRE,function(e){var a=0,c=e.charAt(0),d=u.paramIsX[c],h=u.paramIsY[c],f=u.numParams[c],p=e.substr(1).replace(u.paramRE,function(e){return d[a]?e="pixel"===o?t(l)+Number(e):t(e):h[a]&&(e="pixel"===i?r(s)-Number(e):r(e)),++a>f&&(e="X"),e});return a>f&&(p=p.replace(/[\s,]*X.*/,""),n.log("Ignoring extra params in segment "+e)),c+p})}(t,a,l);if("pixel"===t.xsizemode){var y=a(t.xanchor);s=y+t.x0,c=y+t.x1}else s=a(t.x0),c=a(t.x1);if("pixel"===t.ysizemode){var x=l(t.yanchor);d=x-t.y0,f=x-t.y1}else d=l(t.y0),f=l(t.y1);if("line"===p)return"M"+s+","+d+"L"+c+","+f;if("rect"===p)return"M"+s+","+d+"H"+c+"V"+f+"H"+s+"Z";var b=(s+c)/2,_=(d+f)/2,w=Math.abs(b-s),k=Math.abs(_-d),T="A"+w+","+k,A=b+w+","+_;return"M"+A+T+" 0 1,1 "+(b+","+(_-k))+T+" 0 0,1 "+A+"Z"}function v(e,t,r){return e.replace(u.segmentRE,function(e){var a=0,n=e.charAt(0),o=u.paramIsX[n],i=u.paramIsY[n],l=u.numParams[n];return n+e.substr(1).replace(u.paramRE,function(e){return a>=l?e:(o[a]?e=t(e):i[a]&&(e=r(e)),a++,e)})})}e.exports={draw:function(e){var t=e._fullLayout;for(var r in t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._plots){var a=t._plots[r].shapelayer;a&&a.selectAll("path").remove()}for(var n=0;n<t.shapes.length;n++)t.shapes[n].visible&&f(e,n)},drawOne:f}},function(e,t,r){"use strict";var a=r(0),n=r(65),o=r(72),i=r(351),l=r(322);function s(e,t,r){function o(r,n){return a.coerce(e,t,i,r,n)}if(o("visible")){o("layer"),o("opacity"),o("fillcolor"),o("line.color"),o("line.width"),o("line.dash");for(var s=o("type",e.path?"path":"rect"),c=o("xsizemode"),d=o("ysizemode"),u=["x","y"],h=0;h<2;h++){var f,p,g,v=u[h],m=v+"anchor",y="x"===v?c:d,x={_fullLayout:r},b=n.coerceRef(e,t,x,v,"","paper");if("paper"!==b?((f=n.getFromId(x,b))._shapeIndices.push(t._index),g=l.rangeToShapePosition(f),p=l.shapePositionToRange(f)):p=g=a.identity,"path"!==s){var _=v+"0",w=v+"1",k=e[_],T=e[w];e[_]=p(e[_],!0),e[w]=p(e[w],!0),"pixel"===y?(o(_,0),o(w,10)):(n.coercePosition(t,x,o,b,_,.25),n.coercePosition(t,x,o,b,w,.75)),t[_]=g(t[_]),t[w]=g(t[w]),e[_]=k,e[w]=T}if("pixel"===y){var A=e[m];e[m]=p(e[m],!0),n.coercePosition(t,x,o,b,m,.25),t[m]=g(t[m]),e[m]=A}}"path"===s?o("path"):a.noneOrAll(e,t,["x0","x1","y0","y1"])}}e.exports=function(e,t){o(e,t,{name:"shapes",handleItemDefaults:s})}},function(e,t,r){"use strict";var a=r(0),n=r(65),o=r(321),i=r(322);function l(e){return c(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function s(e){return c(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function c(e,t,r,n,l,s){var c=e/2,d=s;if("pixel"===t){var u=l?i.extractPathCoords(l,s?o.paramIsY:o.paramIsX):[r,n],h=a.aggNums(Math.max,null,u),f=a.aggNums(Math.min,null,u),p=f<0?Math.abs(f)+c:c,g=h>0?h+c:c;return{ppad:c,ppadplus:d?p:g,ppadminus:d?g:p}}return{ppad:c}}function d(e,t,r,a,n){var l="category"===e.type?e.r2c:e.d2c;if(void 0!==t)return[l(t),l(r)];if(a){var s,c,d,u,h=1/0,f=-1/0,p=a.match(o.segmentRE);for("date"===e.type&&(l=i.decodeDate(l)),s=0;s<p.length;s++)void 0!==(c=n[p[s].charAt(0)].drawn)&&(!(d=p[s].substr(1).match(o.paramRE))||d.length<c||((u=l(d[c]))<h&&(h=u),u>f&&(f=u)));return f>=h?[h,f]:void 0}}e.exports=function(e){var t=e._fullLayout,r=a.filterVisible(t.shapes);if(r.length&&e._fullData.length)for(var i=0;i<r.length;i++){var c,u,h=r[i];if(h._extremes={},"paper"!==h.xref){var f="pixel"===h.xsizemode?h.xanchor:h.x0,p="pixel"===h.xsizemode?h.xanchor:h.x1;(u=d(c=n.getFromId(e,h.xref),f,p,h.path,o.paramIsX))&&(h._extremes[c._id]=n.findExtremes(c,u,l(h)))}if("paper"!==h.yref){var g="pixel"===h.ysizemode?h.yanchor:h.y0,v="pixel"===h.ysizemode?h.yanchor:h.y1;(u=d(c=n.getFromId(e,h.yref),g,v,h.path,o.paramIsY))&&(h._extremes[c._id]=n.findExtremes(c,u,s(h)))}}}},function(e,t,r){"use strict";e.exports={moduleType:"component",name:"images",layoutAttributes:r(352),supplyLayoutDefaults:r(411),includeBasePlot:r(319)("images"),draw:r(412),convertCoords:r(413)}},function(e,t,r){"use strict";var a=r(0),n=r(65),o=r(72),i=r(352);function l(e,t,r){function o(r,n){return a.coerce(e,t,i,r,n)}if(!o("visible",!!o("source")))return t;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var l={_fullLayout:r},s=["x","y"],c=0;c<2;c++){var d=s[c],u=n.coerceRef(e,t,l,d,"paper");n.coercePosition(t,l,o,u,d,0)}return t}e.exports=function(e,t){o(e,t,{name:"images",handleItemDefaults:l})}},function(e,t,r){"use strict";var a=r(3),n=r(26),o=r(65),i=r(45);e.exports=function(e){var t,r,l=e._fullLayout,s=[],c={},d=[];for(r=0;r<l.images.length;r++){var u=l.images[r];if(u.visible)if("below"===u.layer&&"paper"!==u.xref&&"paper"!==u.yref){t=u.xref+u.yref;var h=l._plots[t];if(!h){d.push(u);continue}h.mainplot&&(t=h.mainplot.id),c[t]||(c[t]=[]),c[t].push(u)}else"above"===u.layer?s.push(u):d.push(u)}var f={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}};function p(t){var r=a.select(this);if(!this.img||this.img.src!==t.source){r.attr("xmlns",i.svg);var n=new Promise(function(e){var a=new Image;function n(){r.remove(),e()}this.img=a,a.setAttribute("crossOrigin","anonymous"),a.onerror=n,a.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height,t.getContext("2d").drawImage(this,0,0);var a=t.toDataURL("image/png");r.attr("xlink:href",a),e()},r.on("error",n),a.src=t.source}.bind(this));e._promises.push(n)}}function g(t){var r=a.select(this),i=o.getFromId(e,t.xref),s=o.getFromId(e,t.yref),c=l._size,d=i?Math.abs(i.l2p(t.sizex)-i.l2p(0)):t.sizex*c.w,u=s?Math.abs(s.l2p(t.sizey)-s.l2p(0)):t.sizey*c.h,h=d*f.x[t.xanchor].offset,p=u*f.y[t.yanchor].offset,g=f.x[t.xanchor].sizing+f.y[t.yanchor].sizing,v=(i?i.r2p(t.x)+i._offset:t.x*c.w+c.l)+h,m=(s?s.r2p(t.y)+s._offset:c.h-t.y*c.h+c.t)+p;switch(t.sizing){case"fill":g+=" slice";break;case"stretch":g="none"}r.attr({x:v,y:m,width:d,height:u,preserveAspectRatio:g,opacity:t.opacity});var y=(i?i._id:"")+(s?s._id:"");r.call(n.setClipUrl,y?"clip"+l._uid+y:null)}var v=l._imageLowerLayer.selectAll("image").data(d),m=l._imageUpperLayer.selectAll("image").data(s);v.enter().append("image"),m.enter().append("image"),v.exit().remove(),m.exit().remove(),v.each(function(e){p.bind(this)(e),g.bind(this)(e)}),m.each(function(e){p.bind(this)(e),g.bind(this)(e)});var y=Object.keys(l._plots);for(r=0;r<y.length;r++){t=y[r];var x=l._plots[t];if(x.imagelayer){var b=x.imagelayer.selectAll("image").data(c[t]||[]);b.enter().append("image"),b.exit().remove(),b.each(function(e){p.bind(this)(e),g.bind(this)(e)})}}}},function(e,t,r){"use strict";var a=r(1),n=r(89);e.exports=function(e,t,r,o){t=t||{};var i="log"===r&&"linear"===t.type,l="linear"===r&&"log"===t.type;if(i||l)for(var s,c,d=e._fullLayout.images,u=t._id.charAt(0),h=0;h<d.length;h++)if(c="images["+h+"].",(s=d[h])[u+"ref"]===t._id){var f=s[u],p=s["size"+u],g=null,v=null;if(i){g=n(f,t.range);var m=p/Math.pow(10,g)/2;v=2*Math.log(m+Math.sqrt(1+m*m))/Math.LN10}else v=(g=Math.pow(10,f))*(Math.pow(10,p/2)-Math.pow(10,-p/2));a(g)?a(v)||(v=null):(g=null,v=null),o(c+u,g),o(c+"size"+u,v)}}},function(e,t,r){"use strict";var a=r(323);e.exports={moduleType:"component",name:a.name,layoutAttributes:r(353),supplyLayoutDefaults:r(415),draw:r(416)}},function(e,t,r){"use strict";var a=r(0),n=r(72),o=r(353),i=r(323).name,l=o.buttons;function s(e,t,r){function i(r,n){return a.coerce(e,t,o,r,n)}i("visible",n(e,t,{name:"buttons",handleItemDefaults:c}).length>0)&&(i("active"),i("direction"),i("type"),i("showactive"),i("x"),i("y"),a.noneOrAll(e,t,["x","y"]),i("xanchor"),i("yanchor"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),a.coerceFont(i,"font",r.font),i("bgcolor",r.paper_bgcolor),i("bordercolor"),i("borderwidth"))}function c(e,t){function r(r,n){return a.coerce(e,t,l,r,n)}r("visible","skip"===e.method||Array.isArray(e.args))&&(r("method"),r("args"),r("label"),r("execute"))}e.exports=function(e,t){n(e,t,{name:i,handleItemDefaults:s})}},function(e,t,r){"use strict";var a=r(3),n=r(43),o=r(11),i=r(26),l=r(0),s=r(29),c=r(276),d=r(19).arrayEditor,u=r(20).LINE_SPACING,h=r(323),f=r(417);function p(e){return e._index}function g(e,t){return+e.attr(h.menuIndexAttrName)===t._index}function v(e,t,r,a,n,o,i,l){t.active=i,d(e.layout,h.name,t).applyUpdate("active",i),"buttons"===t.type?y(e,a,null,null,t):"dropdown"===t.type&&(n.attr(h.menuIndexAttrName,"-1"),m(e,a,n,o,t),l||y(e,a,n,o,t))}function m(e,t,r,a,n){var o=l.ensureSingle(t,"g",h.headerClassName,function(e){e.style("pointer-events","all")}),s=n._dims,c=n.active,d=n.buttons[c]||h.blankHeaderOpts,u={y:n.pad.t,yPad:0,x:n.pad.l,xPad:0,index:0},f={width:s.headerWidth,height:s.headerHeight};o.call(x,n,d,e).call(S,n,u,f),l.ensureSingle(t,"text",h.headerArrowClassName,function(e){e.classed("user-select-none",!0).attr("text-anchor","end").call(i.font,n.font).text(h.arrowSymbol[n.direction])}).attr({x:s.headerWidth-h.arrowOffsetX+n.pad.l,y:s.headerHeight/2+h.textOffsetY+n.pad.t}),o.on("click",function(){r.call(L,String(g(r,n)?-1:n._index)),y(e,t,r,a,n)}),o.on("mouseover",function(){o.call(k)}),o.on("mouseout",function(){o.call(T,n)}),i.setTranslate(t,s.lx,s.ly)}function y(e,t,r,o,i){r||(r=t).attr("pointer-events","all");var s=function(e){return-1==+e.attr(h.menuIndexAttrName)}(r)&&"buttons"!==i.type?[]:i.buttons,c="dropdown"===i.type?h.dropdownButtonClassName:h.buttonClassName,d=r.selectAll("g."+c).data(l.filterVisible(s)),u=d.enter().append("g").classed(c,!0),f=d.exit();"dropdown"===i.type?(u.attr("opacity","0").transition().attr("opacity","1"),f.transition().attr("opacity","0").remove()):f.remove();var p=0,g=0,m=i._dims,y=-1!==["up","down"].indexOf(i.direction);"dropdown"===i.type&&(y?g=m.headerHeight+h.gapButtonHeader:p=m.headerWidth+h.gapButtonHeader),"dropdown"===i.type&&"up"===i.direction&&(g=-h.gapButtonHeader+h.gapButton-m.openHeight),"dropdown"===i.type&&"left"===i.direction&&(p=-h.gapButtonHeader+h.gapButton-m.openWidth);var b={x:m.lx+p+i.pad.l,y:m.ly+g+i.pad.t,yPad:h.gapButton,xPad:h.gapButton,index:0},_={l:b.x+i.borderwidth,t:b.y+i.borderwidth};d.each(function(l,s){var c=a.select(this);c.call(x,i,l,e).call(S,i,b),c.on("click",function(){a.event.defaultPrevented||(v(e,i,0,t,r,o,s),l.execute&&n.executeAPICommand(e,l.method,l.args),e.emit("plotly_buttonclicked",{menu:i,button:l,active:i.active}))}),c.on("mouseover",function(){c.call(k)}),c.on("mouseout",function(){c.call(T,i),d.call(w,i)})}),d.call(w,i),y?(_.w=Math.max(m.openWidth,m.headerWidth),_.h=b.y-_.t):(_.w=b.x-_.l,_.h=Math.max(m.openHeight,m.headerHeight)),_.direction=i.direction,o&&(d.size()?function(e,t,r,a,n,o){var i,l,s,c=n.direction,d="up"===c||"down"===c,u=n._dims,f=n.active;if(d)for(l=0,s=0;s<f;s++)l+=u.heights[s]+h.gapButton;else for(i=0,s=0;s<f;s++)i+=u.widths[s]+h.gapButton;a.enable(o,i,l),a.hbar&&a.hbar.attr("opacity","0").transition().attr("opacity","1");a.vbar&&a.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,o,i,_):function(e){var t=!!e.hbar,r=!!e.vbar;t&&e.hbar.transition().attr("opacity","0").each("end",function(){t=!1,r||e.disable()});r&&e.vbar.transition().attr("opacity","0").each("end",function(){r=!1,t||e.disable()})}(o))}function x(e,t,r,a){e.call(b,t).call(_,t,r,a)}function b(e,t){l.ensureSingle(e,"rect",h.itemRectClassName,function(e){e.attr({rx:h.rx,ry:h.ry,"shape-rendering":"crispEdges"})}).call(o.stroke,t.bordercolor).call(o.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function _(e,t,r,a){l.ensureSingle(e,"text",h.itemTextClassName,function(e){e.classed("user-select-none",!0).attr({"text-anchor":"start","data-notex":1})}).call(i.font,t.font).text(r.label).call(s.convertToTspans,a)}function w(e,t){var r=t.active;e.each(function(e,n){var i=a.select(this);n===r&&t.showactive&&i.select("rect."+h.itemRectClassName).call(o.fill,h.activeColor)})}function k(e){e.select("rect."+h.itemRectClassName).call(o.fill,h.hoverColor)}function T(e,t){e.select("rect."+h.itemRectClassName).call(o.fill,t.bgcolor)}function A(e,t){var r=t._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},o=i.tester.selectAll("g."+h.dropdownButtonClassName).data(l.filterVisible(t.buttons));o.enter().append("g").classed(h.dropdownButtonClassName,!0);var d=-1!==["up","down"].indexOf(t.direction);o.each(function(n,o){var l=a.select(this);l.call(x,t,n,e);var c=l.select("."+h.itemTextClassName),f=c.node()&&i.bBox(c.node()).width,p=Math.max(f+h.textPadX,h.minWidth),g=t.font.size*u,v=s.lineCount(c),m=Math.max(g*v,h.minHeight)+h.textOffsetY;m=Math.ceil(m),p=Math.ceil(p),r.widths[o]=p,r.heights[o]=m,r.height1=Math.max(r.height1,m),r.width1=Math.max(r.width1,p),d?(r.totalWidth=Math.max(r.totalWidth,p),r.openWidth=r.totalWidth,r.totalHeight+=m+h.gapButton,r.openHeight+=m+h.gapButton):(r.totalWidth+=p+h.gapButton,r.openWidth+=p+h.gapButton,r.totalHeight=Math.max(r.totalHeight,m),r.openHeight=r.totalHeight)}),d?r.totalHeight-=h.gapButton:r.totalWidth-=h.gapButton,r.headerWidth=r.width1+h.arrowPadX,r.headerHeight=r.height1,"dropdown"===t.type&&(d?(r.width1+=h.arrowPadX,r.totalHeight=r.height1):r.totalWidth=r.width1,r.totalWidth+=h.arrowPadX),o.remove();var f=r.totalWidth+t.pad.l+t.pad.r,p=r.totalHeight+t.pad.t+t.pad.b,g=e._fullLayout._size;r.lx=g.l+g.w*t.x,r.ly=g.t+g.h*(1-t.y);var v="left";c.isRightAnchor(t)&&(r.lx-=f,v="right"),c.isCenterAnchor(t)&&(r.lx-=f/2,v="center");var m="top";c.isBottomAnchor(t)&&(r.ly-=p,m="bottom"),c.isMiddleAnchor(t)&&(r.ly-=p/2,m="middle"),r.totalWidth=Math.ceil(r.totalWidth),r.totalHeight=Math.ceil(r.totalHeight),r.lx=Math.round(r.lx),r.ly=Math.round(r.ly),n.autoMargin(e,M(t),{x:t.x,y:t.y,l:f*({right:1,center:.5}[v]||0),r:f*({left:1,center:.5}[v]||0),b:p*({top:1,middle:.5}[m]||0),t:p*({bottom:1,middle:.5}[m]||0)})}function M(e){return h.autoMarginIdRoot+e._index}function S(e,t,r,a){a=a||{};var n=e.select("."+h.itemRectClassName),o=e.select("."+h.itemTextClassName),l=t.borderwidth,c=r.index,d=t._dims;i.setTranslate(e,l+r.x,l+r.y);var f=-1!==["up","down"].indexOf(t.direction),p=a.height||(f?d.heights[c]:d.height1);n.attr({x:0,y:0,width:a.width||(f?d.width1:d.widths[c]),height:p});var g=t.font.size*u,v=(s.lineCount(o)-1)*g/2;s.positionText(o,h.textOffsetX,p/2-v+h.textOffsetY),f?r.y+=d.heights[c]+r.yPad:r.x+=d.widths[c]+r.xPad,r.index++}function L(e,t){e.attr(h.menuIndexAttrName,t||"-1").selectAll("g."+h.dropdownButtonClassName).remove()}e.exports=function(e){var t=e._fullLayout,r=l.filterVisible(t[h.name]);function o(t){n.autoMargin(e,M(t))}var i=t._menulayer.selectAll("g."+h.containerClassName).data(r.length>0?[0]:[]);if(i.enter().append("g").classed(h.containerClassName,!0).style("cursor","pointer"),i.exit().each(function(){a.select(this).selectAll("g."+h.headerGroupClassName).each(o)}).remove(),0!==r.length){var s=i.selectAll("g."+h.headerGroupClassName).data(r,p);s.enter().append("g").classed(h.headerGroupClassName,!0);for(var c=l.ensureSingle(i,"g",h.dropdownButtonGroupClassName,function(e){e.style("pointer-events","all")}),d=0;d<r.length;d++){var u=r[d];A(e,u)}var x="updatemenus"+t._uid,b=new f(e,c,x);s.enter().size()&&(c.node().parentNode.appendChild(c.node()),c.call(L)),s.exit().each(function(e){c.call(L),o(e)}).remove(),s.each(function(t){var r=a.select(this),o="dropdown"===t.type?c:null;n.manageCommandObserver(e,t,t.buttons,function(a){v(e,t,t.buttons[a.index],r,o,b,a.index,!0)}),"dropdown"===t.type?(m(e,r,c,b,t),g(c,t)&&y(e,r,c,b,t)):y(e,r,null,null,t)})}}},function(e,t,r){"use strict";e.exports=l;var a=r(3),n=r(11),o=r(26),i=r(0);function l(e,t,r){this.gd=e,this.container=t,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}l.barWidth=2,l.barLength=20,l.barRadius=2,l.barPad=1,l.barColor="#808BA4",l.prototype.enable=function(e,t,r){var i=this.gd._fullLayout,s=i.width,c=i.height;this.position=e;var d,u,h,f,p=this.position.l,g=this.position.w,v=this.position.t,m=this.position.h,y=this.position.direction,x="down"===y,b="left"===y,_="up"===y,w=g,k=m;x||b||"right"===y||_||(this.position.direction="down",x=!0),x||_?(u=(d=p)+w,x?(h=v,k=(f=Math.min(h+k,c))-h):k=(f=v+k)-(h=Math.max(f-k,0))):(f=(h=v)+k,b?w=(u=p+w)-(d=Math.max(u-w,0)):(d=p,w=(u=Math.min(d+w,s))-d)),this._box={l:d,t:h,w:w,h:k};var T=g>w,A=l.barLength+2*l.barPad,M=l.barWidth+2*l.barPad,S=p,L=v+m;L+M>c&&(L=c-M);var C=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);C.exit().on(".drag",null).remove(),C.enter().append("rect").classed("scrollbar-horizontal",!0).call(n.fill,l.barColor),T?(this.hbar=C.attr({rx:l.barRadius,ry:l.barRadius,x:S,y:L,width:A,height:M}),this._hbarXMin=S+A/2,this._hbarTranslateMax=w-A):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var z=m>k,P=l.barWidth+2*l.barPad,O=l.barLength+2*l.barPad,I=p+g,D=v;I+P>s&&(I=s-P);var R=this.container.selectAll("rect.scrollbar-vertical").data(z?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-vertical",!0).call(n.fill,l.barColor),z?(this.vbar=R.attr({rx:l.barRadius,ry:l.barRadius,x:I,y:D,width:P,height:O}),this._vbarYMin=D+O/2,this._vbarTranslateMax=k-O):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var E=this.id,j=d-.5,F=z?u+P+.5:u+.5,N=h-.5,B=T?f+M+.5:f+.5,H=i._topdefs.selectAll("#"+E).data(T||z?[0]:[]);if(H.exit().remove(),H.enter().append("clipPath").attr("id",E).append("rect"),T||z?(this._clipRect=H.select("rect").attr({x:Math.floor(j),y:Math.floor(N),width:Math.ceil(F)-Math.floor(j),height:Math.ceil(B)-Math.floor(N)}),this.container.call(o.setClipUrl,E),this.bg.attr({x:p,y:v,width:g,height:m})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),T||z){var V=a.behavior.drag().on("dragstart",function(){a.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(V);var q=a.behavior.drag().on("dragstart",function(){a.event.sourceEvent.preventDefault(),a.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(q),z&&this.vbar.on(".drag",null).call(q)}this.setTranslate(t,r)},l.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},l.prototype._onBoxDrag=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e-=a.event.dx),this.vbar&&(t-=a.event.dy),this.setTranslate(e,t)},l.prototype._onBoxWheel=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e+=a.event.deltaY),this.vbar&&(t+=a.event.deltaY),this.setTranslate(e,t)},l.prototype._onBarDrag=function(){var e=this.translateX,t=this.translateY;if(this.hbar){var r=e+this._hbarXMin,n=r+this._hbarTranslateMax;e=(i.constrain(a.event.x,r,n)-r)/(n-r)*(this.position.w-this._box.w)}if(this.vbar){var o=t+this._vbarYMin,l=o+this._vbarTranslateMax;t=(i.constrain(a.event.y,o,l)-o)/(l-o)*(this.position.h-this._box.h)}this.setTranslate(e,t)},l.prototype.setTranslate=function(e,t){var r=this.position.w-this._box.w,a=this.position.h-this._box.h;if(e=i.constrain(e||0,0,r),t=i.constrain(t||0,0,a),this.translateX=e,this.translateY=t,this.container.call(o.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var n=e/r;this.hbar.call(o.setTranslate,e+n*this._hbarTranslateMax,t)}if(this.vbar){var l=t/a;this.vbar.call(o.setTranslate,e,t+l*this._vbarTranslateMax)}}},function(e,t,r){"use strict";var a=r(278);e.exports={moduleType:"component",name:a.name,layoutAttributes:r(355),supplyLayoutDefaults:r(419),draw:r(420)}},function(e,t,r){"use strict";var a=r(0),n=r(72),o=r(355),i=r(278).name,l=o.steps;function s(e,t,r){function i(r,n){return a.coerce(e,t,o,r,n)}for(var l=n(e,t,{name:"steps",handleItemDefaults:c}),s=0,d=0;d<l.length;d++)l[d].visible&&s++;if(s<2?t.visible=!1:i("visible")){t._stepCount=s;var u=t._visibleSteps=a.filterVisible(l);(l[i("active")]||{}).visible||(t.active=u[0]._index),i("x"),i("y"),a.noneOrAll(e,t,["x","y"]),i("xanchor"),i("yanchor"),i("len"),i("lenmode"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),a.coerceFont(i,"font",r.font),i("currentvalue.visible")&&(i("currentvalue.xanchor"),i("currentvalue.prefix"),i("currentvalue.suffix"),i("currentvalue.offset"),a.coerceFont(i,"currentvalue.font",t.font)),i("transition.duration"),i("transition.easing"),i("bgcolor"),i("activebgcolor"),i("bordercolor"),i("borderwidth"),i("ticklen"),i("tickwidth"),i("tickcolor"),i("minorticklen")}}function c(e,t){function r(r,n){return a.coerce(e,t,l,r,n)}("skip"===e.method||Array.isArray(e.args)?r("visible"):t.visible=!1)&&(r("method"),r("args"),r("value",r("label","step-"+t._index)),r("execute"))}e.exports=function(e,t){n(e,t,{name:i,handleItemDefaults:s})}},function(e,t,r){"use strict";var a=r(3),n=r(43),o=r(11),i=r(26),l=r(0),s=r(29),c=r(276),d=r(19).arrayEditor,u=r(278),h=r(20),f=h.LINE_SPACING,p=h.FROM_TL,g=h.FROM_BR;function v(e){return u.autoMarginIdRoot+e._index}function m(e){return e._index}function y(e,t){var r=i.tester.selectAll("g."+u.labelGroupClass).data(t._visibleSteps);r.enter().append("g").classed(u.labelGroupClass,!0);var o=0,l=0;r.each(function(e){var r=_(a.select(this),{step:e},t).node();if(r){var n=i.bBox(r);l=Math.max(l,n.height),o=Math.max(o,n.width)}}),r.remove();var d=t._dims={};d.inputAreaWidth=Math.max(u.railWidth,u.gripHeight);var h=e._fullLayout._size;d.lx=h.l+h.w*t.x,d.ly=h.t+h.h*(1-t.y),"fraction"===t.lenmode?d.outerLength=Math.round(h.w*t.len):d.outerLength=t.len,d.inputAreaStart=0,d.inputAreaLength=Math.round(d.outerLength-t.pad.l-t.pad.r);var f=(d.inputAreaLength-2*u.stepInset)/(t._stepCount-1),m=o+u.labelPadding;if(d.labelStride=Math.max(1,Math.ceil(m/f)),d.labelHeight=l,d.currentValueMaxWidth=0,d.currentValueHeight=0,d.currentValueTotalHeight=0,d.currentValueMaxLines=1,t.currentvalue.visible){var y=i.tester.append("g");r.each(function(e){var r=x(y,t,e.label),a=r.node()&&i.bBox(r.node())||{width:0,height:0},n=s.lineCount(r);d.currentValueMaxWidth=Math.max(d.currentValueMaxWidth,Math.ceil(a.width)),d.currentValueHeight=Math.max(d.currentValueHeight,Math.ceil(a.height)),d.currentValueMaxLines=Math.max(d.currentValueMaxLines,n)}),d.currentValueTotalHeight=d.currentValueHeight+t.currentvalue.offset,y.remove()}d.height=d.currentValueTotalHeight+u.tickOffset+t.ticklen+u.labelOffset+d.labelHeight+t.pad.t+t.pad.b;var b="left";c.isRightAnchor(t)&&(d.lx-=d.outerLength,b="right"),c.isCenterAnchor(t)&&(d.lx-=d.outerLength/2,b="center");var w="top";c.isBottomAnchor(t)&&(d.ly-=d.height,w="bottom"),c.isMiddleAnchor(t)&&(d.ly-=d.height/2,w="middle"),d.outerLength=Math.ceil(d.outerLength),d.height=Math.ceil(d.height),d.lx=Math.round(d.lx),d.ly=Math.round(d.ly);var k={y:t.y,b:d.height*g[w],t:d.height*p[w]};"fraction"===t.lenmode?(k.l=0,k.xl=t.x-t.len*p[b],k.r=0,k.xr=t.x+t.len*g[b]):(k.x=t.x,k.l=d.outerLength*p[b],k.r=d.outerLength*g[b]),n.autoMargin(e,v(t),k)}function x(e,t,r){if(t.currentvalue.visible){var a,n,o=t._dims;switch(t.currentvalue.xanchor){case"right":a=o.inputAreaLength-u.currentValueInset-o.currentValueMaxWidth,n="left";break;case"center":a=.5*o.inputAreaLength,n="middle";break;default:a=u.currentValueInset,n="left"}var c=l.ensureSingle(e,"text",u.labelClass,function(e){e.classed("user-select-none",!0).attr({"text-anchor":n,"data-notex":1})}),d=t.currentvalue.prefix?t.currentvalue.prefix:"";if("string"==typeof r)d+=r;else d+=t.steps[t.active].label;t.currentvalue.suffix&&(d+=t.currentvalue.suffix),c.call(i.font,t.currentvalue.font).text(d).call(s.convertToTspans,t._gd);var h=s.lineCount(c),p=(o.currentValueMaxLines+1-h)*t.currentvalue.font.size*f;return s.positionText(c,a,p),c}}function b(e,t,r){l.ensureSingle(e,"rect",u.gripRectClass,function(a){a.call(A,t,e,r).style("pointer-events","all")}).attr({width:u.gripWidth,height:u.gripHeight,rx:u.gripRadius,ry:u.gripRadius}).call(o.stroke,r.bordercolor).call(o.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function _(e,t,r){var a=l.ensureSingle(e,"text",u.labelClass,function(e){e.classed("user-select-none",!0).attr({"text-anchor":"middle","data-notex":1})});return a.call(i.font,r.font).text(t.step.label).call(s.convertToTspans,r._gd),a}function w(e,t){var r=l.ensureSingle(e,"g",u.labelsClass),n=t._dims,o=r.selectAll("g."+u.labelGroupClass).data(n.labelSteps);o.enter().append("g").classed(u.labelGroupClass,!0),o.exit().remove(),o.each(function(e){var r=a.select(this);r.call(_,e,t),i.setTranslate(r,L(t,e.fraction),u.tickOffset+t.ticklen+t.font.size*f+u.labelOffset+n.currentValueTotalHeight)})}function k(e,t,r,a,n){var o=Math.round(a*(r._stepCount-1)),i=r._visibleSteps[o]._index;i!==r.active&&T(e,t,r,i,!0,n)}function T(e,t,r,a,o,i){var l=r.active;r.active=a,d(e.layout,u.name,r).applyUpdate("active",a);var s=r.steps[r.active];t.call(S,r,i),t.call(x,r),e.emit("plotly_sliderchange",{slider:r,step:r.steps[r.active],interaction:o,previousActive:l}),s&&s.method&&o&&(t._nextMethod?(t._nextMethod.step=s,t._nextMethod.doCallback=o,t._nextMethod.doTransition=i):(t._nextMethod={step:s,doCallback:o,doTransition:i},t._nextMethodRaf=window.requestAnimationFrame(function(){var r=t._nextMethod.step;r.method&&(r.execute&&n.executeAPICommand(e,r.method,r.args),t._nextMethod=null,t._nextMethodRaf=null)})))}function A(e,t,r){var n=r.node(),i=a.select(t);function l(){return r.data()[0]}e.on("mousedown",function(){var e=l();t.emit("plotly_sliderstart",{slider:e});var s=r.select("."+u.gripRectClass);a.event.stopPropagation(),a.event.preventDefault(),s.call(o.fill,e.activebgcolor);var c=C(e,a.mouse(n)[0]);k(t,r,e,c,!0),e._dragging=!0,i.on("mousemove",function(){var e=l(),o=C(e,a.mouse(n)[0]);k(t,r,e,o,!1)}),i.on("mouseup",function(){var e=l();e._dragging=!1,s.call(o.fill,e.bgcolor),i.on("mouseup",null),i.on("mousemove",null),t.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})})})}function M(e,t){var r=e.selectAll("rect."+u.tickRectClass).data(t._visibleSteps),n=t._dims;r.enter().append("rect").classed(u.tickRectClass,!0),r.exit().remove(),r.attr({width:t.tickwidth+"px","shape-rendering":"crispEdges"}),r.each(function(e,r){var l=r%n.labelStride==0,s=a.select(this);s.attr({height:l?t.ticklen:t.minorticklen}).call(o.fill,t.tickcolor),i.setTranslate(s,L(t,r/(t._stepCount-1))-.5*t.tickwidth,(l?u.tickOffset:u.minorTickOffset)+n.currentValueTotalHeight)})}function S(e,t,r){for(var a=e.select("rect."+u.gripRectClass),n=0,o=0;o<t._stepCount;o++)if(t._visibleSteps[o]._index===t.active){n=o;break}var i=L(t,n/(t._stepCount-1));if(!t._invokingCommand){var l=a;r&&t.transition.duration>0&&(l=l.transition().duration(t.transition.duration).ease(t.transition.easing)),l.attr("transform","translate("+(i-.5*u.gripWidth)+","+t._dims.currentValueTotalHeight+")")}}function L(e,t){var r=e._dims;return r.inputAreaStart+u.stepInset+(r.inputAreaLength-2*u.stepInset)*Math.min(1,Math.max(0,t))}function C(e,t){var r=e._dims;return Math.min(1,Math.max(0,(t-u.stepInset-r.inputAreaStart)/(r.inputAreaLength-2*u.stepInset-2*r.inputAreaStart)))}function z(e,t,r){var a=r._dims,n=l.ensureSingle(e,"rect",u.railTouchRectClass,function(a){a.call(A,t,e,r).style("pointer-events","all")});n.attr({width:a.inputAreaLength,height:Math.max(a.inputAreaWidth,u.tickOffset+r.ticklen+a.labelHeight)}).call(o.fill,r.bgcolor).attr("opacity",0),i.setTranslate(n,0,a.currentValueTotalHeight)}function P(e,t){var r=t._dims,a=r.inputAreaLength-2*u.railInset,n=l.ensureSingle(e,"rect",u.railRectClass);n.attr({width:a,height:u.railWidth,rx:u.railRadius,ry:u.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,t.bordercolor).call(o.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px"),i.setTranslate(n,u.railInset,.5*(r.inputAreaWidth-u.railWidth)+r.currentValueTotalHeight)}e.exports=function(e){var t=e._fullLayout,r=function(e,t){for(var r=e[u.name],a=[],n=0;n<r.length;n++){var o=r[n];o.visible&&(o._gd=t,a.push(o))}return a}(t,e),o=t._infolayer.selectAll("g."+u.containerClassName).data(r.length>0?[0]:[]);function l(t){t._commandObserver&&(t._commandObserver.remove(),delete t._commandObserver),n.autoMargin(e,v(t))}if(o.enter().append("g").classed(u.containerClassName,!0).style("cursor","ew-resize"),o.exit().each(function(){a.select(this).selectAll("g."+u.groupClassName).each(l)}).remove(),0!==r.length){var s=o.selectAll("g."+u.groupClassName).data(r,m);s.enter().append("g").classed(u.groupClassName,!0),s.exit().each(l).remove();for(var c=0;c<r.length;c++){var d=r[c];y(e,d)}s.each(function(t){var r=a.select(this);!function(e){var t=e._dims;t.labelSteps=[];for(var r=e._stepCount,a=0;a<r;a+=t.labelStride)t.labelSteps.push({fraction:a/(r-1),step:e._visibleSteps[a]})}(t),n.manageCommandObserver(e,t,t._visibleSteps,function(t){var a=r.data()[0];a.active!==t.index&&(a._dragging||T(e,r,a,t.index,!1,!0))}),function(e,t,r){(r.steps[r.active]||{}).visible||(r.active=r._visibleSteps[0]._index);t.call(x,r).call(P,r).call(w,r).call(M,r).call(z,e,r).call(b,e,r);var a=r._dims;i.setTranslate(t,a.lx+r.pad.l,a.ly+r.pad.t),t.call(S,r,!1),t.call(x,r)}(e,a.select(this),t)})}}},function(e,t,r){"use strict";var a=r(0),n=r(324),o=r(356);e.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:a.extendFlat({},n,{yaxis:o})}}},layoutAttributes:r(324),handleDefaults:r(422),calcAutorange:r(423),draw:r(424)}},function(e,t,r){"use strict";var a=r(0),n=r(19),o=r(27),i=r(324),l=r(356);e.exports=function(e,t,r){var s=e[r],c=t[r];if(s.rangeslider||t._requestRangeslider[c._id]){a.isPlainObject(s.rangeslider)||(s.rangeslider={});var d,u,h=s.rangeslider,f=n.newContainer(c,"rangeslider");if(_("visible")){_("bgcolor",t.plot_bgcolor),_("bordercolor"),_("borderwidth"),_("thickness"),_("autorange",!c.isValidRange(h.range)),_("range");var p=t._subplots;if(p)for(var g=p.cartesian.filter(function(e){return e.substr(0,e.indexOf("y"))===o.name2id(r)}).map(function(e){return e.substr(e.indexOf("y"),e.length)}),v=a.simpleMap(g,o.id2name),m=0;m<v.length;m++){var y=v[m];d=h[y]||{},u=n.newContainer(f,y,"yaxis");var x,b=t[y];d.range&&b.isValidRange(d.range)&&(x="fixed"),"match"!==w("rangemode",x)&&w("range",b.range.slice())}f._input=h}}function _(e,t){return a.coerce(h,f,i,e,t)}function w(e,t){return a.coerce(d,u,l,e,t)}}},function(e,t,r){"use strict";var a=r(27).list,n=r(67).getAutoRange,o=r(357);e.exports=function(e){for(var t=a(e,"x",!0),r=0;r<t.length;r++){var i=t[r],l=i[o.name];l&&l.visible&&l.autorange&&(l._input.autorange=!0,l._input.range=l.range=n(e,i))}}},function(e,t,r){"use strict";var a=r(3),n=r(5),o=r(43),i=r(0),l=r(26),s=r(11),c=r(74),d=r(232),u=r(65),h=r(199),f=r(202),p=r(357);function g(e,t,r,a){var n=i.ensureSingle(e,"rect",p.bgClassName,function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),o=a.borderwidth%2==0?a.borderwidth:a.borderwidth-1,s=-a._offsetShift,c=l.crispRound(t,a.borderwidth);n.attr({width:a._width+o,height:a._height+o,transform:"translate("+s+","+s+")",fill:a.bgcolor,stroke:a.bordercolor,"stroke-width":c})}function v(e,t,r,a){var n=t._fullLayout;i.ensureSingleById(n._topdefs,"clipPath",a._clipId,function(e){e.append("rect").attr({x:0,y:0})}).select("rect").attr({width:a._width,height:a._height})}function m(e,t,r,n){var s,c=u.getSubplots(t,r),h=t.calcdata,f=e.selectAll("g."+p.rangePlotClassName).data(c,i.identity);f.enter().append("g").attr("class",function(e){return p.rangePlotClassName+" "+e}).call(l.setClipUrl,n._clipId),f.order(),f.exit().remove(),f.each(function(e,i){var l=a.select(this),c=0===i,f=u.getFromId(t,e,"y"),p=f._name,g=n[p],v={data:[],layout:{xaxis:{type:r.type,domain:[0,1],range:n.range.slice(),calendar:r.calendar},width:n._width,height:n._height,margin:{t:0,b:0,l:0,r:0}},_context:t._context};v.layout[p]={type:f.type,domain:[0,1],range:"match"!==g.rangemode?g.range.slice():f.range.slice(),calendar:f.calendar},o.supplyDefaults(v);var m={id:e,plotgroup:l,xaxis:v._fullLayout.xaxis,yaxis:v._fullLayout[p],isRangePlot:!0};c?s=m:(m.mainplot="xy",m.mainplotinfo=s),d.rangePlot(t,m,function(e,t){for(var r=[],a=0;a<e.length;a++){var n=e[a],o=n[0].trace;o.xaxis+o.yaxis===t&&r.push(n)}return r}(h,e))})}function y(e,t,r,a,n){(i.ensureSingle(e,"rect",p.maskMinClassName,function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",a._height).call(s.fill,p.maskColor),i.ensureSingle(e,"rect",p.maskMaxClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",a._height).call(s.fill,p.maskColor),"match"!==n.rangemode)&&(i.ensureSingle(e,"rect",p.maskMinOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",a._width).call(s.fill,p.maskOppAxisColor),i.ensureSingle(e,"rect",p.maskMaxOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",a._width).style("border-top",p.maskOppBorder).call(s.fill,p.maskOppAxisColor))}function x(e,t,r,a){t._context.staticPlot||i.ensureSingle(e,"rect",p.slideBoxClassName,function(e){e.attr({y:0,cursor:p.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:a._height,fill:p.slideBoxFill})}function b(e,t,r,a){var n=i.ensureSingle(e,"g",p.grabberMinClassName),o=i.ensureSingle(e,"g",p.grabberMaxClassName),l={x:0,width:p.handleWidth,rx:p.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":p.handleStrokeWidth,"shape-rendering":"crispEdges"},c={y:Math.round(a._height/4),height:Math.round(a._height/2)};if(i.ensureSingle(n,"rect",p.handleMinClassName,function(e){e.attr(l)}).attr(c),i.ensureSingle(o,"rect",p.handleMaxClassName,function(e){e.attr(l)}).attr(c),!t._context.staticPlot){var d={width:p.grabAreaWidth,x:0,y:0,fill:p.grabAreaFill,cursor:p.grabAreaCursor};i.ensureSingle(n,"rect",p.grabAreaMinClassName,function(e){e.attr(d)}).attr("height",a._height),i.ensureSingle(o,"rect",p.grabAreaMaxClassName,function(e){e.attr(d)}).attr("height",a._height)}}e.exports=function(e){var t=e._fullLayout,r=function(e){var t=u.list({_fullLayout:e},"x",!0),r=p.name,a=[];if(e._has("gl2d"))return a;for(var n=0;n<t.length;n++){var o=t[n];o[r]&&o[r].visible&&a.push(o)}return a}(t);var l=t._infolayer.selectAll("g."+p.containerClassName).data(r,function(e){return e._name});l.enter().append("g").classed(p.containerClassName,!0).attr("pointer-events","all"),l.exit().each(function(e){var r=e[p.name];t._topdefs.select("#"+r._clipId).remove()}).remove(),0!==r.length&&l.each(function(r){var l=a.select(this),s=r[p.name],d=t[u.id2name(r.anchor)],_=s[u.id2name(r.anchor)];if(s.range){var w=s.range,k=r.range;w[0]=r.l2r(Math.min(r.r2l(w[0]),r.r2l(k[0]))),w[1]=r.l2r(Math.max(r.r2l(w[1]),r.r2l(k[1]))),s._input.range=w.slice()}r.cleanRange("rangeslider.range");for(var T=t.margin,A=t._size,M=r.domain,S=(r._boundingBox||{}).height||0,L=1/0,C=u.getSubplots(e,r),z=0;z<C.length;z++){var P=u.getFromId(e,C[z].substr(C[z].indexOf("y")));L=Math.min(L,P.domain[0])}s._id=p.name+r._id,s._clipId=s._id+"-"+t._uid,s._width=A.w*(M[1]-M[0]),s._height=(t.height-T.b-T.t)*s.thickness,s._offsetShift=Math.floor(s.borderwidth/2);var O=Math.round(T.l+A.w*M[0]),I=Math.round(A.t+A.h*(1-L)+S+s._offsetShift+p.extraPad);l.attr("transform","translate("+O+","+I+")");var D=r.r2l(s.range[0]),R=r.r2l(s.range[1]),E=R-D;if(s.p2d=function(e){return e/s._width*E+D},s.d2p=function(e){return(e-D)/E*s._width},s._rl=[D,R],"match"!==_.rangemode){var j=d.r2l(_.range[0]),F=d.r2l(_.range[1])-j;s.d2pOppAxis=function(e){return(e-j)/F*s._height}}l.call(g,e,r,s).call(v,e,r,s).call(m,e,r,s).call(y,e,r,s,_).call(x,e,r,s).call(b,e,r,s),function(e,t,r,o){var l=e.select("rect."+p.slideBoxClassName).node(),s=e.select("rect."+p.grabAreaMinClassName).node(),c=e.select("rect."+p.grabAreaMaxClassName).node();e.on("mousedown",function(){var d=a.event,u=d.target,p=d.clientX,g=p-e.node().getBoundingClientRect().left,v=o.d2p(r._rl[0]),m=o.d2p(r._rl[1]),y=h.coverSlip();function x(e){var d,h,x,b=+e.clientX-p;switch(u){case l:x="ew-resize",d=v+b,h=m+b;break;case s:x="col-resize",d=v+b,h=m;break;case c:x="col-resize",d=v,h=m+b;break;default:x="ew-resize",d=g,h=g+b}if(h<d){var _=h;h=d,d=_}o._pixelMin=d,o._pixelMax=h,f(a.select(y),x),function(e,t,r,a){function o(e){return r.l2r(i.constrain(e,a._rl[0],a._rl[1]))}var l=o(a.p2d(a._pixelMin)),s=o(a.p2d(a._pixelMax));window.requestAnimationFrame(function(){n.call("relayout",t,r._name+".range",[l,s])})}(0,t,r,o)}y.addEventListener("mousemove",x),y.addEventListener("mouseup",function e(){y.removeEventListener("mousemove",x);y.removeEventListener("mouseup",e);i.removeElement(y)})})}(l,e,r,s),function(e,t,r,a,n,o){var l=p.handleWidth/2;function s(e){return i.constrain(e,0,a._width)}function c(e){return i.constrain(e,0,a._height)}function d(e){return i.constrain(e,-l,a._width+l)}var u=s(a.d2p(r._rl[0])),h=s(a.d2p(r._rl[1]));if(e.select("rect."+p.slideBoxClassName).attr("x",u).attr("width",h-u),e.select("rect."+p.maskMinClassName).attr("width",u),e.select("rect."+p.maskMaxClassName).attr("x",h).attr("width",a._width-h),"match"!==o.rangemode){var f=a._height-c(a.d2pOppAxis(n._rl[1])),g=a._height-c(a.d2pOppAxis(n._rl[0]));e.select("rect."+p.maskMinOppAxisClassName).attr("x",u).attr("height",f).attr("width",h-u),e.select("rect."+p.maskMaxOppAxisClassName).attr("x",u).attr("y",g).attr("height",a._height-g).attr("width",h-u),e.select("rect."+p.slideBoxClassName).attr("y",f).attr("height",g-f)}var v=Math.round(d(u-l))-.5,m=Math.round(d(h-l))+.5;e.select("g."+p.grabberMinClassName).attr("transform","translate("+v+",0.5)"),e.select("g."+p.grabberMaxClassName).attr("transform","translate("+m+",0.5)")}(l,0,r,s,d,_),"bottom"===r.side&&c.draw(e,r._id+"title",{propContainer:r,propName:r._name+".title",placeholder:t._dfltTitle.x,attributes:{x:r._offset+r._length/2,y:I+s._height+s._offsetShift+10+1.5*r.titlefont.size,"text-anchor":"middle"}}),o.autoMargin(e,s._id,{x:M[0],y:L,l:0,r:0,t:0,b:s._height+T.b+S,pad:p.extraPad+2*s._offsetShift})})}},function(e,t,r){"use strict";e.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:r(325)}}},layoutAttributes:r(325),handleDefaults:r(426),draw:r(427)}},function(e,t,r){"use strict";var a=r(0),n=r(11),o=r(19),i=r(72),l=r(325),s=r(358);function c(e,t,r,n){var o=n.calendar;function i(r,n){return a.coerce(e,t,l.buttons,r,n)}if(i("visible")){var s=i("step");"all"!==s&&(!o||"gregorian"===o||"month"!==s&&"year"!==s?i("stepmode"):t.stepmode="backward",i("count")),i("label")}}e.exports=function(e,t,r,d,u){var h=e.rangeselector||{},f=o.newContainer(t,"rangeselector");function p(e,t){return a.coerce(h,f,l,e,t)}if(p("visible",i(h,f,{name:"buttons",handleItemDefaults:c,calendar:u}).length>0)){var g=function(e,t,r){for(var a=r.filter(function(r){return t[r].anchor===e._id}),n=0,o=0;o<a.length;o++){var i=t[a[o]].domain;i&&(n=Math.max(i[1],n))}return[e.domain[0],n+s.yPad]}(t,r,d);p("x",g[0]),p("y",g[1]),a.noneOrAll(e,t,["x","y"]),p("xanchor"),p("yanchor"),a.coerceFont(p,"font",r.font);var v=p("bgcolor");p("activecolor",n.contrast(v,s.lightAmount,s.darkAmount)),p("bordercolor"),p("borderwidth")}}},function(e,t,r){"use strict";var a=r(3),n=r(5),o=r(43),i=r(11),l=r(26),s=r(0),c=r(29),d=r(27),u=r(276),h=r(20),f=h.LINE_SPACING,p=h.FROM_TL,g=h.FROM_BR,v=r(358),m=r(428);function y(e){return e._id}function x(e,t,r){var a=s.ensureSingle(e,"rect","selector-rect",function(e){e.attr("shape-rendering","crispEdges")});a.attr({rx:v.rx,ry:v.ry}),a.call(i.stroke,t.bordercolor).call(i.fill,function(e,t){return t._isActive||t._isHovered?e.activecolor:e.bgcolor}(t,r)).style("stroke-width",t.borderwidth+"px")}function b(e,t,r,a){var n;s.ensureSingle(e,"text","selector-text",function(e){e.classed("user-select-none",!0).attr("text-anchor","middle")}).call(l.font,t.font).text((n=r,n.label?n.label:"all"===n.step?"all":n.count+n.step.charAt(0))).call(function(e){c.convertToTspans(e,a)})}e.exports=function(e){var t=e._fullLayout._infolayer.selectAll(".rangeselector").data(function(e){for(var t=d.list(e,"x",!0),r=[],a=0;a<t.length;a++){var n=t[a];n.rangeselector&&n.rangeselector.visible&&r.push(n)}return r}(e),y);t.enter().append("g").classed("rangeselector",!0),t.exit().remove(),t.style({cursor:"pointer","pointer-events":"all"}),t.each(function(t){var r=a.select(this),i=t,d=i.rangeselector,h=r.selectAll("g.button").data(s.filterVisible(d.buttons));h.enter().append("g").classed("button",!0),h.exit().remove(),h.each(function(t){var r=a.select(this),o=m(i,t);t._isActive=function(e,t,r){if("all"===t.step)return!0===e.autorange;var a=Object.keys(r);return e.range[0]===r[a[0]]&&e.range[1]===r[a[1]]}(i,t,o),r.call(x,d,t),r.call(b,d,t,e),r.on("click",function(){e._dragged||n.call("relayout",e,o)}),r.on("mouseover",function(){t._isHovered=!0,r.call(x,d,t)}),r.on("mouseout",function(){t._isHovered=!1,r.call(x,d,t)})}),function(e,t,r,n,i){var s=0,d=0,h=r.borderwidth;t.each(function(){var e=a.select(this),t=e.select(".selector-text"),n=r.font.size*f,o=Math.max(n*c.lineCount(t),16)+3;d=Math.max(d,o)}),t.each(function(){var e=a.select(this),t=e.select(".selector-rect"),n=e.select(".selector-text"),o=n.node()&&l.bBox(n.node()).width,i=r.font.size*f,u=c.lineCount(n),p=Math.max(o+10,v.minButtonWidth);e.attr("transform","translate("+(h+s)+","+h+")"),t.attr({x:0,y:0,width:p,height:d}),c.positionText(n,p/2,d/2-(u-1)*i/2+3),s+=p+5});var m=e._fullLayout._size,y=m.l+m.w*r.x,x=m.t+m.h*(1-r.y),b="left";u.isRightAnchor(r)&&(y-=s,b="right");u.isCenterAnchor(r)&&(y-=s/2,b="center");var _="top";u.isBottomAnchor(r)&&(x-=d,_="bottom");u.isMiddleAnchor(r)&&(x-=d/2,_="middle");s=Math.ceil(s),d=Math.ceil(d),y=Math.round(y),x=Math.round(x),o.autoMargin(e,n+"-range-selector",{x:r.x,y:r.y,l:s*p[b],r:s*g[b],b:d*g[_],t:d*p[_]}),i.attr("transform","translate("+y+","+x+")")}(e,h,d,i._name,r)})}},function(e,t,r){"use strict";var a=r(3);e.exports=function(e,t){var r=e._name,n={};if("all"===t.step)n[r+".autorange"]=!0;else{var o=function(e,t){var r,n=e.range,o=new Date(e.r2l(n[1])),i=t.step,l=t.count;switch(t.stepmode){case"backward":r=e.l2r(+a.time[i].utc.offset(o,-l));break;case"todate":var s=a.time[i].utc.offset(o,-l);r=e.l2r(+a.time[i].utc.ceil(s))}var c=n[1];return[r,c]}(e,t);n[r+".range[0]"]=o[0],n[r+".range[1]"]=o[1]}return n}},function(e,t,r){"use strict";var a=r(0),n=r(38).counter,o=r(279).attributes,i=r(28).idRegex,l=r(19),s={rows:{valType:"integer",min:1,role:"info",editType:"plot",description:["The number of rows in the grid. If you provide a 2D `subplots`","array or a `yaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",role:"info",editType:"plot",description:["Is the first row the top or the bottom? Note that columns","are always enumerated from left to right."].join(" ")},columns:{valType:"integer",min:1,role:"info",editType:"plot",description:["The number of columns in the grid. If you provide a 2D `subplots`","array, the length of its longest row is used as the default.","If you give an `xaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[n("xy").toString(),""],editType:"plot"},role:"info",editType:"plot",description:["Used for freeform grids, where some axes may be shared across subplots","but others are not. Each entry should be a cartesian subplot id, like","*xy* or *x3y2*, or ** to leave that cell empty. You may reuse x axes","within the same column, and y axes within the same row.","Non-cartesian subplots and traces that support `domain` can place themselves","in this grid separately using the `gridcell` attribute."].join(" ")},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[i.x.toString(),""],editType:"plot"},role:"info",editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an x axis id like *x*, *x2*, etc., or ** to","not put an x axis in that column. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `yaxes` is present,","will generate consecutive IDs."].join(" ")},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[i.y.toString(),""],editType:"plot"},role:"info",editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an y axis id like *y*, *y2*, etc., or ** to","not put a y axis in that row. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `xaxes` is present,","will generate consecutive IDs."].join(" ")},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",role:"info",editType:"plot",description:["If no `subplots`, `xaxes`, or `yaxes` are given but we do have `rows` and `columns`,","we can generate defaults using consecutive axis IDs, in two ways:","*coupled* gives one x axis per column and one y axis per row.","*independent* uses a new xy pair for each cell, left-to-right across each row","then iterating rows according to `roworder`."].join(" ")},xgap:{valType:"number",min:0,max:1,role:"info",editType:"plot",description:["Horizontal space between grid cells, expressed as a fraction","of the total width available to one cell. Defaults to 0.1","for coupled-axes grids and 0.2 for independent grids."].join(" ")},ygap:{valType:"number",min:0,max:1,role:"info",editType:"plot",description:["Vertical space between grid cells, expressed as a fraction","of the total height available to one cell. Defaults to 0.1","for coupled-axes grids and 0.3 for independent grids."].join(" ")},domain:o({name:"grid",editType:"plot",noGridCell:!0},{description:["The first and last cells end exactly at the domain","edges, with no grout around the edges."].join(" ")}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",role:"info",editType:"plot",description:["Sets where the x axis labels and titles go. *bottom* means","the very bottom of the grid. *bottom plot* is the lowest plot","that each x axis is used in. *top* and *top plot* are similar."].join(" ")},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",role:"info",editType:"plot",description:["Sets where the y axis labels and titles go. *left* means","the very left edge of the grid. *left plot* is the leftmost plot","that each y axis is used in. *right* and *right plot* are similar."].join(" ")},editType:"plot"};function c(e,t,r){var a=t[r+"axes"],n=Object.keys((e._splomAxes||{})[r]||{});return Array.isArray(a)?a:n.length?n:void 0}function d(e,t,r,a,n,o){var i=t(e+"gap",r),l=t("domain."+e);t(e+"side",a);for(var s=new Array(n),c=l[0],d=(l[1]-c)/(n-i),u=d*(1-i),h=0;h<n;h++){var f=c+d*h;s[o?n-1-h:h]=[f,f+u]}return s}function u(e,t,r,a,n){var o,i=new Array(r);function l(e,r){-1!==t.indexOf(r)&&void 0===a[r]?(i[e]=r,a[r]=e):i[e]=""}if(Array.isArray(e))for(o=0;o<r;o++)l(o,e[o]);else for(l(0,n),o=1;o<r;o++)l(o,n+(o+1));return i}e.exports={moduleType:"component",name:"grid",schema:{layout:{grid:s}},layoutAttributes:s,sizeDefaults:function(e,t){var r=e.grid||{},n=c(t,r,"x"),o=c(t,r,"y");if(e.grid||n||o){var i,u,h=Array.isArray(r.subplots)&&Array.isArray(r.subplots[0]),f=Array.isArray(n),p=Array.isArray(o),g=f&&n!==r.xaxes&&p&&o!==r.yaxes;h?(i=r.subplots.length,u=r.subplots[0].length):(p&&(i=o.length),f&&(u=n.length));var v=l.newContainer(t,"grid"),m=T("rows",i),y=T("columns",u);if(m*y>1){h||f||p||"independent"===T("pattern")&&(h=!0),v._hasSubplotGrid=h;var x,b,_="top to bottom"===T("roworder"),w=h?.2:.1,k=h?.3:.1;g&&t._splomGridDflt&&(x=t._splomGridDflt.xside,b=t._splomGridDflt.yside),v._domains={x:d("x",T,w,x,y),y:d("y",T,k,b,m,_)}}else delete t.grid}function T(e,t){return a.coerce(r,v,s,e,t)}},contentDefaults:function(e,t){var r=t.grid;if(r&&r._domains){var a,n,o,i,l,s,d,h=e.grid||{},f=t._subplots,p=r._hasSubplotGrid,g=r.rows,v=r.columns,m="independent"===r.pattern,y=r._axisMap={};if(p){var x=h.subplots||[];s=r.subplots=new Array(g);var b=1;for(a=0;a<g;a++){var _=s[a]=new Array(v),w=x[a]||[];for(n=0;n<v;n++)if(m?(l=1===b?"xy":"x"+b+"y"+b,b++):l=w[n],_[n]="",-1!==f.cartesian.indexOf(l)){if(d=l.indexOf("y"),o=l.slice(0,d),i=l.slice(d),void 0!==y[o]&&y[o]!==n||void 0!==y[i]&&y[i]!==a)continue;_[n]=l,y[o]=n,y[i]=a}}}else{var k=c(t,h,"x"),T=c(t,h,"y");r.xaxes=u(k,f.xaxis,v,y,"x"),r.yaxes=u(T,f.yaxis,g,y,"y")}var A=r._anchors={},M="top to bottom"===r.roworder;for(var S in y){var L,C,z,P=S.charAt(0),O=r[P+"side"];if(O.length<8)A[S]="free";else if("x"===P){if("t"===O.charAt(0)===M?(L=0,C=1,z=g):(L=g-1,C=-1,z=-1),p){var I=y[S];for(a=L;a!==z;a+=C)if((l=s[a][I])&&(d=l.indexOf("y"),l.slice(0,d)===S)){A[S]=l.slice(d);break}}else for(a=L;a!==z;a+=C)if(i=r.yaxes[a],-1!==f.cartesian.indexOf(S+i)){A[S]=i;break}}else if("l"===O.charAt(0)?(L=0,C=1,z=v):(L=v-1,C=-1,z=-1),p){var D=y[S];for(a=L;a!==z;a+=C)if((l=s[D][a])&&(d=l.indexOf("y"),l.slice(d)===S)){A[S]=l.slice(0,d);break}}else for(a=L;a!==z;a+=C)if(o=r.xaxes[a],-1!==f.cartesian.indexOf(o+S)){A[S]=o;break}}}}}},function(e,t,r){"use strict";var a=r(0),n=r(34).overrideAll,o=r(359),i={error_x:a.extendFlat({},o),error_y:a.extendFlat({},o)};delete i.error_x.copy_zstyle,delete i.error_y.copy_zstyle,delete i.error_y.copy_ystyle;var l={error_x:a.extendFlat({},o),error_y:a.extendFlat({},o),error_z:a.extendFlat({},o)};delete l.error_x.copy_ystyle,delete l.error_y.copy_ystyle,delete l.error_z.copy_ystyle,delete l.error_z.copy_zstyle,e.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:i,bar:i,histogram:i,scatter3d:n(l,"calc","nested"),scattergl:n(i,"calc","nested")}},supplyDefaults:r(431),calc:r(432),makeComputeError:r(360),plot:r(433),style:r(434),hoverInfo:function(e,t,r){(t.error_y||{}).visible&&(r.yerr=e.yh-e.y,t.error_y.symmetric||(r.yerrneg=e.y-e.ys));(t.error_x||{}).visible&&(r.xerr=e.xh-e.x,t.error_x.symmetric||(r.xerrneg=e.x-e.xs))}}},function(e,t,r){"use strict";var a=r(1),n=r(5),o=r(0),i=r(19),l=r(359);e.exports=function(e,t,r,s){var c="error_"+s.axis,d=i.newContainer(t,c),u=e[c]||{};function h(e,t){return o.coerce(u,d,l,e,t)}if(!1!==h("visible",void 0!==u.array||void 0!==u.value||"sqrt"===u.type)){var f=h("type","array"in u?"data":"percent"),p=!0;"sqrt"!==f&&(p=h("symmetric",!(("data"===f?"arrayminus":"valueminus")in u))),"data"===f?(h("array"),h("traceref"),p||(h("arrayminus"),h("tracerefminus"))):"percent"!==f&&"constant"!==f||(h("value"),p||h("valueminus"));var g="copy_"+s.inherit+"style";if(s.inherit)(t["error_"+s.inherit]||{}).visible&&h(g,!(u.color||a(u.thickness)||a(u.width)));s.inherit&&d[g]||(h("color",r),h("thickness"),h("width",n.traceIs(t,"gl3d")?0:4))}}},function(e,t,r){"use strict";var a=r(1),n=r(5),o=r(65),i=r(360);function l(e,t,r,n){var l=t["error_"+n]||{},s=[];if(l.visible&&-1!==["linear","log"].indexOf(r.type)){for(var c=i(l),d=0;d<e.length;d++){var u=e[d],h=u.i;if(void 0===h)h=d;else if(null===h)continue;var f=u[n];if(a(r.c2l(f))){var p=c(f,h);if(a(p[0])&&a(p[1])){var g=u[n+"s"]=f-p[0],v=u[n+"h"]=f+p[1];s.push(g,v)}}}var m=o.findExtremes(r,s,{padded:!0}),y=r._id;t._extremes[y].min=t._extremes[y].min.concat(m.min),t._extremes[y].max=t._extremes[y].max.concat(m.max)}}e.exports=function(e){for(var t=e.calcdata,r=0;r<t.length;r++){var a=t[r],i=a[0].trace;if(!0===i.visible&&n.traceIs(i,"errorBarsOK")){var s=o.getFromId(e,i.xaxis),c=o.getFromId(e,i.yaxis);l(a,i,s,"x"),l(a,i,c,"y")}}}},function(e,t,r){"use strict";var a=r(3),n=r(1),o=r(26),i=r(66);e.exports=function(e,t,r){var l=t.xaxis,s=t.yaxis,c=r&&r.duration>0;e.each(function(e){var d,u=e[0].trace,h=u.error_x||{},f=u.error_y||{};u.ids&&(d=function(e){return e.id});var p=i.hasMarkers(u)&&u.marker.maxdisplayed>0;f.visible||h.visible||(e=[]);var g=a.select(this).selectAll("g.errorbar").data(e,d);if(g.exit().remove(),e.length){h.visible||g.selectAll("path.xerror").remove(),f.visible||g.selectAll("path.yerror").remove(),g.style("opacity",1);var v=g.enter().append("g").classed("errorbar",!0);c&&v.style("opacity",0).transition().duration(r.duration).style("opacity",1),o.setClipUrl(g,t.layerClipId),g.each(function(e){var t=a.select(this),o=function(e,t,r){var a={x:t.c2p(e.x),y:r.c2p(e.y)};void 0!==e.yh&&(a.yh=r.c2p(e.yh),a.ys=r.c2p(e.ys),n(a.ys)||(a.noYS=!0,a.ys=r.c2p(e.ys,!0)));void 0!==e.xh&&(a.xh=t.c2p(e.xh),a.xs=t.c2p(e.xs),n(a.xs)||(a.noXS=!0,a.xs=t.c2p(e.xs,!0)));return a}(e,l,s);if(!p||e.vis){var i,d=t.select("path.yerror");if(f.visible&&n(o.x)&&n(o.yh)&&n(o.ys)){var u=f.width;i="M"+(o.x-u)+","+o.yh+"h"+2*u+"m-"+u+",0V"+o.ys,o.noYS||(i+="m-"+u+",0h"+2*u),!d.size()?d=t.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):c&&(d=d.transition().duration(r.duration).ease(r.easing)),d.attr("d",i)}else d.remove();var g=t.select("path.xerror");if(h.visible&&n(o.y)&&n(o.xh)&&n(o.xs)){var v=(h.copy_ystyle?f:h).width;i="M"+o.xh+","+(o.y-v)+"v"+2*v+"m0,-"+v+"H"+o.xs,o.noXS||(i+="m0,-"+v+"v"+2*v),!g.size()?g=t.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):c&&(g=g.transition().duration(r.duration).ease(r.easing)),g.attr("d",i)}else g.remove()}})}})}},function(e,t,r){"use strict";var a=r(3),n=r(11);e.exports=function(e){e.each(function(e){var t=e[0].trace,r=t.error_y||{},o=t.error_x||{},i=a.select(this);i.selectAll("path.yerror").style("stroke-width",r.thickness+"px").call(n.stroke,r.color),o.copy_ystyle&&(o=r),i.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(n.stroke,o.color)})}},function(e,t,r){"use strict";e.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},function(e,t,r){"use strict";e.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},function(e,t,r){"use strict";var a=r(297),n={getDelay:a.getDelay,getRedrawFunc:a.getRedrawFunc,clone:r(361),toSVG:r(298),svgToImg:r(299),toImage:r(438),downloadImage:r(346)};e.exports=n},function(e,t,r){"use strict";var a=r(214).EventEmitter,n=r(5),o=r(0),i=r(297),l=r(361),s=r(298),c=r(299);e.exports=function(e,t){var r=new a,d=l(e,{format:"png"}),u=d.gd;u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);var h=i.getRedrawFunc(u);return n.call("plot",u,d.data,d.layout,d.config).then(h).then(function(){var e=i.getDelay(u._fullLayout);setTimeout(function(){var e=s(u),a=document.createElement("canvas");a.id=o.randstr(),(r=c({format:t.format,width:u._fullLayout.width,height:u._fullLayout.height,canvas:a,emitter:r,svg:e})).clean=function(){u&&document.body.removeChild(u)}},e)}).catch(function(e){r.emit("error",e)}),r}}]));