webpackJsonpCharts([4],{165:function(e,t,n){"use strict";e.exports=n(439)},199:function(e,t,n){"use strict";var r=n(217),o=n(216),i=n(211),a=n(5),l=n(0),s=n(28),c=n(32),d=e.exports={};d.align=n(218),d.getCursor=n(219);var f=n(220);function h(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function u(e){return r(e.changedTouches?e.changedTouches[0]:e,document.body)}d.unhover=f.wrapped,d.unhoverRaw=f.raw,d.init=function(e){var t,n,r,f,p,v,x,y,m=e.gd,g=1,b=c.DBLCLICKDELAY,_=e.element;m._mouseDownTime||(m._mouseDownTime=0),_.style.pointerEvents="all",_.onmousedown=T,i?(_._ontouchstart&&_.removeEventListener("touchstart",_._ontouchstart),_._ontouchstart=T,_.addEventListener("touchstart",T,{passive:!1})):_.ontouchstart=T;var L=e.clampFn||function(e,t,n){return Math.abs(e)<n&&(e=0),Math.abs(t)<n&&(t=0),[e,t]};function T(i){i.preventDefault(),m._dragged=!1,m._dragging=!0;var a=u(i);t=a[0],n=a[1],x=i.target,v=i,y=2===i.buttons||i.ctrlKey,void 0===i.clientX&&void 0===i.clientY&&(i.clientX=t,i.clientY=n),(r=(new Date).getTime())-m._mouseDownTime<b?g+=1:(g=1,m._mouseDownTime=r),e.prepFn&&e.prepFn(i,t,n),o&&!y?(p=h()).style.cursor=window.getComputedStyle(_).cursor:o||(p=document,f=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(_).cursor),document.addEventListener("mousemove",w),document.addEventListener("mouseup",k),document.addEventListener("touchmove",w),document.addEventListener("touchend",k)}function w(r){r.preventDefault();var o=u(r),i=e.minDrag||s.MINDRAG,a=L(o[0]-t,o[1]-n,i),l=a[0],c=a[1];(l||c)&&(m._dragged=!0,d.unhover(m)),m._dragged&&e.moveFn&&!y&&e.moveFn(l,c)}function k(t){if(document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",k),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",k),t.preventDefault(),o?l.removeElement(p):f&&(p.documentElement.style.cursor=f,f=null),m._dragging){if(m._dragging=!1,(new Date).getTime()-m._mouseDownTime>b&&(g=Math.max(g-1,1)),m._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(g,v),!y){var n;try{n=new MouseEvent("click",t)}catch(e){var r=u(t);(n=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,r[0],r[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}x.dispatchEvent(n)}!function(e){e._dragging=!1,e._replotPending&&a.call("plot",e)}(m),m._dragged=!1}else m._dragged=!1}},d.coverSlip=h},200:function(e,t,n){"use strict";e.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},201:function(e,t,n){"use strict";var r=n(3),o=n(0),i=n(199),a=n(203),l=n(204),s=n(209);e.exports={moduleType:"component",name:"fx",constants:n(200),schema:{layout:l},attributes:n(68),layoutAttributes:l,supplyLayoutGlobalDefaults:n(222),supplyDefaults:n(223),supplyLayoutDefaults:n(224),calc:n(225),getDistanceFunction:a.getDistanceFunction,getClosest:a.getClosest,inbox:a.inbox,quadrature:a.quadrature,appendArrayPointValue:a.appendArrayPointValue,castHoverOption:function(e,t,n){return o.castOption(e,t,"hoverlabel."+n)},castHoverinfo:function(e,t,n){return o.castOption(e,n,"hoverinfo",function(n){return o.coerceHoverinfo({hoverinfo:n},{_module:e._module},t)})},hover:s.hover,unhover:i.unhover,loneHover:s.loneHover,multiHovers:s.multiHovers,loneUnhover:function(e){var t=o.isD3Selection(e)?e:r.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:n(226)}},202:function(e,t,n){"use strict";e.exports=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)}},203:function(e,t,n){"use strict";var r=n(0);t.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},t.isTraceInSubplots=function(e,n){if("splom"===e.type){for(var r=e.xaxes||[],o=e.yaxes||[],i=0;i<r.length;i++)for(var a=0;a<o.length;a++)if(-1!==n.indexOf(r[i]+o[a]))return!0;return!1}return-1!==n.indexOf(t.getSubplot(e))},t.flat=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=t;return n},t.p2c=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r].p2c(t);return n},t.getDistanceFunction=function(e,n,r,o){return"closest"===e?o||t.quadrature(n,r):"x"===e?n:r},t.getClosest=function(e,t,n){if(!1!==n.index)n.index>=0&&n.index<e.length?n.distance=0:n.index=!1;else for(var r=0;r<e.length;r++){var o=t(e[r]);o<=n.distance&&(n.index=r,n.distance=o)}return n},t.inbox=function(e,t,n){return e*t<0||0===e?n:1/0},t.quadrature=function(e,t){return function(n){var r=e(n),o=t(n);return Math.sqrt(r*r+o*o)}},t.makeEventData=function(e,n,r){var o="index"in e?e.index:e.pointNumber,i={data:n._input,fullData:n,curveNumber:n.index,pointNumber:o};if(n._indexToPoints){var a=n._indexToPoints[o];1===a.length?i.pointIndex=a[0]:i.pointIndices=a}else i.pointIndex=o;return n._module.eventData?i=n._module.eventData(i,e,n,r,o):("xVal"in e?i.x=e.xVal:"x"in e&&(i.x=e.x),"yVal"in e?i.y=e.yVal:"y"in e&&(i.y=e.y),e.xa&&(i.xaxis=e.xa),e.ya&&(i.yaxis=e.ya),void 0!==e.zLabelVal&&(i.z=e.zLabelVal)),t.appendArrayPointValue(i,n,o),i},t.appendArrayPointValue=function(e,t,n){var o=t._arrayAttrs;if(o)for(var l=0;l<o.length;l++){var s=o[l],c=i(s);if(void 0===e[c]){var d=a(r.nestedProperty(t,s).get(),n);void 0!==d&&(e[c]=d)}}},t.appendArrayMultiPointValues=function(e,t,n){var o=t._arrayAttrs;if(o)for(var l=0;l<o.length;l++){var s=o[l],c=i(s);if(void 0===e[c]){for(var d=r.nestedProperty(t,s).get(),f=new Array(n.length),h=0;h<n.length;h++)f[h]=a(d,n[h]);e[c]=f}}};var o={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color"};function i(e){return o[e]||e}function a(e,t){return Array.isArray(t)?Array.isArray(e)&&Array.isArray(e[t[0]])?e[t[0]][t[1]]:void 0:e[t]}},204:function(e,t,n){"use strict";var r=n(200),o=n(9)({editType:"none",description:"Sets the default hover label font used by all traces on the graph."});o.family.dflt=r.HOVERFONT,o.size.dflt=r.HOVERFONTSIZE,e.exports={clickmode:{valType:"flaglist",role:"info",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"],description:["Determines the mode of single click interactions.","*event* is the default value and emits the `plotly_click`","event. In addition this mode emits the `plotly_selected` event","in drag modes *lasso* and *select*, but with no event data attached","(kept for compatibility reasons).","The *select* flag enables selecting single","data points via click. This mode also supports persistent selections,","meaning that pressing Shift while clicking, adds to / subtracts from an","existing selection. *select* with `hovermode`: *x* can be confusing, consider","explicitly setting `hovermode`: *closest* when using this feature.","Selection events are sent accordingly as long as *event* flag is set as well.","When the *event* flag is missing, `plotly_click` and `plotly_selected`","events are not fired."].join(" ")},dragmode:{valType:"enumerated",role:"info",values:["zoom","pan","select","lasso","orbit","turntable"],dflt:"zoom",editType:"modebar",description:["Determines the mode of drag interactions.","*select* and *lasso* apply only to scatter traces with","markers or text. *orbit* and *turntable* apply only to","3D scenes."].join(" ")},hovermode:{valType:"enumerated",role:"info",values:["x","y","closest",!1],editType:"modebar",description:["Determines the mode of hover interactions.","If `clickmode` includes the *select* flag,","`hovermode` defaults to *closest*.","If `clickmode` lacks the *select* flag,","it defaults to *x* or *y* (depending on the trace's","`orientation` value) for plots based on","cartesian coordinates. For anything else the default","value is *closest*."].join(" ")},hoverdistance:{valType:"integer",min:-1,dflt:20,role:"info",editType:"none",description:["Sets the default distance (in pixels) to look for data","to add hover labels (-1 means no cutoff, 0 means no looking for data).","This is only a real distance for hovering on point-like objects,","like scatter points. For area-like objects (bars, scatter fills, etc)","hovering is on inside the area and off outside, but these objects","will not supersede hover on point-like objects in case of conflict."].join(" ")},spikedistance:{valType:"integer",min:-1,dflt:20,role:"info",editType:"none",description:["Sets the default distance (in pixels) to look for data to draw","spikelines to (-1 means no cutoff, 0 means no looking for data).","As with hoverdistance, distance does not apply to area-like objects.","In addition, some objects can be hovered on but will not generate","spikelines, such as scatter fills."].join(" ")},hoverlabel:{bgcolor:{valType:"color",role:"style",editType:"none",description:["Sets the background color of all hover labels on graph"].join(" ")},bordercolor:{valType:"color",role:"style",editType:"none",description:["Sets the border color of all hover labels on graph."].join(" ")},font:o,namelength:{valType:"integer",min:-1,dflt:15,role:"style",editType:"none",description:["Sets the default length (in number of characters) of the trace name in","the hover labels for all traces. -1 shows the whole name","regardless of length. 0-3 shows the first 0-3 characters, and","an integer >3 will show the whole name if it is less than that","many characters, but if it is longer, will truncate to","`namelength - 3` characters and add an ellipsis."].join(" ")},editType:"none"},selectdirection:{valType:"enumerated",role:"info",values:["h","v","d","any"],dflt:"any",description:['When "dragmode" is set to "select", this limits the selection of the drag to','horizontal, vertical or diagonal. "h" only allows horizontal selection,','"v" only vertical, "d" only diagonal and "any" sets no limit.'].join(" "),editType:"none"}}},205:function(e,t,n){"use strict";var r=n(214).EventEmitter,o={init:function(e){if(e._ev instanceof r)return e;var t=new r,n=new r;return e._ev=t,e._internalEv=n,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=n.on.bind(n),e._internalOnce=n.once.bind(n),e._removeInternalListener=n.removeListener.bind(n),e._removeAllInternalListeners=n.removeAllListeners.bind(n),e.emit=function(r,o){"undefined"!=typeof jQuery&&jQuery(e).trigger(r,o),t.emit(r,o),n.emit(r,o)},e},triggerHandler:function(e,t,n){var r,o;"undefined"!=typeof jQuery&&(r=jQuery(e).triggerHandler(t,n));var i=e._ev;if(!i)return r;var a,l=i._events[t];if(!l)return r;function s(e){return e.listener?(i.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(i,[n]))):e.apply(i,[n])}for(l=Array.isArray(l)?l:[l],a=0;a<l.length-1;a++)s(l[a]);return o=s(l[a]),void 0!==r?r:o},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};e.exports=o},208:function(e,t){e.exports=!0},209:function(e,t,n){"use strict";var r=n(3),o=n(1),i=n(12),a=n(0),l=n(205),s=n(29),c=n(221),d=n(26),f=n(11),h=n(199),u=n(65),p=n(5),v=n(203),x=n(200),y=x.YANGLE,m=Math.PI*y/180,g=1/Math.sin(m),b=Math.cos(m),_=Math.sin(m),L=x.HOVERARROWSIZE,T=x.HOVERTEXTPAD;function w(e,t,n){var o=t.hovermode,i=t.rotateLabels,l=t.bgColor,c=t.container,h=t.outerContainer,u=t.commonLabelOpts||{},p=t.fontFamily||x.HOVERFONT,v=t.fontSize||x.HOVERFONTSIZE,m=e[0],g=m.xa,b=m.ya,_="y"===o?"yLabel":"xLabel",w=m[_],k=(String(w)||"").split(" ")[0],O=h.node().getBoundingClientRect(),A=O.top,M=O.width,E=O.height,S=void 0!==w&&m.distance<=t.hoverdistance&&("x"===o||"y"===o);if(S){var z,C,P=!0;for(z=0;z<e.length;z++){P&&void 0===e[z].zLabel&&(P=!1),C=e[z].hoverinfo||e[z].trace.hoverinfo;var I=Array.isArray(C)?C:C.split("+");if(-1===I.indexOf("all")&&-1===I.indexOf(o)){S=!1;break}}P&&(S=!1)}var D=c.selectAll("g.axistext").data(S?[0]:[]);D.enter().append("g").classed("axistext",!0),D.exit().remove(),D.each(function(){var t=r.select(this),i=a.ensureSingle(t,"path","",function(e){e.style({"stroke-width":"1px"})}),l=a.ensureSingle(t,"text","",function(e){e.attr("data-notex",1)}),c=u.bgcolor||f.defaultLine,h=u.bordercolor||f.contrast(c),x=f.contrast(c);i.style({fill:c,stroke:h}),l.text(w).call(d.font,u.font.family||p,u.font.size||v,u.font.color||x).call(s.positionText,0,0).call(s.convertToTspans,n),t.attr("transform","");var y=l.node().getBoundingClientRect();if("x"===o){l.attr("text-anchor","middle").call(s.positionText,0,"top"===g.side?A-y.bottom-L-T:A-y.top+L+T);var O="top"===g.side?"-":"";i.attr("d","M0,0L"+L+","+O+L+"H"+(T+y.width/2)+"v"+O+(2*T+y.height)+"H-"+(T+y.width/2)+"V"+O+L+"H-"+L+"Z"),t.attr("transform","translate("+(g._offset+(m.x0+m.x1)/2)+","+(b._offset+("top"===g.side?0:b._length))+")")}else{l.attr("text-anchor","right"===b.side?"start":"end").call(s.positionText,("right"===b.side?1:-1)*(T+L),A-y.top-y.height/2);var M="right"===b.side?"":"-";i.attr("d","M0,0L"+M+L+","+L+"V"+(T+y.height/2)+"h"+M+(2*T+y.width)+"V-"+(T+y.height/2)+"H"+M+L+"V-"+L+"Z"),t.attr("transform","translate("+(g._offset+("right"===b.side?g._length:0))+","+(b._offset+(m.y0+m.y1)/2)+")")}e=e.filter(function(e){return void 0!==e.zLabelVal||(e[_]||"").split(" ")[0]===k})});var F=c.selectAll("g.hovertext").data(e,function(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")});return F.enter().append("g").classed("hovertext",!0).each(function(){var e=r.select(this);e.append("rect").call(f.fill,f.addOpacity(l,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(d.font,p,v)}),F.exit().remove(),F.each(function(e){var t=r.select(this).attr("transform",""),a="",c="",h=e.bgcolor||e.color,u=f.combine(f.opacity(h)?h:f.defaultLine,l),x=f.combine(f.opacity(e.color)?e.color:f.defaultLine,l),m=e.borderColor||f.contrast(u);if(void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name){a=s.plainText(e.name||"");var g=Math.round(e.nameLength);g>-1&&a.length>g&&(a=g>3?a.substr(0,g-3)+"...":a.substr(0,g))}void 0!==e.zLabel?(void 0!==e.xLabel&&(c+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(c+="y: "+e.yLabel+"<br>"),c+=(c?"z: ":"")+e.zLabel):S&&e[o+"Label"]===w?c=e[("x"===o?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&(c=e.yLabel):c=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(c+=(c?"<br>":"")+e.text),void 0!==e.extraText&&(c+=(c?"<br>":"")+e.extraText),""===c&&(""===a&&t.remove(),c=a);var b=t.select("text.nums").call(d.font,e.fontFamily||p,e.fontSize||v,e.fontColor||m).text(c).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,n),_=t.select("text.name"),k=0;a&&a!==c?(_.call(d.font,e.fontFamily||p,e.fontSize||v,x).text(a).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,n),k=_.node().getBoundingClientRect().width+2*T):(_.remove(),t.select("rect").remove()),t.select("path").style({fill:u,stroke:m});var O,z,C=b.node().getBoundingClientRect(),P=e.xa._offset+(e.x0+e.x1)/2,I=e.ya._offset+(e.y0+e.y1)/2,D=Math.abs(e.x1-e.x0),F=Math.abs(e.y1-e.y0),V=C.width+L+T+k;e.ty0=A-C.top,e.bx=C.width+2*T,e.by=C.height+2*T,e.anchor="start",e.txwidth=C.width,e.tx2width=k,e.offset=0,i?(e.pos=P,O=I+F/2+V<=E,z=I-F/2-V>=0,"top"!==e.idealAlign&&O||!z?O?(I+=F/2,e.anchor="start"):e.anchor="middle":(I-=F/2,e.anchor="end")):(e.pos=I,O=P+D/2+V<=M,z=P-D/2-V>=0,"left"!==e.idealAlign&&O||!z?O?(P+=D/2,e.anchor="start"):e.anchor="middle":(P-=D/2,e.anchor="end")),b.attr("text-anchor",e.anchor),k&&_.attr("text-anchor",e.anchor),t.attr("transform","translate("+P+","+I+")"+(i?"rotate("+y+")":""))}),F}function k(e,t){e.each(function(e){var n=r.select(this);if(e.del)n.remove();else{var o="end"===e.anchor?-1:1,i=n.select("text.nums"),a={start:1,end:-1,middle:0}[e.anchor],l=a*(L+T),c=l+a*(e.txwidth+T),f=0,h=e.offset;"middle"===e.anchor&&(l-=e.tx2width/2,c+=e.txwidth/2+T),t&&(h*=-_,f=e.offset*b),n.select("path").attr("d","middle"===e.anchor?"M-"+(e.bx/2+e.tx2width/2)+","+(h-e.by/2)+"h"+e.bx+"v"+e.by+"h-"+e.bx+"Z":"M0,0L"+(o*L+f)+","+(L+h)+"v"+(e.by/2-L)+"h"+o*e.bx+"v-"+e.by+"H"+(o*L+f)+"V"+(h-L)+"Z"),i.call(s.positionText,l+f,h+e.ty0-e.by/2+T),e.tx2width&&(n.select("text.name").call(s.positionText,c+a*T+f,h+e.ty0-e.by/2+T),n.select("rect").call(d.setRect,c+(a-1)*e.tx2width/2+f,h-e.by/2-1,e.tx2width,e.by+2))}})}function O(e,t){var n=e.index,r=e.trace||{},o=e.cd[0],i=e.cd[n]||{},l=Array.isArray(n)?function(e,t){return a.castOption(o,n,e)||a.extractOption({},r,"",t)}:function(e,t){return a.extractOption(i,r,e,t)};function s(t,n,r){var o=l(n,r);o&&(e[t]=o)}if(s("hoverinfo","hi","hoverinfo"),s("bgcolor","hbg","hoverlabel.bgcolor"),s("borderColor","hbc","hoverlabel.bordercolor"),s("fontFamily","htf","hoverlabel.font.family"),s("fontSize","hts","hoverlabel.font.size"),s("fontColor","htc","hoverlabel.font.color"),s("nameLength","hnl","hoverlabel.namelength"),e.posref="y"===t?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=a.constrain(e.x0,0,e.xa._length),e.x1=a.constrain(e.x1,0,e.xa._length),e.y0=a.constrain(e.y0,0,e.ya._length),e.y1=a.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:u.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:u.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var c=u.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+c+" / -"+u.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+c,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var d=u.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+d+" / -"+u.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+d,"y"===t&&(e.distance+=1)}var f=e.hoverinfo||e.trace.hoverinfo;return"all"!==f&&(-1===(f=Array.isArray(f)?f:f.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===f.indexOf("y")&&(e.yLabel=void 0),-1===f.indexOf("z")&&(e.zLabel=void 0),-1===f.indexOf("text")&&(e.text=void 0),-1===f.indexOf("name")&&(e.name=void 0)),e}function A(e,t){var n,r,o=t.container,a=t.fullLayout,l=t.event,s=!!e.hLinePoint,c=!!e.vLinePoint;if(o.selectAll(".spikeline").remove(),c||s){var h=f.combine(a.plot_bgcolor,a.paper_bgcolor);if(s){var u,p,v=e.hLinePoint;n=v&&v.xa,"cursor"===(r=v&&v.ya).spikesnap?(u=l.pointerX,p=l.pointerY):(u=n._offset+v.x,p=r._offset+v.y);var x,y,m=i.readability(v.color,h)<1.5?f.contrast(h):v.color,g=r.spikemode,b=r.spikethickness,_=r.spikecolor||m,L=r._boundingBox,T=(L.left+L.right)/2<u?L.right:L.left;-1===g.indexOf("toaxis")&&-1===g.indexOf("across")||(-1!==g.indexOf("toaxis")&&(x=T,y=u),-1!==g.indexOf("across")&&(x=r._counterSpan[0],y=r._counterSpan[1]),o.insert("line",":first-child").attr({x1:x,x2:y,y1:p,y2:p,"stroke-width":b,stroke:_,"stroke-dasharray":d.dashStyle(r.spikedash,b)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:x,x2:y,y1:p,y2:p,"stroke-width":b+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0)),-1!==g.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:T+("right"!==r.side?b:-b),cy:p,r:b,fill:_}).classed("spikeline",!0)}if(c){var w,k,O=e.vLinePoint;n=O&&O.xa,r=O&&O.ya,"cursor"===n.spikesnap?(w=l.pointerX,k=l.pointerY):(w=n._offset+O.x,k=r._offset+O.y);var A,M,E=i.readability(O.color,h)<1.5?f.contrast(h):O.color,S=n.spikemode,z=n.spikethickness,C=n.spikecolor||E,P=n._boundingBox,I=(P.top+P.bottom)/2<k?P.bottom:P.top;-1===S.indexOf("toaxis")&&-1===S.indexOf("across")||(-1!==S.indexOf("toaxis")&&(A=I,M=k),-1!==S.indexOf("across")&&(A=n._counterSpan[0],M=n._counterSpan[1]),o.insert("line",":first-child").attr({x1:w,x2:w,y1:A,y2:M,"stroke-width":z,stroke:C,"stroke-dasharray":d.dashStyle(n.spikedash,z)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:w,x2:w,y1:A,y2:M,"stroke-width":z+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0)),-1!==S.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:w,cy:I-("top"!==n.side?z:-z),r:z,fill:C}).classed("spikeline",!0)}}}function M(e,t){return!t||(t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint)}t.hover=function(e,t,n,i){e=a.getGraphDiv(e),a.throttle(e._fullLayout._uid+x.HOVERID,x.HOVERMINTIME,function(){!function(e,t,n,i){n||(n="xy");var s=Array.isArray(n)?n:[n],d=e._fullLayout,x=d._plots||[],y=x[n],m=d._has("cartesian");if(y){var b=y.overlays.map(function(e){return e.id});s=s.concat(b)}for(var _=s.length,L=new Array(_),T=new Array(_),E=!1,S=0;S<_;S++){var z=s[S],C=x[z];if(C)E=!0,L[S]=u.getFromId(e,C.xaxis._id),T[S]=u.getFromId(e,C.yaxis._id);else{var P=d[z]._subplot;L[S]=P.xaxis,T[S]=P.yaxis}}var I=t.hovermode||d.hovermode;I&&!E&&(I="closest");if(-1===["x","y","closest"].indexOf(I)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return h.unhoverRaw(e,t);var D,F,V,j,H,N,R,B,Y,X,q,Z,U,G=-1===d.hoverdistance?1/0:d.hoverdistance,K=-1===d.spikedistance?1/0:d.spikedistance,Q=[],W=[],J={hLinePoint:null,vLinePoint:null},$=!1;if(Array.isArray(t))for(I="array",V=0;V<t.length;V++)H=e.calcdata[t[V].curveNumber||0],N=H[0].trace,"skip"!==H[0].trace.hoverinfo&&(W.push(H),"h"===N.orientation&&($=!0));else{for(j=0;j<e.calcdata.length;j++)H=e.calcdata[j],"skip"!==(N=H[0].trace).hoverinfo&&v.isTraceInSubplots(N,s)&&(W.push(H),"h"===N.orientation&&($=!0));var ee,te,ne=!t.target;if(ne)ee="xpx"in t?t.xpx:L[0]._length/2,te="ypx"in t?t.ypx:T[0]._length/2;else{if(!1===l.triggerHandler(e,"plotly_beforehover",t))return;var re=t.target.getBoundingClientRect();if(ee=t.clientX-re.left,te=t.clientY-re.top,ee<0||ee>L[0]._length||te<0||te>T[0]._length)return h.unhoverRaw(e,t)}if(t.pointerX=ee+L[0]._offset,t.pointerY=te+T[0]._offset,D="xval"in t?v.flat(s,t.xval):v.p2c(L,ee),F="yval"in t?v.flat(s,t.yval):v.p2c(T,te),!o(D[0])||!o(F[0]))return a.warn("Fx.hover failed",t,e),h.unhoverRaw(e,t)}var oe=1/0;for(j=0;j<W.length;j++)if((H=W[j])&&H[0]&&H[0].trace&&!0===H[0].trace.visible&&(N=H[0].trace,-1===["carpet","contourcarpet"].indexOf(N._module.name))){if("splom"===N.type?R=s[B=0]:(R=v.getSubplot(N),B=s.indexOf(R)),Y=I,Z={cd:H,trace:N,xa:L[B],ya:T[B],maxHoverDistance:G,maxSpikeDistance:K,index:!1,distance:Math.min(oe,G),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:f.defaultLine,name:N.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},d[R]&&(Z.subplot=d[R]._subplot),d._splomScenes&&d._splomScenes[N.uid]&&(Z.scene=d._splomScenes[N.uid]),U=Q.length,"array"===Y){var ie=t[j];"pointNumber"in ie?(Z.index=ie.pointNumber,Y="closest"):(Y="","xval"in ie&&(X=ie.xval,Y="x"),"yval"in ie&&(q=ie.yval,Y=Y?"closest":"y"))}else X=D[B],q=F[B];if(0!==G)if(N._module&&N._module.hoverPoints){var ae=N._module.hoverPoints(Z,X,q,Y,d._hoverlayer);if(ae)for(var le,se=0;se<ae.length;se++)le=ae[se],o(le.x0)&&o(le.y0)&&Q.push(O(le,I))}else a.log("Unrecognized trace type in hover:",N);if("closest"===I&&Q.length>U&&(Q.splice(0,U),oe=Q[0].distance),m&&0!==K&&0===Q.length){Z.distance=K,Z.index=!1;var ce=N._module.hoverPoints(Z,X,q,"closest",d._hoverlayer);if(ce&&(ce=ce.filter(function(e){return e.spikeDistance<=K})),ce&&ce.length){var de,fe=ce.filter(function(e){return e.xa.showspikes});if(fe.length){var he=fe[0];o(he.x0)&&o(he.y0)&&(de=xe(he),(!J.vLinePoint||J.vLinePoint.spikeDistance>de.spikeDistance)&&(J.vLinePoint=de))}var ue=ce.filter(function(e){return e.ya.showspikes});if(ue.length){var pe=ue[0];o(pe.x0)&&o(pe.y0)&&(de=xe(pe),(!J.hLinePoint||J.hLinePoint.spikeDistance>de.spikeDistance)&&(J.hLinePoint=de))}}}}function ve(e,t){for(var n,r=null,o=1/0,i=0;i<e.length;i++)(n=e[i].spikeDistance)<o&&n<=t&&(r=e[i],o=n);return r}function xe(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}var ye={fullLayout:d,container:d._hoverlayer,outerContainer:d._paperdiv,event:t},me=e._spikepoints,ge={vLinePoint:J.vLinePoint,hLinePoint:J.hLinePoint};if(e._spikepoints=ge,m&&0!==K&&0!==Q.length){var be=Q.filter(function(e){return e.ya.showspikes}),_e=ve(be,K);J.hLinePoint=xe(_e);var Le=Q.filter(function(e){return e.xa.showspikes}),Te=ve(Le,K);J.vLinePoint=xe(Te)}if(0===Q.length){var we=h.unhoverRaw(e,t);return!m||null===J.hLinePoint&&null===J.vLinePoint||M(me)&&A(J,ye),we}m&&M(me)&&A(J,ye);Q.sort(function(e,t){return e.distance-t.distance});var ke=e._hoverdata,Oe=[];for(V=0;V<Q.length;V++){var Ae=Q[V];Oe.push(v.makeEventData(Ae,Ae.trace,Ae.cd))}e._hoverdata=Oe;var Me="y"===I&&(W.length>1||Q.length>1)||"closest"===I&&$&&Q.length>1,Ee=f.combine(d.plot_bgcolor||f.background,d.paper_bgcolor),Se={hovermode:I,rotateLabels:Me,bgColor:Ee,container:d._hoverlayer,outerContainer:d._paperdiv,commonLabelOpts:d.hoverlabel,hoverdistance:d.hoverdistance},ze=w(Q,Se,e);if(function(e,t,n){var r,o,i,a,l,s,c,d=0,f=1,h=e.map(function(e,r){var o=e[t],i="x"===o._id.charAt(0),a=o.range;return!r&&a&&a[0]>a[1]!==i&&(f=-1),[{i:r,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(i?g:1)/2,pmin:0,pmax:i?n.width:n.height}]}).sort(function(e,t){return e[0].posref-t[0].posref||f*(t[0].traceIndex-e[0].traceIndex)});function u(e){var t=e[0],n=e[e.length-1];if(o=t.pmin-t.pos-t.dp+t.size,i=n.pos+n.dp+n.size-t.pmax,o>.01){for(l=e.length-1;l>=0;l--)e[l].dp+=o;r=!1}if(!(i<.01)){if(o<-.01){for(l=e.length-1;l>=0;l--)e[l].dp-=i;r=!1}if(r){var c=0;for(a=0;a<e.length;a++)(s=e[a]).pos+s.dp+s.size>t.pmax&&c++;for(a=e.length-1;a>=0&&!(c<=0);a--)(s=e[a]).pos>t.pmax-1&&(s.del=!0,c--);for(a=0;a<e.length&&!(c<=0);a++)if((s=e[a]).pos<t.pmin+1)for(s.del=!0,c--,i=2*s.size,l=e.length-1;l>=0;l--)e[l].dp-=i;for(a=e.length-1;a>=0&&!(c<=0);a--)(s=e[a]).pos+s.dp+s.size>t.pmax&&(s.del=!0,c--)}}}for(;!r&&d<=e.length;){for(d++,r=!0,a=0;a<h.length-1;){var p=h[a],v=h[a+1],x=p[p.length-1],y=v[0];if((o=x.pos+x.dp+x.size-y.pos-y.dp+y.size)>.01&&x.pmin===y.pmin&&x.pmax===y.pmax){for(l=v.length-1;l>=0;l--)v[l].dp+=o;for(p.push.apply(p,v),h.splice(a+1,1),c=0,l=p.length-1;l>=0;l--)c+=p[l].dp;for(i=c/p.length,l=p.length-1;l>=0;l--)p[l].dp-=i;r=!1}else a++}h.forEach(u)}for(a=h.length-1;a>=0;a--){var m=h[a];for(l=m.length-1;l>=0;l--){var b=m[l],_=e[b.i];_.offset=b.dp,_.del=b.del}}}(Q,Me?"xa":"ya",d),k(ze,Me),t.target&&t.target.tagName){var Ce=p.getComponentMethod("annotations","hasClickToShow")(e,Oe);c(r.select(t.target),Ce?"pointer":"")}if(!t.target||i||!function(e,t,n){if(!n||n.length!==e._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var o=n[r],i=e._hoverdata[r];if(o.curveNumber!==i.curveNumber||String(o.pointNumber)!==String(i.pointNumber))return!0}return!1}(e,0,ke))return;ke&&e.emit("plotly_unhover",{event:t,points:ke});e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:L,yaxes:T,xvals:D,yvals:F})}(e,t,n,i)})},t.loneHover=function(e,t){var n={color:e.color||f.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},o=r.select(t.container),i=t.outerContainer?r.select(t.outerContainer):o,a={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||f.background,container:o,outerContainer:i},l=w([n],a,t.gd);return k(l,a.rotateLabels),l.node()},t.multiHovers=function(e,t){Array.isArray(e)||(e=[e]);var n=e.map(function(e){return{color:e.color||f.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0}}),o=r.select(t.container),i=t.outerContainer?r.select(t.outerContainer):o,a={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||f.background,container:o,outerContainer:i},l=w(n,a,t.gd),s=0;return l.sort(function(e,t){return e.y0-t.y0}).each(function(e){var t=e.y0-e.by/2;e.offset=t-5<s?s-t+5:0,s=t+e.by+e.offset}),k(l,a.rotateLabels),l.node()}},210:function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n,o){n("hoverlabel.bgcolor",(o=o||{}).bgcolor),n("hoverlabel.bordercolor",o.bordercolor),n("hoverlabel.namelength",o.namelength),r.coerceFont(n,"hoverlabel.font",o.font)}},211:function(e,t,n){"use strict";var r=n(208);e.exports=r&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}()},214:function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,l,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(i(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),n.apply(this,l)}else if(o(n))for(l=Array.prototype.slice.call(arguments,1),a=(c=n.slice()).length,s=0;s<a;s++)c[s].apply(this,l);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(a=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(e,o),n||(n=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},n.prototype.removeListener=function(e,t){var n,i,a,l;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(l=a;l-- >0;)if(n[l]===t||n[l].listener&&n[l].listener===t){i=l;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},216:function(e,t,n){"use strict";(function(t){var r,o=n(208);r="function"==typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:o,e.exports=r}).call(t,n(14))},217:function(e,t){var n={left:0,top:0};e.exports=function(e,t,r){t=t||e.currentTarget||e.srcElement,Array.isArray(r)||(r=[0,0]);var o=e.clientX||0,i=e.clientY||0,a=(l=t,l===window||l===document||l===document.body?n:l.getBoundingClientRect());var l;return r[0]=o-a.left,r[1]=i-a.top,r}},218:function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){var i=(e-n)/(r-n),a=i+t/(r-n),l=(i+a)/2;return"left"===o||"bottom"===o?i:"center"===o||"middle"===o?l:"right"===o||"top"===o?a:i<2/3-l?i:a>4/3-l?a:l}},219:function(e,t,n){"use strict";var r=n(0),o=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(e,t,n,i){return e="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*e),0,2),t="bottom"===i?0:"middle"===i?1:"top"===i?2:r.constrain(Math.floor(3*t),0,2),o[t][e]}},220:function(e,t,n){"use strict";var r=n(205),o=n(69),i=n(75),a=n(200),l=e.exports={};l.wrapped=function(e,t,n){(e=i(e))._fullLayout&&o.clear(e._fullLayout._uid+a.HOVERID),l.raw(e,t,n)},l.raw=function(e,t){var n=e._fullLayout,o=e._hoverdata;t||(t={}),t.target&&!1===r.triggerHandler(e,"plotly_beforehover",t)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&o&&e.emit("plotly_unhover",{event:t,points:o}))}},221:function(e,t,n){"use strict";var r=n(202),o="data-savedcursor";e.exports=function(e,t){var n=e.attr(o);if(t){if(!n){for(var i=(e.attr("class")||"").split(" "),a=0;a<i.length;a++){var l=i[a];0===l.indexOf("cursor-")&&e.attr(o,l.substr(7)).classed(l,!1)}e.attr(o)||e.attr(o,"!!")}r(e,t)}else n&&(e.attr(o,null),"!!"===n?r(e):r(e,n))}},222:function(e,t,n){"use strict";var r=n(0),o=n(210),i=n(204);e.exports=function(e,t){o(e,t,function(n,o){return r.coerce(e,t,i,n,o)})}},223:function(e,t,n){"use strict";var r=n(0),o=n(68),i=n(210);e.exports=function(e,t,n,a){i(e,t,function(n,i){return r.coerce(e,t,o,n,i)},a.hoverlabel)}},224:function(e,t,n){"use strict";var r=n(0),o=n(204);e.exports=function(e,t,n){function i(n,i){return r.coerce(e,t,o,n,i)}var a,l=i("clickmode");"select"===i("dragmode")&&i("selectdirection"),t._has("cartesian")?l.indexOf("select")>-1?a="closest":(t._isHoriz=function(e){for(var t=!0,n=0;n<e.length;n++){var r=e[n];if("h"!==r.orientation){t=!1;break}}return t}(n),a=t._isHoriz?"y":"x"):a="closest",i("hovermode",a)&&(i("hoverdistance"),i("spikedistance"));var s=t._has("mapbox"),c=t._has("geo"),d=t._basePlotModules.length;"zoom"===t.dragmode&&((s||c)&&1===d||s&&c&&2===d)&&(t.dragmode="pan")}},225:function(e,t,n){"use strict";var r=n(0),o=n(5);function i(e,t,n,o){o=o||r.identity,Array.isArray(e)&&(t[0][n]=o(e))}e.exports=function(e){var t=e.calcdata,n=e._fullLayout;function a(e){return function(t){return r.coerceHoverinfo({hoverinfo:t},{_module:e._module},n)}}for(var l=0;l<t.length;l++){var s=t[l],c=s[0].trace;if(!o.traceIs(c,"pie")){var d=o.traceIs(c,"2dMap")?i:r.fillArray;d(c.hoverinfo,s,"hi",a(c)),c.hoverlabel&&(d(c.hoverlabel.bgcolor,s,"hbg"),d(c.hoverlabel.bordercolor,s,"hbc"),d(c.hoverlabel.font.size,s,"hts"),d(c.hoverlabel.font.color,s,"htc"),d(c.hoverlabel.font.family,s,"htf"),d(c.hoverlabel.namelength,s,"hnl"))}}}},226:function(e,t,n){"use strict";var r=n(5),o=n(209).hover;e.exports=function(e,t,n){var i=r.getComponentMethod("annotations","onClick")(e,e._hoverdata);function a(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==n&&o(e,t,n,!0),e._hoverdata&&t&&t.target&&(i&&i.then?i.then(a):a(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},228:function(e,t,n){"use strict";var r=n(5),o=n(28).SUBPLOT_PATTERN;t.getSubplotCalcData=function(e,t,n){var o=r.subplotsRegistry[t];if(!o)return[];for(var i=o.attr,a=[],l=0;l<e.length;l++){var s=e[l];s[0].trace[i]===n&&a.push(s)}return a},t.getModuleCalcData=function(e,t){var n,o=[],i=[];if(!(n="string"==typeof t?r.getModule(t).plot:"function"==typeof t?t:t.plot))return[o,e];for(var a=0;a<e.length;a++){var l=e[a],s=l[0].trace;!0===s.visible&&(s._module.plot===n?o.push(l):i.push(l))}return[o,i]},t.getSubplotData=function(e,t,n){if(!r.subplotsRegistry[t])return[];var i,a,l,s=r.subplotsRegistry[t].attr,c=[];if("gl2d"===t){var d=n.match(o);a="x"+d[1],l="y"+d[2]}for(var f=0;f<e.length;f++)i=e[f],"gl2d"===t&&r.traceIs(i,"gl2d")?i[s[0]]===a&&i[s[1]]===l&&c.push(i):i[s]===n&&c.push(i);return c}},270:function(e,t,n){"use strict";var r=n(0);t.formatPiePercent=function(e,t){var n=(100*e).toPrecision(3);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,t)+"%"},t.formatPieValue=function(e,t){var n=e.toPrecision(10);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,t)},t.getFirstFilled=function(e,t){if(Array.isArray(e))for(var n=0;n<t.length;n++){var r=e[t[n]];if(r||0===r)return r}},t.castOption=function(e,n){return Array.isArray(e)?t.getFirstFilled(e,n):e||void 0}},275:function(e,t,n){"use strict";var r=n(11),o=n(270).castOption;e.exports=function(e,t,n){var i=n.marker.line,a=o(i.color,t.pts)||r.defaultLine,l=o(i.width,t.pts)||0;e.style({"stroke-width":l}).call(r.fill,t.color).call(r.stroke,a)}},279:function(e,t,n){"use strict";var r=n(6).extendFlat;t.attributes=function(e,t){e=e||{},t=t||{};var n={valType:"info_array",role:"info",editType:e.editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},o=e.name?e.name+" ":"",i=e.trace?"trace ":"subplot ",a=t.description?" "+t.description:"",l={x:r({},n,{description:["Sets the horizontal domain of this ",o,i,"(in plot fraction).",a].join("")}),y:r({},n,{description:["Sets the vertical domain of this ",o,i,"(in plot fraction).",a].join("")}),editType:e.editType};return e.noGridCell||(l.row={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",o,i,".",a].join("")},l.column={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",o,i,".",a].join("")}),l},t.defaults=function(e,t,n,r){var o=r&&r.x||[0,1],i=r&&r.y||[0,1],a=t.grid;if(a){var l=n("domain.column");void 0!==l&&(l<a.columns?o=a._domains.x[l]:delete e.domain.column);var s=n("domain.row");void 0!==s&&(s<a.rows?i=a._domains.y[s]:delete e.domain.row)}n("domain.x",o),n("domain.y",i)}},362:function(e,t,n){"use strict";var r=n(30),o=n(9),i=n(16),a=n(279).attributes,l=n(6).extendFlat,s=o({editType:"calc",arrayOk:!0,colorEditType:"style",description:"Sets the font used for `textinfo`."});e.exports={labels:{valType:"data_array",editType:"calc",description:["Sets the sector labels.","If `labels` entries are duplicated, we sum associated `values`","or simply count occurrences if `values` is not provided.","For other array attributes (including color) we use the first","non-empty entry among all occurrences of the label."].join(" ")},label0:{valType:"number",role:"info",dflt:0,editType:"calc",description:["Alternate to `labels`.","Builds a numeric set of labels.","Use with `dlabel`","where `label0` is the starting label and `dlabel` the step."].join(" ")},dlabel:{valType:"number",role:"info",dflt:1,editType:"calc",description:"Sets the label step. See `label0` for more info."},values:{valType:"data_array",editType:"calc",description:["Sets the values of the sectors of this pie chart.","If omitted, we count occurrences of each label."].join(" ")},marker:{colors:{valType:"data_array",editType:"calc",description:["Sets the color of each sector of this pie chart.","If not specified, the default trace color set is used","to pick the sector colors."].join(" ")},line:{color:{valType:"color",role:"style",dflt:r.defaultLine,arrayOk:!0,editType:"style",description:["Sets the color of the line enclosing each sector."].join(" ")},width:{valType:"number",role:"style",min:0,dflt:0,arrayOk:!0,editType:"style",description:["Sets the width (in px) of the line enclosing each sector."].join(" ")},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"calc",description:["Sets text elements associated with each sector.","If trace `textinfo` contains a *text* flag, these elements will be seen","on the chart.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"style",description:["Sets hover text elements associated with each sector.","If a single string, the same string appears for","all data points.","If an array of string, the items are mapped in order of","this trace's sectors.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},scalegroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:["If there are multiple pies that should be sized according to","their totals, link them by providing a non-empty group id here","shared by every trace in the same group."].join(" ")},textinfo:{valType:"flaglist",role:"info",flags:["label","text","value","percent"],extras:["none"],editType:"calc",description:["Determines which trace information appear on the graph."].join(" ")},hoverinfo:l({},i.hoverinfo,{flags:["label","text","value","percent","name"]}),textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc",description:["Specifies the location of the `textinfo`."].join(" ")},textfont:l({},s,{description:"Sets the font used for `textinfo`."}),insidetextfont:l({},s,{description:"Sets the font used for `textinfo` lying inside the pie."}),outsidetextfont:l({},s,{description:"Sets the font used for `textinfo` lying outside the pie."}),title:{valType:"string",dflt:"",role:"info",editType:"calc",description:["Sets the title of the pie chart.","If it is empty, no title is displayed."].join(" ")},titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],role:"info",editType:"calc",description:["Specifies the location of the `title`."].join(" ")},titlefont:l({},s,{description:"Sets the font used for `title`."}),domain:a({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",role:"style",min:0,max:1,dflt:0,editType:"calc",description:["Sets the fraction of the radius to cut out of the pie.","Use this to make a donut chart."].join(" ")},sort:{valType:"boolean",role:"style",dflt:!0,editType:"calc",description:["Determines whether or not the sectors are reordered","from largest to smallest."].join(" ")},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],role:"style",dflt:"counterclockwise",editType:"calc",description:["Specifies the direction at which succeeding sectors follow","one another."].join(" ")},rotation:{valType:"number",role:"style",min:-360,max:360,dflt:0,editType:"calc",description:["Instead of the first slice starting at 12 o'clock,","rotate to some other angle."].join(" ")},pull:{valType:"number",role:"style",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc",description:["Sets the fraction of larger radius to pull the sectors","out from the center. This can be a constant","to pull all slices apart from each other equally","or an array to highlight one or more slices."].join(" ")}}},363:function(e,t,n){"use strict";e.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",role:"style",editType:"calc",description:["Sets the default pie slice colors. Defaults to the main","`colorway` used for trace colors. If you specify a new","list here it can still be extended with lighter and darker","colors, see `extendpiecolors`."].join(" ")},extendpiecolors:{valType:"boolean",dflt:!0,role:"style",editType:"calc",description:["If `true`, the pie slice colors (whether given by `piecolorway` or","inherited from `colorway`) will be extended to three times its","original length by first repeating every color 20% lighter then","each color 20% darker. This is intended to reduce the likelihood","of reusing the same color when you have many slices, but you can","set `false` to disable.","Colors provided in the trace, using `marker.colors`, are never","extended."].join(" ")}}},439:function(e,t,n){"use strict";var r={};r.attributes=n(362),r.supplyDefaults=n(440),r.supplyLayoutDefaults=n(441),r.layoutAttributes=n(363);var o=n(442);r.calc=o.calc,r.crossTraceCalc=o.crossTraceCalc,r.plot=n(443),r.style=n(445),r.styleOne=n(275),r.moduleType="trace",r.name="pie",r.basePlotModule=n(446),r.categories=["pie","showLegend"],r.meta={description:["A data visualized by the sectors of the pie is set in `values`.","The sector labels are set in `labels`.","The sector colors are set in `marker.colors`"].join(" ")},e.exports=r},440:function(e,t,n){"use strict";var r=n(0),o=n(362),i=n(279).defaults;e.exports=function(e,t,n,a){function l(n,i){return r.coerce(e,t,o,n,i)}var s,c=r.coerceFont,d=l("values"),f=r.isArrayOrTypedArray(d),h=l("labels");if(Array.isArray(h)?(s=h.length,f&&(s=Math.min(s,d.length))):f&&(s=d.length,l("label0"),l("dlabel")),s){t._length=s,l("marker.line.width")&&l("marker.line.color"),l("marker.colors"),l("scalegroup");var u=l("text"),p=l("textinfo",Array.isArray(u)?"text+percent":"percent");if(l("hovertext"),p&&"none"!==p){var v=l("textposition"),x=Array.isArray(v)||"auto"===v,y=x||"inside"===v,m=x||"outside"===v;if(y||m){var g=c(l,"textfont",a.font);if(y){var b=r.extendFlat({},g);!(e.textfont&&e.textfont.color)&&delete b.color,c(l,"insidetextfont",b)}m&&c(l,"outsidetextfont",g)}}i(t,a,l);var _=l("hole");if(l("title")){var L=l("titleposition",_?"middle center":"top center");_||"middle center"!==L||(t.titleposition="top center"),c(l,"titlefont",a.font)}l("sort"),l("direction"),l("rotation"),l("pull")}else t.visible=!1}},441:function(e,t,n){"use strict";var r=n(0),o=n(363);e.exports=function(e,t){function n(n,i){return r.coerce(e,t,o,n,i)}n("hiddenlabels"),n("piecolorway",t.colorway),n("extendpiecolors")}},442:function(e,t,n){"use strict";var r=n(1),o=n(0).isArrayOrTypedArray,i=n(12),a=n(11),l=n(270);t.calc=function(e,t){var n,s,c,d,f,h=t.values,u=o(h)&&h.length,p=t.labels,v=t.marker.colors||[],x=[],y=e._fullLayout,m=y._piecolormap,g={},b=0,_=y.hiddenlabels||[];if(t.dlabel)for(p=new Array(h.length),n=0;n<h.length;n++)p[n]=String(t.label0+n*t.dlabel);function L(e,t){return!!e&&(!!(e=i(e)).isValid()&&(e=a.addOpacity(e,e.getAlpha()),m[t]||(m[t]=e),e))}var T=(u?h:p).length;for(n=0;n<T;n++){if(u){if(s=h[n],!r(s))continue;if((s=+s)<0)continue}else s=1;void 0!==(c=p[n])&&""!==c||(c=n);var w=g[c=String(c)];void 0===w?(g[c]=x.length,(d=-1!==_.indexOf(c))||(b+=s),x.push({v:s,label:c,color:L(v[n],c),i:n,pts:[n],hidden:d})):((f=x[w]).v+=s,f.pts.push(n),f.hidden||(b+=s),!1===f.color&&v[n]&&(f.color=L(v[n],c)))}if(t.sort&&x.sort(function(e,t){return t.v-e.v}),x[0]&&(x[0].vTotal=b),t.textinfo&&"none"!==t.textinfo){var k,O=-1!==t.textinfo.indexOf("label"),A=-1!==t.textinfo.indexOf("text"),M=-1!==t.textinfo.indexOf("value"),E=-1!==t.textinfo.indexOf("percent"),S=y.separators;for(n=0;n<x.length;n++){if(f=x[n],k=O?[f.label]:[],A){var z=l.getFirstFilled(t.text,f.pts);z&&k.push(z)}M&&k.push(l.formatPieValue(f.v,S)),E&&k.push(l.formatPiePercent(f.v/b,S)),f.text=k.join("<br>")}}return x},t.crossTraceCalc=function(e){var t=e._fullLayout,n=e.calcdata,r=t.piecolorway,o=t._piecolormap;t.extendpiecolors&&(r=function(e){var t,n=JSON.stringify(e),r=s[n];if(!r){for(r=e.slice(),t=0;t<e.length;t++)r.push(i(e[t]).lighten(20).toHexString());for(t=0;t<e.length;t++)r.push(i(e[t]).darken(20).toHexString());s[n]=r}return r}(r));var a,l,c,d,f=0;for(a=0;a<n.length;a++)if("pie"===(c=n[a])[0].trace.type)for(l=0;l<c.length;l++)!1===(d=c[l]).color&&(o[d.label]?d.color=o[d.label]:(o[d.label]=d.color=r[f%r.length],f++))};var s={}},443:function(e,t,n){"use strict";var r=n(3),o=n(201),i=n(11),a=n(26),l=n(0),s=n(29),c=n(270),d=n(444);function f(e,t){if(e.v===t.vTotal&&!t.trace.hole)return 1;var n=Math.PI*Math.min(e.v/t.vTotal,.5);return Math.min(1/(1+1/Math.sin(n)),(1-t.trace.hole)/2)}function h(e,t){var n=t.pxmid[0],r=t.pxmid[1],o=e.width/2,i=e.height/2;return n<0&&(o*=-1),r<0&&(i*=-1),{scale:1,rCenter:1,rotate:0,x:o+Math.abs(i)*(o>0?1:-1)/2,y:i/(1+n*n/(r*r)),outside:!0}}function u(e,t){var n=e.trace,r=t.h*(n.domain.y[1]-n.domain.y[0]);return Math.min(e.titleBox.height,r/2)}function p(e){var t,n=e.pull;if(Array.isArray(n))for(n=0,t=0;t<e.pull.length;t++)e.pull[t]>n&&(n=e.pull[t]);return n}e.exports=function(e,t){var n=e._fullLayout;!function(e,t){for(var n,r,o=0;o<e.length;o++)if(n=e[o][0],(r=n.trace).title){var i=a.tester.append("text").attr("data-notex",1).text(r.title).call(a.font,r.titlefont).call(s.convertToTspans,t),l=a.bBox(i.node(),!0);n.titleBox={width:l.width,height:l.height},i.remove()}}(t,e),function(e,t){var n,r,o,i,a,l,s,c,d,f=[];for(o=0;o<e.length;o++)a=e[o][0],l=a.trace,n=t.w*(l.domain.x[1]-l.domain.x[0]),r=t.h*(l.domain.y[1]-l.domain.y[0]),l.title&&"middle center"!==l.titleposition&&(r-=u(a,t)),s=p(l),a.r=Math.min(n,r)/(2+2*s),a.cx=t.l+t.w*(l.domain.x[1]+l.domain.x[0])/2,a.cy=t.t+t.h*(1-l.domain.y[0])-r/2,l.title&&-1!==l.titleposition.indexOf("bottom")&&(a.cy-=u(a,t)),l.scalegroup&&-1===f.indexOf(l.scalegroup)&&f.push(l.scalegroup);for(i=0;i<f.length;i++){for(d=1/0,c=f[i],o=0;o<e.length;o++)(a=e[o][0]).trace.scalegroup===c&&(d=Math.min(d,a.r*a.r/a.vTotal));for(o=0;o<e.length;o++)(a=e[o][0]).trace.scalegroup===c&&(a.r=Math.sqrt(d*a.vTotal))}}(t,n._size);var v=l.makeTraceGroups(n._pielayer,t,"trace").each(function(t){var v=r.select(this),x=t[0],y=x.trace;!function(e){var t,n,r,o=e[0],i=o.trace,a=i.rotation*Math.PI/180,l=2*Math.PI/o.vTotal,s="px0",c="px1";if("counterclockwise"===i.direction){for(t=0;t<e.length&&e[t].hidden;t++);if(t===e.length)return;a+=l*e[t].v,l*=-1,s="px1",c="px0"}function d(e){return[o.r*Math.sin(e),-o.r*Math.cos(e)]}for(r=d(a),t=0;t<e.length;t++)(n=e[t]).hidden||(n[s]=r,a+=l*n.v/2,n.pxmid=d(a),n.midangle=a,a+=l*n.v/2,r=d(a),n[c]=r,n.largeArc=n.v>o.vTotal/2?1:0)}(t),v.attr("stroke-linejoin","round"),v.each(function(){var v=r.select(this).selectAll("g.slice").data(t);v.enter().append("g").classed("slice",!0),v.exit().remove();var m=[[[],[]],[[],[]]],g=!1;v.each(function(t){if(t.hidden)r.select(this).selectAll("path,g").remove();else{t.pointNumber=t.i,t.curveNumber=y.index,m[t.pxmid[1]<0?0:1][t.pxmid[0]<0?0:1].push(t);var u=x.cx,p=x.cy,v=r.select(this),b=v.selectAll("path.surface").data([t]),_=!1,L=!1;if(b.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),v.select("path.textline").remove(),v.on("mouseover",function(){var i=e._fullLayout,a=e._fullData[y.index];if(!e._dragging&&!1!==i.hovermode){var l=a.hoverinfo;if(Array.isArray(l)&&(l=o.castHoverinfo({hoverinfo:[c.castOption(l,t.pts)],_module:y._module},i,0)),"all"===l&&(l="label+text+value+percent+name"),"none"!==l&&"skip"!==l&&l){var s=f(t,x),h=u+t.pxmid[0]*(1-s),v=p+t.pxmid[1]*(1-s),m=n.separators,g=[];if(-1!==l.indexOf("label")&&g.push(t.label),-1!==l.indexOf("text")){var b=c.castOption(a.hovertext||a.text,t.pts);b&&g.push(b)}-1!==l.indexOf("value")&&g.push(c.formatPieValue(t.v,m)),-1!==l.indexOf("percent")&&g.push(c.formatPiePercent(t.v/x.vTotal,m));var T=y.hoverlabel,w=T.font;o.loneHover({x0:h-s*x.r,x1:h+s*x.r,y:v,text:g.join("<br>"),name:-1!==l.indexOf("name")?a.name:void 0,idealAlign:t.pxmid[0]<0?"left":"right",color:c.castOption(T.bgcolor,t.pts)||t.color,borderColor:c.castOption(T.bordercolor,t.pts),fontFamily:c.castOption(w.family,t.pts),fontSize:c.castOption(w.size,t.pts),fontColor:c.castOption(w.color,t.pts)},{container:i._hoverlayer.node(),outerContainer:i._paper.node(),gd:e}),_=!0}e.emit("plotly_hover",{points:[d(t,a)],event:r.event}),L=!0}}).on("mouseout",function(n){var i=e._fullLayout,a=e._fullData[y.index];L&&(n.originalEvent=r.event,e.emit("plotly_unhover",{points:[d(t,a)],event:r.event}),L=!1),_&&(o.loneUnhover(i._hoverlayer.node()),_=!1)}).on("click",function(){var n=e._fullLayout,i=e._fullData[y.index];e._dragging||!1===n.hovermode||(e._hoverdata=[d(t,i)],o.click(e,r.event))}),y.pull){var T=+c.castOption(y.pull,t.pts)||0;T>0&&(u+=T*t.pxmid[0],p+=T*t.pxmid[1])}t.cxFinal=u,t.cyFinal=p;var w=y.hole;if(t.v===x.vTotal){var k="M"+(u+t.px0[0])+","+(p+t.px0[1])+S(t.px0,t.pxmid,!0,1)+S(t.pxmid,t.px0,!0,1)+"Z";w?b.attr("d","M"+(u+w*t.px0[0])+","+(p+w*t.px0[1])+S(t.px0,t.pxmid,!1,w)+S(t.pxmid,t.px0,!1,w)+"Z"+k):b.attr("d",k)}else{var O=S(t.px0,t.px1,!0,1);if(w){var A=1-w;b.attr("d","M"+(u+w*t.px1[0])+","+(p+w*t.px1[1])+S(t.px1,t.px0,!1,w)+"l"+A*t.px0[0]+","+A*t.px0[1]+O+"Z")}else b.attr("d","M"+u+","+p+"l"+t.px0[0]+","+t.px0[1]+O+"Z")}var M=c.castOption(y.textposition,t.pts),E=v.selectAll("g.slicetext").data(t.text&&"none"!==M?[0]:[]);E.enter().append("g").classed("slicetext",!0),E.exit().remove(),E.each(function(){var n=l.ensureSingle(r.select(this),"text","",function(e){e.attr("data-notex",1)});n.text(t.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(a.font,"outside"===M?function(e,t,n){var r=c.castOption(e.outsidetextfont.color,t.pts)||c.castOption(e.textfont.color,t.pts)||n.color,o=c.castOption(e.outsidetextfont.family,t.pts)||c.castOption(e.textfont.family,t.pts)||n.family,i=c.castOption(e.outsidetextfont.size,t.pts)||c.castOption(e.textfont.size,t.pts)||n.size;return{color:r,family:o,size:i}}(y,t,e._fullLayout.font):function(e,t,n){var r=c.castOption(e.insidetextfont.color,t.pts);!r&&e._input.textfont&&(r=c.castOption(e._input.textfont.color,t.pts));var o=c.castOption(e.insidetextfont.family,t.pts)||c.castOption(e.textfont.family,t.pts)||n.family,a=c.castOption(e.insidetextfont.size,t.pts)||c.castOption(e.textfont.size,t.pts)||n.size;return{color:r||i.contrast(t.color),family:o,size:a}}(y,t,e._fullLayout.font)).call(s.convertToTspans,e);var o,d=a.bBox(n.node());"outside"===M?o=h(d,t):(o=function(e,t,n){var r=Math.sqrt(e.width*e.width+e.height*e.height),o=e.width/e.height,i=Math.PI*Math.min(t.v/n.vTotal,.5),a=1-n.trace.hole,l=f(t,n),s={scale:l*n.r*2/r,rCenter:1-l,rotate:0};if(s.scale>=1)return s;var c=o+1/(2*Math.tan(i)),d=n.r*Math.min(1/(Math.sqrt(c*c+.5)+c),a/(Math.sqrt(o*o+a/2)+o)),h={scale:2*d/e.height,rCenter:Math.cos(d/n.r)-d*o/n.r,rotate:(180/Math.PI*t.midangle+720)%180-90},u=1/o,p=u+1/(2*Math.tan(i)),v=n.r*Math.min(1/(Math.sqrt(p*p+.5)+p),a/(Math.sqrt(u*u+a/2)+u)),x={scale:2*v/e.width,rCenter:Math.cos(v/n.r)-v/o/n.r,rotate:(180/Math.PI*t.midangle+810)%180-90},y=x.scale>h.scale?x:h;return s.scale<1&&y.scale>s.scale?y:s}(d,t,x),"auto"===M&&o.scale<1&&(n.call(a.font,y.outsidetextfont),y.outsidetextfont.family===y.insidetextfont.family&&y.outsidetextfont.size===y.insidetextfont.size||(d=a.bBox(n.node())),o=h(d,t)));var v=u+t.pxmid[0]*o.rCenter+(o.x||0),m=p+t.pxmid[1]*o.rCenter+(o.y||0);o.outside&&(t.yLabelMin=m-d.height/2,t.yLabelMid=m,t.yLabelMax=m+d.height/2,t.labelExtraX=0,t.labelExtraY=0,g=!0),n.attr("transform","translate("+v+","+m+")"+(o.scale<1?"scale("+o.scale+")":"")+(o.rotate?"rotate("+o.rotate+")":"")+"translate("+-(d.left+d.right)/2+","+-(d.top+d.bottom)/2+")")})}function S(e,n,r,o){return"a"+o*x.r+","+o*x.r+" 0 "+t.largeArc+(r?" 1 ":" 0 ")+o*(n[0]-e[0])+","+o*(n[1]-e[1])}});var b=r.select(this).selectAll("g.titletext").data(y.title?[0]:[]);b.enter().append("g").classed("titletext",!0),b.exit().remove(),b.each(function(){var t,o=l.ensureSingle(r.select(this),"text","",function(e){e.attr("data-notex",1)});o.text(y.title).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(a.font,y.titlefont).call(s.convertToTspans,e),t="middle center"===y.titleposition?function(e){var t=Math.sqrt(e.titleBox.width*e.titleBox.width+e.titleBox.height*e.titleBox.height);return{x:e.cx,y:e.cy,scale:e.trace.hole*e.r*2/t,tx:0,ty:-e.titleBox.height/2+e.trace.titlefont.size}}(x):function(e,t){var n,r,o=1,i=1,a=e.trace,l={x:e.cx,y:e.cy},s={tx:0,ty:0};s.ty+=a.titlefont.size,r=p(a),-1!==a.titleposition.indexOf("top")?(l.y-=(1+r)*e.r,s.ty-=e.titleBox.height):-1!==a.titleposition.indexOf("bottom")&&(l.y+=(1+r)*e.r);-1!==a.titleposition.indexOf("left")?(n=t.w*(a.domain.x[1]-a.domain.x[0])/2+e.r,l.x-=(1+r)*e.r,s.tx+=e.titleBox.width/2):-1!==a.titleposition.indexOf("center")?n=t.w*(a.domain.x[1]-a.domain.x[0]):-1!==a.titleposition.indexOf("right")&&(n=t.w*(a.domain.x[1]-a.domain.x[0])/2+e.r,l.x+=(1+r)*e.r,s.tx-=e.titleBox.width/2);return o=n/e.titleBox.width,i=u(e,t)/e.titleBox.height,{x:l.x,y:l.y,scale:Math.min(o,i),tx:s.tx,ty:s.ty}}(x,n._size),o.attr("transform","translate("+t.x+","+t.y+")"+(t.scale<1?"scale("+t.scale+")":"")+"translate("+t.tx+","+t.ty+")")}),g&&function(e,t){var n,r,o,i,a,l,s,d,f,h,u,p,v;function x(e,t){return e.pxmid[1]-t.pxmid[1]}function y(e,t){return t.pxmid[1]-e.pxmid[1]}function m(e,n){n||(n={});var o,d,f,u,p,v,x=n.labelExtraY+(r?n.yLabelMax:n.yLabelMin),y=r?e.yLabelMin:e.yLabelMax,m=r?e.yLabelMax:e.yLabelMin,g=e.cyFinal+a(e.px0[1],e.px1[1]),b=x-y;if(b*s>0&&(e.labelExtraY=b),Array.isArray(t.pull))for(d=0;d<h.length;d++)(f=h[d])===e||(c.castOption(t.pull,e.pts)||0)>=(c.castOption(t.pull,f.pts)||0)||((e.pxmid[1]-f.pxmid[1])*s>0?(u=f.cyFinal+a(f.px0[1],f.px1[1]),(b=u-y-e.labelExtraY)*s>0&&(e.labelExtraY+=b)):(m+e.labelExtraY-g)*s>0&&(o=3*l*Math.abs(d-h.indexOf(e)),p=f.cxFinal+i(f.px0[0],f.px1[0]),(v=p+o-(e.cxFinal+e.pxmid[0])-e.labelExtraX)*l>0&&(e.labelExtraX+=v)))}for(r=0;r<2;r++)for(o=r?x:y,a=r?Math.max:Math.min,s=r?1:-1,n=0;n<2;n++){for(i=n?Math.max:Math.min,l=n?1:-1,(d=e[r][n]).sort(o),f=e[1-r][n],h=f.concat(d),p=[],u=0;u<d.length;u++)void 0!==d[u].yLabelMid&&p.push(d[u]);for(v=!1,u=0;r&&u<f.length;u++)if(void 0!==f[u].yLabelMid){v=f[u];break}for(u=0;u<p.length;u++){var g=u&&p[u-1];v&&!u&&(g=v),m(p[u],g)}}}(m,y),v.each(function(e){if(e.labelExtraX||e.labelExtraY){var t=r.select(this),n=t.select("g.slicetext text");n.attr("transform","translate("+e.labelExtraX+","+e.labelExtraY+")"+n.attr("transform"));var o=e.cxFinal+e.pxmid[0],a="M"+o+","+(e.cyFinal+e.pxmid[1]),l=(e.yLabelMax-e.yLabelMin)*(e.pxmid[0]<0?-1:1)/4;if(e.labelExtraX){var s=e.labelExtraX*e.pxmid[1]/e.pxmid[0],c=e.yLabelMid+e.labelExtraY-(e.cyFinal+e.pxmid[1]);Math.abs(s)>Math.abs(c)?a+="l"+c*e.pxmid[0]/e.pxmid[1]+","+c+"H"+(o+e.labelExtraX+l):a+="l"+e.labelExtraX+","+s+"v"+(c-s)+"h"+l}else a+="V"+(e.yLabelMid+e.labelExtraY)+"h"+l;t.append("path").classed("textline",!0).call(i.stroke,y.outsidetextfont.color).attr({"stroke-width":Math.min(2,y.outsidetextfont.size/8),d:a,fill:"none"})}})})});setTimeout(function(){v.selectAll("tspan").each(function(){var e=r.select(this);e.attr("dy")&&e.attr("dy",e.attr("dy"))})},0)}},444:function(e,t,n){"use strict";var r=n(203).appendArrayMultiPointValues;e.exports=function(e,t){var n={curveNumber:t.index,pointNumbers:e.pts,data:t._input,fullData:t,label:e.label,color:e.color,value:e.v,v:e.v};return 1===e.pts.length&&(n.pointNumber=n.i=e.pts[0]),r(n,t,e.pts),n}},445:function(e,t,n){"use strict";var r=n(3),o=n(275);e.exports=function(e){e._fullLayout._pielayer.selectAll(".trace").each(function(e){var t=e[0].trace,n=r.select(this);n.style({opacity:t.opacity}),n.selectAll("path.surface").each(function(e){r.select(this).call(o,e,t)})})}},446:function(e,t,n){"use strict";var r=n(5),o=n(228).getModuleCalcData;t.name="pie",t.plot=function(e){var t=r.getModule("pie"),n=o(e.calcdata,t)[0];n.length&&t.plot(e,n)},t.clean=function(e,t,n,r){var o=r._has&&r._has("pie"),i=t._has&&t._has("pie");o&&!i&&r._pielayer.selectAll("g.trace").remove()}}});